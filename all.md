---
created: 2024-09-17T20:37:45 (UTC +08:00)
tags: [pythonè®¾è®¡æ¨¡å¼]
source: https://blog.csdn.net/biggbang/article/details/128655980
author: 
---

# Pythonçš„23ç§è®¾è®¡æ¨¡å¼(å®Œæ•´ç‰ˆå¸¦æºç å®ä¾‹)_pythonè®¾è®¡æ¨¡å¼-CSDNåšå®¢

> ## Excerpt
> æ–‡ç« æµè§ˆé˜…è¯»2.5wæ¬¡ï¼Œç‚¹èµ74æ¬¡ï¼Œæ”¶è—409æ¬¡ã€‚è®¾è®¡æ¨¡å¼æ˜¯é¢å¯¹å„ç§é—®é¢˜è¿›è¡Œæç‚¼å’ŒæŠ½è±¡è€Œå½¢æˆçš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è®¾è®¡æ–¹æ¡ˆæ˜¯å‰äººä¸æ–­è¯•éªŒï¼Œè€ƒè™‘äº†å°è£…æ€§ã€å¤ç”¨æ€§ã€æ•ˆç‡ã€å¯ä¿®æ”¹ã€å¯ç§»æ¤ç­‰å„ç§å› ç´ çš„é«˜åº¦æ€»ç»“ã€‚å®ƒä¸é™äºä¸€ç§ç‰¹å®šçš„è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ€æƒ³å’Œæ–¹æ³•æœ€åçš„æœ€åç”±æœ¬äººæ°´å¹³æ‰€é™ï¼Œéš¾å…æœ‰é”™è¯¯ä»¥åŠä¸è¶³ä¹‹å¤„ï¼Œ å±å¹•å‰çš„é“ä»”é“å¥³ä»¬ å¦‚æœ‰å‘ç°ï¼Œæ³è¯·æŒ‡å‡ºï¼ä½ è½»è½»åœ°ç‚¹äº†ä¸ªèµï¼Œé‚£å°†åœ¨æˆ‘çš„å¿ƒé‡Œä¸–ç•Œå¢æ·»ä¸€é¢—æ˜äº®è€Œè€€çœ¼çš„æ˜Ÿï¼_pythonè®¾è®¡æ¨¡å¼

---
ä½œè€…ï¼šè™šåå”å”  
åšå®¢ï¼š[https://xuhss.com](https://xuhss.com/)

> æ—©é¤åº—ä¸ä¼šå¼€åˆ°æ™šä¸Šï¼Œæƒ³åƒçš„äººæ—©å°±æ¥äº†ï¼ğŸ˜„

## Pythonçš„23ç§è®¾è®¡æ¨¡å¼

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/2dcc151fa44c6a41da1f48dd25275a27.png)

### ä¸€ ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼

è®¾è®¡æ¨¡å¼æ˜¯é¢å¯¹å„ç§é—®é¢˜è¿›è¡Œæç‚¼å’ŒæŠ½è±¡è€Œå½¢æˆçš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è®¾è®¡æ–¹æ¡ˆæ˜¯å‰äººä¸æ–­è¯•éªŒï¼Œè€ƒè™‘äº†å°è£…æ€§ã€å¤ç”¨æ€§ã€æ•ˆç‡ã€å¯ä¿®æ”¹ã€å¯ç§»æ¤ç­‰å„ç§å› ç´ çš„é«˜åº¦æ€»ç»“ã€‚å®ƒä¸é™äºä¸€ç§ç‰¹å®šçš„è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ€æƒ³å’Œæ–¹æ³•

### äºŒ ä¸ºä»€ä¹ˆè¦æœ‰è®¾è®¡æ¨¡å¼

å…¬å¸äººäº‹ä¼šæœ‰å˜åŠ¨ï¼Œç¨‹åºå‘˜ä¹Ÿä¼šæˆé•¿ã€‚ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œä»£ç éå¸¸æœ‰å¯èƒ½ä¼šè¢«ç§»äº¤ï¼Œå³ä»£ç çš„ç¼–å†™è€…å’Œç»´æŠ¤è€…å¾ˆæœ‰å¯èƒ½ä¼šæ˜¯ä¸åŒçš„äººã€‚é‚£ä¹ˆä»£ç çš„å¯è¯»æ€§å°±æ˜¾å¾—éå¸¸é‡è¦äº†ã€‚ç”±äºé«˜çº§è¯­è¨€çš„å‡ºç°ï¼Œè®©æœºå™¨è¯»æ‡‚ä½ çš„æ„å›¾å·²ç»ä¸æ˜¯æœ€ä¸»è¦çš„â€œçŸ›ç›¾â€ï¼Œè€Œè®©äººè¯»æ‡‚ä½ çš„æ„å›¾æ‰æ˜¯æœ€é‡è¦ã€‚æŒ‰ç…§è®¾è®¡æ¨¡å¼ç¼–å†™çš„ä»£ç ï¼Œå…¶å¯è¯»æ€§ä¹Ÿä¼šå¤§å¤§æå‡ï¼Œåˆ©äºå›¢é˜Ÿé¡¹ç›®çš„ç»§æ‰¿å’Œæ‰©å±•

### ä¸‰ æœ‰é‚£äº›è®¾è®¡æ¨¡å¼

è®¾è®¡æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªå¤§ç±»ï¼š **åˆ›å»ºç±»è®¾è®¡æ¨¡å¼ã€ç»“æ„ç±»è®¾è®¡æ¨¡å¼ã€è¡Œä¸ºç±»è®¾è®¡æ¨¡å¼**

##### åˆ›å»ºç±»è®¾è®¡æ¨¡å¼ï¼ˆ5ç§ï¼‰

å•ä¾‹æ¨¡å¼ã€[å·¥å‚æ¨¡å¼](https://so.csdn.net/so/search?q=%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F&spm=1001.2101.3001.7020)ï¼ˆç®€å•å·¥å‚æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼

##### ç»“æ„ç±»è®¾è®¡æ¨¡å¼ï¼ˆ7ç§ï¼‰

ä»£ç†æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ã€é—¨é¢æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€æ¡¥æ¢æ¨¡å¼

##### è¡Œä¸ºç±»è®¾è®¡æ¨¡å¼ï¼ˆ11ç§ï¼‰

ç­–ç•¥æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€æ¨¡æ¿æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼  
è®¾è®¡æ¨¡å¼ä¹Ÿè¡ç”Ÿå‡ºäº†å¾ˆå¤šçš„æ–°çš„ç§ç±»ï¼Œä¸å±€é™äºè¿™23ç§

### å›› è®¾è®¡æ¨¡å¼ä¸æ¶æ„ï¼Œæ¡†æ¶çš„å…³ç³»

##### 1 è½¯ä»¶æ¡†æ¶ä¸è®¾è®¡æ¨¡å¼çš„å…³ç³»

è½¯ä»¶æ¡†æ¶éšç€è½¯ä»¶å·¥ç¨‹çš„å‘å±•è€Œå‡ºç°ï¼Œæ‰€è°“çš„è½¯ä»¶æ¡†æ¶ï¼Œæ˜¯æå–äº†ç‰¹å®šé¢†åŸŸçš„è½¯ä»¶çš„å…±æ€§éƒ¨åˆ†æ‰€å½¢æˆçš„è½¯ä»¶ä½“ç³»ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæˆç†Ÿçš„è½¯ä»¶ï¼Œè€Œæ›´åƒæ˜¯ä¸€ä¸ªâ€œåŠæˆå“â€ï¼Œç¨‹åºå‘˜åœ¨æ¡†æ¶ä¹‹ä¸Šï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æŸäº›ç‰¹å®šé¢†åŸŸå®ç°åˆå¿«åˆå¯é çš„äºŒæ¬¡å¼€å‘ã€‚  
**è®¾è®¡æ¨¡å¼** å’Œ **è½¯ä»¶æ¡†æ¶** åœ¨è½¯ä»¶è®¾è®¡ä¸­æ˜¯ä¸¤ä¸ª **ä¸åŒ** çš„ç ”ç©¶é¢†åŸŸï¼š  
Aã€è®¾è®¡æ¨¡å¼å¦‚å‰è¾¹çš„å®šä¹‰æ‰€è®²ï¼Œå®ƒæŒ‡çš„æ˜¯é’ˆå¯¹ä¸€ç±»é—®é¢˜çš„è§£å†³æ–¹æ³•ï¼Œä¸€ä¸ªè®¾è®¡æ¨¡å¼å¯åº”ç”¨äºä¸åŒçš„æ¡†æ¶å’Œè¢«ä¸åŒçš„è¯­è¨€æ‰€å®ç°ï¼›è€Œæ¡†æ¶åˆ™æ˜¯ä¸€ä¸ªåº”ç”¨çš„ä½“ç³»ç»“æ„ï¼Œæ˜¯ä¸€ç§æˆ–å¤šç§è®¾è®¡æ¨¡å¼å’Œä»£ç çš„æ··åˆä½“ï¼›  
Bã€è®¾è®¡æ¨¡å¼ç›¸è¾ƒäºæ¡†æ¶æ›´å®¹æ˜“ç§»æ¤ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å„ç§è¯­è¨€å®ç°ï¼Œè€Œè½¯ä»¶æ¡†æ¶åˆ™å—é™äºé¢†åŸŸå¤§ç¯å¢ƒã€‚è™½ç„¶è®¾è®¡æ¨¡å¼å’Œè½¯ä»¶æ¡†æ¶æœ‰å¾ˆå¤šä¸åŒï¼Œä½†åœ¨æŸäº›æ–¹é¢ä»–ä»¬äºŒè€…æ˜¯ç»Ÿä¸€çš„ï¼Œå³é‡è§†è½¯ä»¶å¤ç”¨ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚

##### 2 è½¯ä»¶æ¶æ„ä¸è®¾è®¡æ¨¡å¼çš„å…³ç³»

è½¯ä»¶æ¶æ„æ˜¯ä¸ªæ¯”è¾ƒå¤§çš„æ¦‚å¿µï¼Œæ¶æ„è¦è€ƒè™‘è½¯ä»¶çš„æ•´ä½“ç»“æ„ã€å±‚æ¬¡åˆ’åˆ†ä»¥åŠä¸åŒéƒ¨åˆ†é—´çš„åä½œå’Œäº¤äº’ç­‰ï¼Œæ¶æ„çš„ç€çœ¼ç‚¹åæ•´ä½“ã€‚  
ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¡†æ¶å’Œè®¾è®¡æ¨¡å¼çš„èŒƒå›´åˆ™å…·ä½“å¾ˆå¤šï¼Œæ¡†æ¶ç€çœ¼äºé¢†åŸŸå†…çš„è§£å†³æ–¹æ³•ï¼Œè€Œè®¾è®¡æ¨¡å¼åˆ™é’ˆå¯¹ä¸€ç±»é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå’Œè®¾è®¡æ€è·¯ã€‚  
æ€»ä½“æ¥è¯´ï¼Œè½¯ä»¶æ¶æ„å¯ä»¥ç”±ä¸åŒçš„æ¡†æ¶å’Œä¸åŒçš„è®¾è®¡æ¨¡å¼ï¼Œå†åŠ ä¸Šç‰¹å®šçš„æ„ä»¶ç»„åˆæ¥å®ç°ï¼›æ¡†æ¶å¯ä»¥æ ¹æ®è®¾è®¡æ¨¡å¼ç»“åˆç‰¹å®šç¼–ç¨‹è¯­è¨€å’Œç¯å¢ƒæ¥å®ç°ã€‚è®¾è®¡æ¨¡å¼å°±æ˜¯è§£å†³å•ä¸€é—®é¢˜çš„è®¾è®¡æ€è·¯å’Œè§£å†³æ–¹æ³•ã€‚

## 1 å•ä¾‹æ¨¡å¼

### ä¸€ã€æ€»çº¿

æ€»çº¿æ˜¯è®¡ç®—æœºå„ç§åŠŸèƒ½éƒ¨ä»¶æˆ–è€…è®¾å¤‡ä¹‹é—´ä¼ é€æ•°æ®ã€æ§åˆ¶ä¿¡å·ç­‰ä¿¡æ¯çš„å…¬å…±é€šä¿¡è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚  
ç°å‡è®¾æœ‰å¦‚ä¸‹åœºæ™¯ï¼šæŸä¸­å¤®å¤„ç†å™¨ï¼ˆCPUï¼‰é€šè¿‡æŸç§åè®®æ€»çº¿ä¸ä¸€ä¸ªä¿¡å·ç¯ç›¸è¿ï¼Œä¿¡å·ç¯æœ‰64ç§é¢œè‰²å¯ä»¥è®¾ç½®ï¼Œä¸­å¤®å¤„ç†å™¨ä¸Šè¿è¡Œç€ä¸‰ä¸ªçº¿ç¨‹ï¼Œéƒ½å¯ä»¥å¯¹è¿™ä¸ªä¿¡å·ç¯è¿›è¡Œæ§åˆ¶ï¼Œå¹¶ä¸”å¯ä»¥ç‹¬ç«‹è®¾ç½®è¯¥ä¿¡å·ç¯çš„é¢œè‰²ã€‚  
æŠ½è±¡æ‰åè®®ç»†èŠ‚ï¼ˆç”¨æ‰“å°è¡¨ç¤ºï¼‰ï¼Œå¦‚ä½•å®ç°çº¿ç¨‹å¯¹ä¿¡å·ç­‰çš„æ§åˆ¶é€»è¾‘ã€‚  
åŠ çº¿ç¨‹é”è¿›è¡Œæ§åˆ¶ï¼Œæ— ç–‘æ˜¯æœ€å…ˆæƒ³åˆ°çš„æ–¹æ³•ï¼Œä½†å„ä¸ªçº¿ç¨‹å¯¹é”çš„æ§åˆ¶ï¼Œæ— ç–‘åŠ å¤§äº†æ¨¡å—ä¹‹é—´çš„è€¦åˆã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ç”¨è®¾è®¡æ¨¡å¼ä¸­çš„å•ä¾‹æ¨¡å¼ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚  
**ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿå•ä¾‹æ¨¡å¼æ˜¯æŒ‡ï¼šä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚**  
å…·ä½“åˆ°æ­¤ä¾‹ä¸­ï¼Œæ€»çº¿å¯¹è±¡ï¼Œå°±æ˜¯ä¸€ä¸ªå•ä¾‹ï¼Œå®ƒä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå„ä¸ªçº¿ç¨‹å¯¹æ€»çº¿çš„è®¿é—®åªæœ‰ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ï¼Œå³æƒŸä¸€çš„å®ä¾‹ã€‚  
Pythonä»£ç å¦‚ä¸‹ï¼š

```
import threading
import time



class Singleton(object):  
    def __new__(cls, *args, **kw):
        if not hasattr(cls, '_instance'):
            orig = super(Singleton, cls)
            cls._instance = orig.__new__(cls, *args, **kw)
        return cls._instance



class Bus(Singleton):
    lock = threading.RLock()

    def sendData(self, data):
        self.lock.acquire()
        time.sleep(3)
        print("Sending Signal Data...", data)
        self.lock.release()



class VisitEntity(threading.Thread):
    my_bus = ""
    name = ""

    def getName(self):
        return self.name

    def setName(self, name):
        self.name = name

    def run(self):
        self.my_bus = Bus()
        self.my_bus.sendData(self.name)


if __name__ == "__main__":
    for i in range(3):
        print("Entity %d begin to run..." % i)
        my_entity = VisitEntity()
        my_entity.setName("Entity_"+str(i))
        my_entity.start()
```

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```
Entity 0 begin to run...
Entity 1 begin to run...
Entity 2 begin to run...
Sending Signal Data... Entity_0
Sending Signal Data... Entity_1
Sending Signal Data... Entity_2
```

åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸‰ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œï¼ˆè¿è¡Œç»“æœçš„å‰ä¸‰è¡Œå…ˆå¾ˆå¿«æ‰“å°å‡ºæ¥ï¼‰ï¼Œè€Œååˆ†åˆ«å ç”¨æ€»çº¿èµ„æºï¼ˆåä¸‰è¡Œæ¯éš”3ç§’æ‰“å°ä¸€è¡Œï¼‰ã€‚è™½ç„¶çœ‹ä¸Šå»æ€»çº¿Busè¢«å®ä¾‹åŒ–äº†ä¸‰æ¬¡ï¼Œä½†å®é™…ä¸Šåœ¨å†…å­˜é‡Œåªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚

### äºŒã€å•ä¾‹æ¨¡å¼

å•ä¾‹æ¨¡å¼æ˜¯æ‰€æœ‰è®¾è®¡æ¨¡å¼ä¸­æ¯”è¾ƒç®€å•çš„ä¸€ç±»ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼šEnsure a class has only one instance, and provide a global point of access to it.ï¼ˆä¿è¯æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¸”åœ¨å…¨å±€åªæœ‰ä¸€ä¸ªè®¿é—®ç‚¹ï¼‰

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/5835a4b9651198f90b51f6133e01a7ac.png)

### ä¸‰ã€å•ä¾‹æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨

##### å•ä¾‹æ¨¡å¼çš„ä¼˜ç‚¹

1ã€ç”±äºå•ä¾‹æ¨¡å¼è¦æ±‚åœ¨å…¨å±€å†…åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå› è€Œå¯ä»¥èŠ‚çœæ¯”è¾ƒå¤šçš„å†…å­˜ç©ºé—´ï¼›  
2ã€å…¨å±€åªæœ‰ä¸€ä¸ªæ¥å…¥ç‚¹ï¼Œå¯ä»¥æ›´å¥½åœ°è¿›è¡Œæ•°æ®åŒæ­¥æ§åˆ¶ï¼Œé¿å…å¤šé‡å ç”¨ï¼›3ã€å•ä¾‹å¯é•¿é©»å†…å­˜ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ã€‚

##### å•ä¾‹æ¨¡å¼çš„åº”ç”¨ä¸¾ä¾‹

1ã€ç”Ÿæˆå…¨å±€æƒŸä¸€çš„åºåˆ—å·ï¼›  
2ã€è®¿é—®å…¨å±€å¤ç”¨çš„æƒŸä¸€èµ„æºï¼Œå¦‚ç£ç›˜ã€æ€»çº¿ç­‰ï¼›  
3ã€å•ä¸ªå¯¹è±¡å ç”¨çš„èµ„æºè¿‡å¤šï¼Œå¦‚æ•°æ®åº“ç­‰ï¼›  
4ã€ç³»ç»Ÿå…¨å±€ç»Ÿä¸€ç®¡ç†ï¼Œå¦‚Windowsä¸‹çš„Task Managerï¼›  
5ã€ç½‘ç«™è®¡æ•°å™¨ã€‚

### å››ã€å•ä¾‹æ¨¡å¼çš„ç¼ºç‚¹

1ã€å•ä¾‹æ¨¡å¼çš„æ‰©å±•æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼›  
2ã€èµ‹äºäº†å•ä¾‹ä»¥å¤ªå¤šçš„èŒè´£ï¼ŒæŸç§ç¨‹åº¦ä¸Šè¿åå•ä¸€èŒè´£åŸåˆ™ï¼ˆå…­å¤§åŸåˆ™åé¢ä¼šè®²åˆ°ï¼‰;  
3ã€å•ä¾‹æ¨¡å¼æ˜¯å¹¶å‘åä½œè½¯ä»¶æ¨¡å—ä¸­éœ€è¦æœ€å…ˆå®Œæˆçš„ï¼Œå› è€Œå…¶ä¸åˆ©äºæµ‹è¯•ï¼›4ã€å•ä¾‹æ¨¡å¼åœ¨æŸç§æƒ…å†µä¸‹ä¼šå¯¼è‡´â€œèµ„æºç“¶é¢ˆâ€ã€‚

## 2 å·¥å‚ç±»ç›¸å…³æ¨¡å¼ï¼ˆå äº†ä¸¤ç§ï¼‰

### ä¸€ã€å¿«é¤ç‚¹é¤ç³»ç»Ÿ

æƒ³å¿…å¤§å®¶ä¸€å®šè§è¿‡ç±»ä¼¼äºéº¦å½“åŠ³è‡ªåŠ©ç‚¹é¤å°ä¸€ç±»çš„ç‚¹é¤ç³»ç»Ÿå§ã€‚åœ¨ä¸€ä¸ªå¤§çš„è§¦æ‘¸æ˜¾ç¤ºå±ä¸Šï¼Œæœ‰ä¸‰ç±»å¯ä»¥é€‰æ‹©çš„ä¸Šé¤å“ï¼šæ±‰å ¡ç­‰ä¸»é¤ã€å°é£Ÿã€é¥®æ–™ã€‚å½“æˆ‘ä»¬é€‰æ‹©å¥½è‡ªå·±éœ€è¦çš„é£Ÿç‰©ï¼Œæ”¯ä»˜å®Œæˆåï¼Œè®¢å•å°±ç”Ÿæˆäº†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨ä»Šå¤©çš„ä¸»è§’â€“å·¥å‚æ¨¡å¼â€“æ¥ç”Ÿæˆè¿™äº›é£Ÿç‰©çš„é€»è¾‘ä¸»ä½“ã€‚é¦–å…ˆï¼Œæ¥çœ‹ä¸»é¤çš„ç”Ÿæˆï¼ˆä»…ä»¥ä¸¤ç§æ±‰å ¡ä¸ºä¾‹ï¼‰ã€‚

```
class Burger():
    name = ""
    price = 0.0

    def getPrice(self):
        return self.price

    def setPrice(self, price):
        self.price = price

    def getName(self):
        return self.name


class cheeseBurger(Burger):
    def __init__(self):
        self.name = "cheese burger"
        self.price = 10.0


class spicyChickenBurger(Burger):
    def __init__(self):
        self.name = "spicy chicken burger"
        self.price = 15.0
```

**å…¶æ¬¡ï¼Œæ˜¯å°é£Ÿã€‚ï¼ˆå†…å®¹åŸºæœ¬ä¸€è‡´ï¼‰**

```
class Snack():
    name = ""
    price = 0.0
    type = "SNACK"

    def getPrice(self):
        return self.price

    def setPrice(self, price):
        self.price = price

    def getName(self):
        return self.name


class chips(Snack):
    def __init__(self):
        self.name = "chips"
        self.price = 6.0


class chickenWings(Snack):
    def __init__(self):
        self.name = "chicken wings"
        self.price = 12.0
```

**æœ€åï¼Œæ˜¯é¥®æ–™ã€‚**

```
class Beverage():
    name = ""
    price = 0.0
    type = "BEVERAGE"

    def getPrice(self):
        return self.price

    def setPrice(self, price):
        self.price = price

    def getName(self):
        return self.name


class coke(Beverage):
    def __init__(self):
        self.name = "coke"
        self.price = 4.0


class milk(Beverage):
    def __init__(self):
        self.name = "milk"
        self.price = 5.0
```

ä»¥ä¸Šçš„Burgerï¼ŒSnackï¼ŒBeverageï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯è¯¥å¿«é¤åº—çš„äº§å“ï¼Œç”±äºåªæä¾›äº†æŠ½è±¡æ–¹æ³•ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬å«æŠ½è±¡äº§å“ç±»ï¼Œè€Œcheese burgerç­‰6ä¸ªç”±æŠ½è±¡äº§å“ç±»è¡ç”Ÿå‡ºçš„å­ç±»ï¼Œå«ä½œå…·ä½“äº§å“ç±»ã€‚ **æ¥ä¸‹æ¥ï¼Œâ€œå·¥å‚â€å°±è¦å‡ºç°äº†ã€‚**

```
class foodFactory():
    type = ""

    def createFood(self, foodClass):
        print self.type, " factory produce a instance."
        foodIns = foodClass()
        return foodIns


class burgerFactory(foodFactory):
    def __init__(self):
        self.type = "BURGER"


class snackFactory(foodFactory):
    def __init__(self):
        self.type = "SNACK"


class beverageFactory(foodFactory):
    def __init__(self):
        self.type = "BEVERAGE"
```

åŒæ ·ï¼ŒfoodFactoryä¸ºæŠ½è±¡çš„å·¥å‚ç±»ï¼Œè€ŒburgerFactoryï¼ŒsnackFactoryï¼ŒbeverageFactoryä¸ºå…·ä½“çš„å·¥å‚ç±»ã€‚åœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå·¥å‚æ¨¡å¼æ˜¯å¦‚ä½•â€œç”Ÿäº§â€äº§å“çš„å‘¢ï¼Ÿ

```
if __name__ == "__main__":
    burger_factory = burgerFactory()
    snack_factorry = snackFactory()
    beverage_factory = beverageFactory()
    cheese_burger = burger_factory.createFood(cheeseBurger)
    print (cheese_burger.getName(), cheese_burger.getPrice())
    chicken_wings = snack_factorry.createFood(chickenWings)
    print (chicken_wings.getName(), chicken_wings.getPrice())
    coke_drink = beverage_factory.createFood(coke)
    print (coke_drink.getName(), coke_drink.getPrice())
```

å¯è§ï¼Œä¸šåŠ¡ä¸­å…ˆç”Ÿæˆäº†å·¥å‚ï¼Œç„¶åç”¨å·¥å‚ä¸­çš„createFoodæ–¹æ³•å’Œå¯¹åº”çš„å‚æ•°ç›´æ¥ç”Ÿæˆäº§å“å®ä¾‹ã€‚æ‰“å°ç»“æœå¦‚ä¸‹ï¼šBURGER factory produce a instance.cheese burger 10.0SNACK factory produce a instance.chicken wings 12.0BEVERAGE factory produce a instance.coke 4.0

### äºŒã€å·¥å‚æ¨¡å¼ã€[ç®€å•å·¥å‚æ¨¡å¼](https://so.csdn.net/so/search?q=%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F&spm=1001.2101.3001.7020)ã€æŠ½è±¡å·¥å‚æ¨¡å¼

å·¥å‚æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚å…¶é€šç”¨ç±»å›¾å¦‚ä¸‹ã€‚å…¶äº§å“ç±»å®šä¹‰äº§å“çš„å…¬å…±å±æ€§å’Œæ¥å£ï¼Œå·¥å‚ç±»å®šä¹‰äº§å“å®ä¾‹åŒ–çš„â€œæ–¹å¼â€ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/4885226bd6161a50a56bdd704403c66f.png)

)

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/2b9c4d0db808995f169aba197a94b104.png)

åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå·¥å‚åœ¨ä½¿ç”¨å‰å¿…é¡»å®ä¾‹åŒ–ã€‚å¦‚æœï¼ŒæŠŠå·¥å‚åŠ ä¸ªç±»æ–¹æ³•ï¼Œå†™æˆå¦‚ä¸‹å½¢å¼ï¼š

```
class simpleFoodFactory():
    @classmethod
    def createFood(cls,foodClass):
        print "Simple factory produce a instance."
        foodIns = foodClass()
        return foodIns
```

åœ¨åœºæ™¯ä¸­å†™æˆå¦‚ä¸‹å½¢å¼ï¼šspicy\_chicken\_burger=simpleFoodFactory.createFood(spicyChickenBurger)è¿™æ ·ï¼Œçœå»äº†å°†å·¥å‚å®ä¾‹åŒ–çš„è¿‡ç¨‹ã€‚è¿™ç§æ¨¡å¼å°±å«åšç®€å•å·¥å‚æ¨¡å¼ã€‚è¿˜æ˜¯åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒcreateFoodæ–¹æ³•ä¸­å¿…é¡»ä¼ å…¥foodClassæ‰å¯ä»¥æŒ‡å®šç”Ÿæˆçš„foodå®ä¾‹ç§ç±»ï¼Œå¦‚æœï¼Œå°†æ¯ä¸€ä¸ªç»†è‡´çš„äº§å“éƒ½å»ºç«‹å¯¹åº”çš„å·¥å‚ï¼ˆå¦‚cheeseBurgerå»ºç«‹å¯¹åº”ä¸€ä¸ªcheeseBurgerFactoryï¼‰ï¼Œè¿™æ ·ï¼Œç”Ÿæˆé£Ÿç‰©æ—¶ï¼ŒfoodClassä¹Ÿä¸å¿…æŒ‡å®šã€‚äº‹å®ä¸Šï¼Œæ­¤æ—¶ï¼ŒburgerFactoryå°±æ˜¯å…·ä½“é£Ÿç‰©å·¥å‚çš„ä¸€å±‚æŠ½è±¡ã€‚è¿™ç§æ¨¡å¼ï¼Œå°±æ˜¯[æŠ½è±¡å·¥å‚æ¨¡å¼](https://so.csdn.net/so/search?q=%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F&spm=1001.2101.3001.7020)ã€‚

### ä¸‰ã€å·¥å‚æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨

å·¥å‚æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç‚¹ï¼š  
1ã€å·¥å‚æ¨¡å¼å·¨æœ‰éå¸¸å¥½çš„å°è£…æ€§ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼›åœ¨æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­ï¼Œå…¶ç»“æ„è¿˜å¯ä»¥éšç€éœ€è¦è¿›è¡Œæ›´æ·±æˆ–è€…æ›´æµ…çš„æŠ½è±¡å±‚çº§è°ƒæ•´ï¼Œéå¸¸çµæ´»ï¼›  
2ã€å±è”½äº§å“ç±»ï¼Œä½¿äº§å“çš„è¢«ä½¿ç”¨ä¸šåŠ¡åœºæ™¯å’Œäº§å“çš„åŠŸèƒ½ç»†èŠ‚å¯ä»¥åˆ†è€Œå¼€å‘è¿›è¡Œï¼Œæ˜¯æ¯”è¾ƒå…¸å‹çš„è§£è€¦æ¡†æ¶ã€‚  
å·¥å‚æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä½¿ç”¨åœºæ™¯ï¼š  
1ã€å½“ç³»ç»Ÿå®ä¾‹è¦æ±‚æ¯”è¾ƒçµæ´»å’Œå¯æ‰©å±•æ—¶ï¼Œå¯ä»¥è€ƒè™‘å·¥å‚æ¨¡å¼æˆ–è€…æŠ½è±¡å·¥å‚æ¨¡å¼å®ç°ã€‚æ¯”å¦‚ï¼Œåœ¨é€šä¿¡ç³»ç»Ÿä¸­ï¼Œé«˜å±‚é€šä¿¡åè®®ä¼šå¾ˆå¤šæ ·åŒ–ï¼ŒåŒæ—¶ï¼Œä¸Šå±‚åè®®ä¾èµ–äºä¸‹å±‚åè®®ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹åº”å»ºç«‹å¯¹åº”å±‚çº§çš„æŠ½è±¡å·¥å‚ï¼Œæ ¹æ®ä¸åŒçš„â€œäº§å“éœ€æ±‚â€å»ç”Ÿäº§å®šåˆ¶çš„å®ä¾‹ã€‚

### å››ã€å·¥å‚ç±»æ¨¡å¼çš„ä¸è¶³

1ã€å·¥å‚æ¨¡å¼ç›¸å¯¹äºç›´æ¥ç”Ÿæˆå®ä¾‹è¿‡ç¨‹è¦å¤æ‚ä¸€äº›ï¼Œæ‰€ä»¥ï¼Œåœ¨å°é¡¹ç›®ä¸­ï¼Œå¯ä»¥ä¸ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼›  
2ã€æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­ï¼Œäº§å“ç±»çš„æ‰©å±•æ¯”è¾ƒéº»çƒ¦ã€‚æ¯•ç«Ÿï¼Œæ¯ä¸€ä¸ªå·¥å‚å¯¹åº”æ¯ä¸€ç±»äº§å“ï¼Œäº§å“æ‰©å±•ï¼Œå°±æ„å‘³ç€ç›¸åº”çš„æŠ½è±¡å·¥å‚ä¹Ÿè¦æ‰©å±•

## 3 å»ºé€ è€…æ¨¡å¼

### ä¸€ã€å¿«é¤ç‚¹é¤ç³»ç»Ÿ

ä»Šå¤©çš„ä¾‹å­ï¼Œè¿˜æ˜¯ä¸Šä¸€æ¬¡è°ˆåˆ°çš„å¿«é¤ç‚¹é¤ç³»ç»Ÿã€‚åªä¸è¿‡ï¼Œä»Šå¤©æˆ‘ä»¬ä»è®¢å•çš„è§’åº¦æ¥æ„é€ è¿™ä¸ªç³»ç»Ÿã€‚æœ€å…ˆè¿˜æ˜¯æœ‰è¯·ä¸Šæ¬¡çš„ä¸»è§’ä»¬ï¼š **ä¸»é¤ï¼š**

```
class Burger():
    name=""
    price=0.0
    def getPrice(self):
        return self.price
    def setPrice(self,price):
        self.price=price
    def getName(self):
        return self.name
class cheeseBurger(Burger):
    def __init__(self):
        self.name="cheese burger"
        self.price=10.0
class spicyChickenBurger(Burger):
    def __init__(self):
        self.name="spicy chicken burger"
        self.price=15.0
```

**å°é£Ÿï¼š**

```
class Snack():
    name = ""
    price = 0.0
    type = "SNACK"
    def getPrice(self):
        return self.price
    def setPrice(self, price):
        self.price = price
    def getName(self):
        return self.name


class chips(Snack):
    def __init__(self):
        self.name = "chips"
        self.price = 6.0


class chickenWings(Snack):
    def __init__(self):
        self.name = "chicken wings"
        self.price = 12.0
```

**é¥®æ–™ï¼š**

```
class Beverage():
    name = ""
    price = 0.0
    type = "BEVERAGE"
    def getPrice(self):
        return self.price
    def setPrice(self, price):
        self.price = price
    def getName(self):
        return self.name


class coke(Beverage):
    def __init__(self):
        self.name = "coke"
        self.price = 4.0


class milk(Beverage):
    def __init__(self):
        self.name = "milk"
        self.price = 5.0
```

**æœ€ç»ˆï¼Œæˆ‘ä»¬æ˜¯è¦å»ºé€ ä¸€ä¸ªè®¢å•ï¼Œå› è€Œï¼Œéœ€è¦ä¸€ä¸ªè®¢å•ç±»ã€‚å‡è®¾ï¼Œä¸€ä¸ªè®¢å•ï¼ŒåŒ…æ‹¬ä¸€ä»½ä¸»é£Ÿï¼Œä¸€ä»½å°é£Ÿï¼Œä¸€ç§é¥®æ–™ã€‚ï¼ˆçœå»ä¸€äº›å¼‚å¸¸åˆ¤æ–­ï¼‰**

```
class order():
    burger=""
    snack=""
    beverage=""
    def __init__(self,orderBuilder):
        self.burger=orderBuilder.bBurger
        self.snack=orderBuilder.bSnack
        self.beverage=orderBuilder.bBeverage
    def show(self):
        print "Burger:%s"%self.burger.getName()
        print "Snack:%s"%self.snack.getName()
        print "Beverage:%s"%self.beverage.getName()
```

**ä»£ç ä¸­çš„orderBuilderæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿè¿™ä¸ªorderBuilderå°±æ˜¯å»ºé€ è€…æ¨¡å¼ä¸­æ‰€è°“çš„â€œå»ºé€ è€…â€äº†ï¼Œå…ˆä¸è¦é—®ä¸ºä»€ä¹ˆä¸åœ¨orderç±»ä¸­æŠŠæ‰€æœ‰å†…å®¹éƒ½å¡«ä¸Šï¼Œè€Œéè¦ç”¨builderå»åˆ›å»ºã€‚æ¥ç€å¾€ä¸‹çœ‹ã€‚** **orderBuilderçš„å®ç°å¦‚ä¸‹** ï¼š

```
class orderBuilder():
    bBurger=""
    bSnack=""
    bBeverage=""
    def addBurger(self,xBurger):
        self.bBurger=xBurger
    def addSnack(self,xSnack):
        self.bSnack=xSnack
    def addBeverage(self,xBeverage):
        self.bBeverage=xBeverage
    def build(self):
        return order(self)
```

**åœ¨åœºæ™¯ä¸­å¦‚ä¸‹å»å®ç°è®¢å•çš„ç”Ÿæˆï¼š**

```
if  __name__=="__main__":
    order_builder=orderBuilder()
    order_builder.addBurger(spicyChickenBurger())
    order_builder.addSnack(chips())
    order_builder.addBeverage(milk())
    order_1=order_builder.build()
    order_1.show()
```

æ‰“å°ç»“æœå¦‚ä¸‹ï¼šBurger:spicy chicken burgerSnack:chipsBeverage:milk

### äºŒã€å»ºé€ è€…æ¨¡å¼

å»ºé€ è€…æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚å»ºé€ è€…æ¨¡å¼çš„ä½œç”¨ï¼Œå°±æ˜¯å°†â€œæ„å»ºâ€å’Œâ€œè¡¨ç¤ºâ€åˆ†ç¦»ï¼Œä»¥è¾¾åˆ°è§£è€¦çš„ä½œç”¨ã€‚åœ¨ä¸Šé¢è®¢å•çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå¦‚æœå°†orderç›´æ¥é€šè¿‡å‚æ•°å®šä¹‰å¥½ï¼ˆå…¶æ„å»ºä¸è¡¨ç¤ºæ²¡æœ‰åˆ†ç¦»ï¼‰ï¼ŒåŒæ—¶åœ¨å¤šå¤„è¿›è¡Œè®¢å•ç”Ÿæˆï¼Œæ­¤æ—¶éœ€è¦ä¿®æ”¹è®¢å•å†…å®¹ï¼Œåˆ™éœ€è¦ä¸€å¤„å¤„å»ä¿®æ”¹ï¼Œä¸šåŠ¡é£é™©ä¹Ÿå°±æé«˜äº†ä¸å°‘ã€‚åœ¨å»ºé€ è€…æ¨¡å¼ä¸­ï¼Œè¿˜å¯ä»¥åŠ ä¸€ä¸ªDirectorç±»ï¼Œç”¨ä»¥å®‰æ’å·²æœ‰æ¨¡å—çš„æ„é€ æ­¥éª¤ã€‚å¯¹äºåœ¨å»ºé€ è€…ä¸­æœ‰æ¯”è¾ƒä¸¥æ ¼çš„é¡ºåºè¦æ±‚æ—¶ï¼Œè¯¥ç±»ä¼šæœ‰æ¯”è¾ƒå¤§çš„ç”¨å¤„ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒDirectorå®ç°å¦‚ä¸‹ï¼š

```
class orderDirector():
    order_builder=""
    def __init__(self,order_builder):
        self.order_builder=order_builder
    def createOrder(self,burger,snack,beverage):
        self.order_builder.addBurger(burger)
        self.order_builder.addSnack(snack)
        self.order_builder.addBeverage(beverage)
        return self.order_builder.build()
```

**é€šè¿‡createOrderç›´æ¥ä»£å…¥å‚æ•°ï¼Œå³å¯ç›´æ¥ç”Ÿæˆè®¢å•ã€‚**

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/b11d361e5b9f0478fef46265d7572e77.png)

### ä¸‰ã€å»ºé€ è€…æ¨¡å¼çš„ä¼˜ç‚¹å’Œä½¿ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å°è£…æ€§å¥½ï¼Œç”¨æˆ·å¯ä»¥ä¸çŸ¥é“å¯¹è±¡çš„å†…éƒ¨æ„é€ å’Œç»†èŠ‚ï¼Œå°±å¯ä»¥ç›´æ¥å»ºé€ å¯¹è±¡ï¼›2ã€ç³»ç»Ÿæ‰©å±•å®¹æ˜“ï¼›3ã€å»ºé€ è€…æ¨¡å¼æ˜“äºä½¿ç”¨ï¼Œéå¸¸çµæ´»ã€‚åœ¨æ„é€ æ€§çš„åœºæ™¯ä¸­å¾ˆå®¹æ˜“å®ç°â€œæµæ°´çº¿â€ï¼›4ã€ä¾¿äºæ§åˆ¶ç»†èŠ‚ã€‚

##### ä½¿ç”¨åœºæ™¯ï¼š

1ã€ç›®æ ‡å¯¹è±¡ç”±ç»„ä»¶æ„æˆçš„åœºæ™¯ä¸­ï¼Œå¾ˆé€‚åˆå»ºé€ è€…æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€æ¬¾èµ›è½¦æ¸¸æˆä¸­ï¼Œè½¦è¾†ç”Ÿæˆæ—¶ï¼Œéœ€è¦æ ¹æ®çº§åˆ«ã€ç¯å¢ƒç­‰ï¼Œé€‰æ‹©è½®èƒã€æ‚¬æŒ‚ã€éª¨æ¶ç­‰éƒ¨ä»¶ï¼Œæ„é€ ä¸€è¾†â€œèµ›è½¦â€ï¼›2ã€åœ¨å…·ä½“çš„åœºæ™¯ä¸­ï¼Œå¯¹è±¡å†…éƒ¨æ¥å£éœ€è¦æ ¹æ®ä¸åŒçš„å‚æ•°è€Œè°ƒç”¨é¡ºåºæœ‰æ‰€ä¸åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªæ¤ç‰©å…»æ®–å™¨ç³»ç»Ÿï¼Œå¯¹äºæŸäº›ä¸åŒçš„æ¤ç‰©ï¼Œæµ‡æ°´ã€æ–½åŠ è‚¥æ–™çš„é¡ºåºè¦æ±‚å¯èƒ½ä¼šä¸åŒï¼Œå› è€Œå¯ä»¥åœ¨Directorä¸­ç»´æŠ¤ä¸€ä¸ªç±»ä¼¼äºé˜Ÿåˆ—çš„ç»“æ„ï¼Œåœ¨å®ä¾‹åŒ–æ—¶ä½œä¸ºå‚æ•°ä»£å…¥åˆ°å…·ä½“å»ºé€ è€…ä¸­ã€‚

### å››ã€å»ºé€ è€…æ¨¡å¼çš„ç¼ºç‚¹

1ã€â€œåŠ å·¥å·¥è‰ºâ€å¯¹ç”¨æˆ·ä¸é€æ˜ã€‚ï¼ˆå°è£…çš„ä¸¤é¢æ€§ï¼‰

## 4 åŸå‹æ¨¡å¼

### ä¸€ã€å›¾å±‚

å¤§å®¶å¦‚æœç”¨è¿‡ç±»ä¼¼äºPhotoshopçš„å¹³é¢è®¾è®¡è½¯ä»¶ï¼Œä¸€å®šéƒ½çŸ¥é“å›¾å±‚çš„æ¦‚å¿µã€‚å›¾å±‚æ¦‚å¿µçš„æå‡ºï¼Œä½¿å¾—è®¾è®¡ã€å›¾å½¢ä¿®æ”¹ç­‰æ“ä½œæ›´åŠ ä¾¿åˆ©ã€‚è®¾è®¡å¸ˆæ—¢å¯ä»¥ä¿®æ”¹å’Œç»˜åˆ¶å½“å‰å›¾åƒå¯¹è±¡ï¼Œåˆå¯ä»¥ä¿ç•™å…¶å®ƒå›¾åƒå¯¹è±¡ï¼Œé€»è¾‘æ¸…æ™°ï¼Œä¸”å¯ä»¥åŠæ—¶å¾—åˆ°åé¦ˆã€‚æœ¬èŠ‚å†…å®¹ï¼Œå°†ä»¥å›¾å±‚ä¸ºä¸»è§’ï¼Œä»‹ç»åŸå‹æ¨¡å¼ã€‚é¦–å…ˆï¼Œè®¾è®¡ä¸€ä¸ªå›¾å±‚å¯¹è±¡ã€‚

```
class simpleLayer:
    background=[0,0,0,0]
    content="blank"
    def getContent(self):
        return self.content
    def getBackgroud(self):
        return self.background
    def paint(self,painting):
        self.content=painting
    def setParent(self,p):
        self.background[3]=p
    def fillBackground(self,back):
        self.background=back
```

åœ¨å®é™…çš„å®ç°ä¸­ï¼Œå›¾å±‚å®ç°ä¼šå¾ˆå¤æ‚ï¼Œè¿™é‡Œä»…ä»‹ç»ç›¸å…³çš„è®¾è®¡æ¨¡å¼ï¼Œåšäº†æ¯”è¾ƒå¤§çš„æŠ½è±¡ï¼Œç”¨backgroundè¡¨ç¤ºèƒŒæ™¯çš„RGBAï¼Œç®€å•ç”¨contentè¡¨ç¤ºå†…å®¹ï¼Œé™¤äº†ç›´æ¥ç»˜ç”»ï¼Œè¿˜å¯ä»¥è®¾ç½®é€æ˜åº¦ã€‚æ–°å»ºå›¾å±‚ï¼Œå¡«å……è“åº•å¹¶ç”»ä¸€åªç‹—ï¼Œå¯ä»¥ç®€å•è¡¨ç¤ºå¦‚ä¸‹ï¼š

```
if  __name__=="__main__":
    dog_layer=simpleLayer()
    dog_layer.paint("Dog")
    dog_layer.fillBackground([0,0,255,0])
    print "Background:",dog_layer.getBackgroud()
    print "Painting:",dog_layer.getContent()
```

\*\*æ‰“å°å¦‚ä¸‹ï¼š\*\*Background: \[0, 0, 255, 0\]Painting: Dog  
æ¥ä¸‹æ¥ï¼Œå¦‚æœéœ€è¦å†ç”Ÿæˆä¸€ä¸ªåŒæ ·çš„å›¾å±‚ï¼Œå†å¡«å……åŒæ ·çš„é¢œè‰²ï¼Œå†ç”»ä¸€åªåŒæ ·ç‹—ï¼Œè¯¥å¦‚ä½•åšå‘¢ï¼Ÿè¿˜æ˜¯æŒ‰ç…§æ–°å»ºå›¾å±‚ã€å¡«å……èƒŒæ™¯ã€ç”»çš„é¡ºåºä¹ˆï¼Ÿæˆ–è®¸ä½ å·²ç»å‘ç°äº†ï¼Œè¿™é‡Œå¯ä»¥ç”¨å¤åˆ¶çš„æ–¹æ³•æ¥å®ç°ï¼Œè€Œå¤åˆ¶ï¼ˆcloneï¼‰è¿™ä¸ªåŠ¨ä½œï¼Œå°±æ˜¯åŸå‹æ¨¡å¼çš„ç²¾é«“äº†ã€‚æŒ‰ç…§æ­¤æ€è·¯ï¼Œåœ¨å›¾å±‚ç±»ä¸­æ–°åŠ å…¥ä¸¤ä¸ªæ–¹æ³•ï¼šcloneå’Œdeep\_clone

```
from copy import copy, deepcopy
class simpleLayer:
    background=[0,0,0,0]
    content="blank"
    def getContent(self):
        return self.content
    def getBackgroud(self):
        return self.background
    def paint(self,painting):
        self.content=painting
    def setParent(self,p):
        self.background[3]=p
    def fillBackground(self,back):
        self.background=back
    def clone(self):
        return copy(self)
    def deep_clone(self):
        return deepcopy(self)
if  __name__=="__main__":
    dog_layer=simpleLayer()
    dog_layer.paint("Dog")
    dog_layer.fillBackground([0,0,255,0])
    print "Background:",dog_layer.getBackgroud()
    print "Painting:",dog_layer.getContent()
    another_dog_layer=dog_layer.clone()
    print "Background:", another_dog_layer.getBackgroud()
    print "Painting:", another_dog_layer.getContent()
```

æ‰“å°ç»“æœå¦‚ä¸‹ï¼šBackground: \[0, 0, 255, 0\]Painting: DogBackground: \[0, 0, 255, 0\]Painting: Dog  
cloneå’Œdeep\_cloneæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œéƒ½ä¼šæ¶‰åŠåˆ°æ·±æ‹·è´å’Œæµ…æ‹·è´çš„é—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæµ…æ‹·è´ä¼šæ‹·è´å¯¹è±¡å†…å®¹åŠå…¶å†…å®¹çš„å¼•ç”¨æˆ–è€…å­å¯¹è±¡çš„å¼•ç”¨ï¼Œä½†ä¸ä¼šæ‹·è´å¼•ç”¨çš„å†…å®¹å’Œå­å¯¹è±¡æœ¬èº«ï¼›è€Œæ·±æ‹·è´ä¸ä»…æ‹·è´äº†å¯¹è±¡å’Œå†…å®¹çš„å¼•ç”¨ï¼Œä¹Ÿä¼šæ‹·è´å¼•ç”¨çš„å†…å®¹ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬æ·±æ‹·è´æ¯”æµ…æ‹·è´å¤åˆ¶å¾—æ›´åŠ å®Œå…¨ï¼Œä½†ä¹Ÿæ›´å èµ„æºï¼ˆåŒ…æ‹¬æ—¶é—´å’Œç©ºé—´èµ„æºï¼‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢çš„åœºæ™¯ï¼Œå¯ä»¥è¯´æ˜æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ã€‚

```
if  __name__=="__main__":
    dog_layer=simpleLayer()
    dog_layer.paint("Dog")
    dog_layer.fillBackground([0,0,255,0])
    print "Original Background:",dog_layer.getBackgroud()
    print "Original Painting:",dog_layer.getContent()
    another_dog_layer=dog_layer.clone()
    another_dog_layer.setParent(128)
    another_dog_layer.paint("Puppy")
    print "Original Background:", dog_layer.getBackgroud()
    print "Original Painting:", dog_layer.getContent()
    print "Copy Background:", another_dog_layer.getBackgroud()
    print "Copy Painting:", another_dog_layer.getContent()
```

\*\*æ‰“å°å¦‚ä¸‹ï¼š\*\*Original Background: \[0, 0, 255, 0\]Original Painting: DogOriginal Background: \[0, 0, 255, 128\]Original Painting: DogCopy Background: \[0, 0, 255, 128\]Copy Painting: Puppy  
æµ…æ‹·è´åï¼Œç›´æ¥å¯¹æ‹·è´åå¼•ç”¨ï¼ˆè¿™é‡Œçš„æ•°ç»„ï¼‰è¿›è¡Œæ“ä½œï¼ŒåŸå§‹å¯¹è±¡ä¸­è¯¥å¼•ç”¨çš„å†…å®¹ä¹Ÿä¼šå˜åŠ¨ã€‚å¦‚æœå°†another\_dog\_layer=dog\_layer.clone()æ¢æˆanother\_dog\_layer=dog\_layer.deep\_clone()ï¼Œå³æŠŠæµ…æ‹·è´æ¢æˆæ·±æ‹·è´ï¼Œå…¶å¦‚æœå¦‚ä¸‹ï¼š  
Original Background: \[0, 0, 255, 0\]Original Painting: DogOriginal Background: \[0, 0, 255, 0\]Original Painting: DogCopy Background: \[0, 0, 255, 128\]Copy Painting: Puppy  
æ·±æ‹·è´åï¼Œå…¶å¯¹è±¡å†…çš„å¼•ç”¨å†…å®¹ä¹Ÿè¢«è¿›è¡Œäº†å¤åˆ¶ã€‚

### äºŒã€åŸå‹æ¨¡å¼

åŸå‹æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡å¤åˆ¶è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼Œè¿›è¡Œcloneæ“ä½œåï¼Œæ–°å¯¹è±¡çš„æ„é€ å‡½æ•°æ²¡æœ‰è¢«äºŒæ¬¡æ‰§è¡Œï¼Œæ–°å¯¹è±¡çš„å†…å®¹æ˜¯ä»å†…å­˜é‡Œç›´æ¥æ‹·è´çš„ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/ac2eb64ab2dd1956c50454311d110706.png)

### ä¸‰ã€åŸå‹æ¨¡å¼çš„ä¼˜ç‚¹å’Œä½¿ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€æ€§èƒ½æä½³ï¼Œç›´æ¥æ‹·è´æ¯”åœ¨å†…å­˜é‡Œç›´æ¥æ–°å»ºå®ä¾‹èŠ‚çœä¸å°‘çš„èµ„æºï¼›2ã€ç®€åŒ–å¯¹è±¡åˆ›å»ºï¼ŒåŒæ—¶é¿å…äº†æ„é€ å‡½æ•°çš„çº¦æŸï¼Œä¸å—æ„é€ å‡½æ•°çš„é™åˆ¶ç›´æ¥å¤åˆ¶å¯¹è±¡ï¼Œæ˜¯ä¼˜ç‚¹ï¼Œä¹Ÿæœ‰éšæ‚£ï¼Œè¿™ä¸€ç‚¹è¿˜æ˜¯éœ€è¦å¤šç•™æ„ä¸€äº›ã€‚

##### ä½¿ç”¨åœºæ™¯ï¼š

1ã€å¯¹è±¡åœ¨ä¿®æ”¹è¿‡åï¼Œéœ€è¦å¤åˆ¶å¤šä»½çš„åœºæ™¯ã€‚å¦‚æœ¬ä¾‹å’Œå…¶å®ƒä¸€äº›æ¶‰åŠåˆ°å¤åˆ¶ã€ç²˜è´´çš„åœºæ™¯ï¼›2ã€éœ€è¦ä¼˜åŒ–èµ„æºçš„æƒ…å†µã€‚å¦‚ï¼Œéœ€è¦åœ¨å†…å­˜ä¸­åˆ›å»ºéå¸¸å¤šçš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡åŸå‹æ¨¡å¼æ¥å‡å°‘èµ„æºæ¶ˆè€—ã€‚æ­¤æ—¶ï¼ŒåŸå‹æ¨¡å¼ä¸å·¥å‚æ¨¡å¼é…åˆèµ·æ¥ï¼Œä¸ç®¡åœ¨é€»è¾‘ä¸Šè¿˜æ˜¯ç»“æ„ä¸Šï¼Œéƒ½ä¼šè¾¾åˆ°ä¸é”™çš„æ•ˆæœï¼›3ã€æŸäº›é‡å¤æ€§çš„å¤æ‚å·¥ä½œä¸éœ€è¦å¤šæ¬¡è¿›è¡Œã€‚å¦‚å¯¹äºä¸€ä¸ªè®¾å¤‡çš„è®¿é—®æƒé™ï¼Œå¤šä¸ªå¯¹è±¡ä¸ç”¨å„ç”³è¯·ä¸€éæƒé™ï¼Œç”±ä¸€ä¸ªè®¾å¤‡ç”³è¯·åï¼Œé€šè¿‡åŸå‹æ¨¡å¼å°†æƒé™äº¤ç»™å¯ä¿¡èµ–çš„å¯¹è±¡ï¼Œæ—¢å¯ä»¥æå‡æ•ˆç‡ï¼Œåˆå¯ä»¥èŠ‚çº¦èµ„æºã€‚

### å››ã€åŸå‹æ¨¡å¼çš„ç¼ºç‚¹

1ã€æ·±æ‹·è´å’Œæµ…æ‹·è´çš„ä½¿ç”¨éœ€è¦äº‹å…ˆè€ƒè™‘å‘¨åˆ°ï¼›2ã€æŸäº›ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ‹·è´ä¼šå½±å“åˆ°é™æ€å˜é‡å’Œé™æ€å‡½æ•°çš„ä½¿ç”¨ã€‚

## 5 ä»£ç†æ¨¡å¼

### ä¸€ã€ç½‘ç»œæœåŠ¡å™¨é…ç½®ç™½åå•

ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„æ¨¡å¼ï¼Œåœ¨å¤šä¸ªè‘—åçš„å¼€æºè½¯ä»¶å’Œå½“å‰å¤šä¸ªè‘—åçš„äº’è”ç½‘äº§å“åå°ç¨‹åºä¸­éƒ½æœ‰æ‰€åº”ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªæŠ½è±¡åŒ–çš„ç®€å•ä¾‹å­ï¼Œæ¥è¯´æ˜ä»£ç†æ¨¡å¼ã€‚é¦–å…ˆï¼Œæ„é€ ä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨ï¼š

```
info_struct=dict()
info_struct["addr"]=10000
info_struct["content"]=""
class Server:
    content=""
    def recv(self,info):
        pass
    def send(self,info):
        pass
    def show(self):
        pass
class infoServer(Server):
    def recv(self,info):
        self.content=info
        return "recv OK!"
    def send(self,info):
        pass
    def show(self):
        print "SHOW:%s"%self.content
```

infoServeræœ‰æ¥æ”¶å’Œå‘é€çš„åŠŸèƒ½ï¼Œå‘é€åŠŸèƒ½ç”±äºæš‚æ—¶ç”¨ä¸åˆ°ï¼Œä¿ç•™ã€‚å¦å¤–æ–°åŠ ä¸€ä¸ªæ¥å£showï¼Œç”¨æ¥å±•ç¤ºæœåŠ¡å™¨æ¥æ”¶çš„å†…å®¹ã€‚æ¥æ”¶çš„æ•°æ®æ ¼å¼å¿…é¡»å¦‚info\_structæ‰€ç¤ºï¼ŒæœåŠ¡å™¨ä»…æ¥å—info\_structçš„contentå­—æ®µã€‚é‚£ä¹ˆï¼Œå¦‚ä½•ç»™è¿™ä¸ªæœåŠ¡å™¨è®¾ç½®ä¸€ä¸ªç™½åå•ï¼Œä½¿å¾—åªæœ‰ç™½åå•é‡Œçš„åœ°å€å¯ä»¥è®¿é—®æœåŠ¡å™¨å‘¢ï¼Ÿä¿®æ”¹Serverç»“æ„æ˜¯ä¸ªæ–¹æ³•ï¼Œä½†è¿™æ˜¾ç„¶ä¸ç¬¦åˆè½¯ä»¶è®¾è®¡åŸåˆ™ä¸­çš„å•ä¸€èŒè´£åŸåˆ™ã€‚åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šï¼Œä½¿ç”¨ä»£ç†ï¼Œæ˜¯ä¸ªä¸é”™çš„æ–¹æ³•ã€‚ä»£ç†é…ç½®å¦‚ä¸‹ï¼š

```
class serverProxy:
    pass
class infoServerProxy(serverProxy):
    server=""
    def __init__(self,server):
        self.server=server
    def recv(self,info):
        return self.server.recv(info)
    def show(self):
        self.server.show()

class whiteInfoServerProxy(infoServerProxy):
    white_list=[]
    def recv(self,info):
        try:
            assert type(info)==dict
        except:
            return "info structure is not correct"
        addr=info.get("addr",0)
        if not addr in self.white_list:
            return "Your address is not in the white list."
        else:
            content=info.get("content","")
            return self.server.recv(content)
    def addWhite(self,addr):
        self.white_list.append(addr)
    def rmvWhite(self,addr):
        self.white_list.remove(addr)
    def clearWhite(self):
        self.white_list=[]
```

ä»£ç†ä¸­æœ‰ä¸€ä¸ªserverå­—æ®µï¼Œæ§åˆ¶ä»£ç†çš„æœåŠ¡å™¨å¯¹è±¡ï¼ŒinfoServerProxyå……å½“Serverçš„ç›´æ¥æ¥å£ä»£ç†ï¼Œè€ŒwhiteInfoServerProxyç›´æ¥ç»§æ‰¿äº†infoServerProxyå¯¹è±¡ï¼ŒåŒæ—¶åŠ å…¥äº†white\_listå’Œå¯¹ç™½åå•çš„æ“ä½œã€‚è¿™æ ·ï¼Œåœ¨åœºæ™¯ä¸­é€šè¿‡å¯¹ç™½åå•ä»£ç†çš„è®¿é—®ï¼Œå°±å¯ä»¥å®ç°æœåŠ¡å™¨çš„ç™½åå•è®¿é—®äº†ã€‚

```
if  __name__=="__main__":
    info_struct = dict()
    info_struct["addr"] = 10010
    info_struct["content"] = "Hello World!"
    info_server = infoServer()
    info_server_proxy = whiteInfoServerProxy(info_server)
    print info_server_proxy.recv(info_struct)
    info_server_proxy.show()
    info_server_proxy.addWhite(10010)
    print info_server_proxy.recv(info_struct)
    info_server_proxy.show()
```

**æ‰“å°å¦‚ä¸‹ï¼š**  
Your address is not in the white list.SHOW:recv OK!SHOW:Hello World!

### äºŒã€ä»£ç†æ¨¡å¼

ä»£ç†æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šä¸ºæŸå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹æ­¤å¯¹è±¡çš„è®¿é—®å’Œæ§åˆ¶ã€‚ä»£ç†æ¨¡å¼åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œåº”å°½é‡å¯¹æŠ½è±¡ä¸»é¢˜ç±»è¿›è¡Œä»£ç†ï¼Œè€Œå°½é‡ä¸è¦å¯¹åŠ è¿‡ä¿®é¥°å’Œæ–¹æ³•çš„å­ç±»ä»£ç†ã€‚å¦‚ä¸Šä¾‹ä¸­ï¼Œå¦‚æœæœ‰ä¸€ä¸ªxServerç»§æ‰¿äº†Serverï¼Œå¹¶æ–°åŠ äº†æ–¹æ³•xMethodï¼ŒxServerçš„ä»£ç†åº”ä»¥Serverä¸ºä¸»é¢˜è¿›è¡Œè®¾è®¡ï¼Œè€Œå°½é‡ä¸è¦ä»¥xServerä¸ºä¸»é¢˜ï¼Œä»¥xServerä¸ºä¸»é¢˜çš„ä»£ç†å¯ä»¥ä»ServerProxyç»§æ‰¿å¹¶æ·»åŠ å¯¹åº”çš„æ–¹æ³•ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/69e6c21f0a8ae9580af71e96283ab5d9.png)

åœ¨JAVAä¸­ï¼Œè®²åˆ°ä»£ç†æ¨¡å¼ï¼Œä¸å¾—ä¸ä¼šæåˆ°åŠ¨æ€ä»£ç†ã€‚åŠ¨æ€ä»£ç†æ˜¯å®ç°AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„é‡è¦å®ç°æ‰‹æ®µã€‚è€Œåœ¨Pythonä¸­ï¼Œå¾ˆå°‘ä¼šæåˆ°åŠ¨æ€ä»£ç†ï¼Œè€ŒAOPåˆ™ä¼šä»¥å¦ä¸€ç§æ¨¡å¼å®ç°ï¼šè£…é¥°æ¨¡å¼ã€‚æœ‰å…³AOPçš„ç›¸å…³å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨è£…é¥°æ¨¡å¼è¿™ä¸€èŠ‚ä¸­è¿›è¡Œè¯´æ˜ã€‚

### ä¸‰ã€ä»£ç†æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹:

1ã€èŒè´£æ¸…æ™°ï¼šéå¸¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼Œä¸»é¢˜å¯¹è±¡å®ç°çœŸå®ä¸šåŠ¡é€»è¾‘ï¼Œè€Œéæœ¬èŒè´£çš„äº‹åŠ¡ï¼Œäº¤ç”±ä»£ç†å®Œæˆï¼›2ã€æ‰©å±•æ€§å¼ºï¼šé¢å¯¹ä¸»é¢˜å¯¹è±¡å¯èƒ½ä¼šæœ‰çš„æ”¹å˜ï¼Œä»£ç†æ¨¡å¼åœ¨ä¸æ”¹å˜å¯¹å¤–æ¥å£çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®ç°æœ€å¤§ç¨‹åº¦çš„æ‰©å±•ï¼›3ã€ä¿è¯ä¸»é¢˜å¯¹è±¡çš„å¤„ç†é€»è¾‘ï¼šä»£ç†å¯ä»¥é€šè¿‡æ£€æŸ¥å‚æ•°çš„æ–¹å¼ï¼Œä¿è¯ä¸»é¢˜å¯¹è±¡çš„å¤„ç†é€»è¾‘è¾“å…¥åœ¨ç†æƒ³èŒƒå›´å†…ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€é’ˆå¯¹æŸç‰¹å®šå¯¹è±¡è¿›è¡ŒåŠŸèƒ½å’Œå¢å¼ºæ€§æ‰©å±•ã€‚å¦‚IPé˜²ç«å¢™ã€è¿œç¨‹è®¿é—®ä»£ç†ç­‰æŠ€æœ¯çš„åº”ç”¨ï¼›2ã€å¯¹ä¸»é¢˜å¯¹è±¡è¿›è¡Œä¿æŠ¤ã€‚å¦‚å¤§æµé‡ä»£ç†ï¼Œå®‰å…¨ä»£ç†ç­‰ï¼›3ã€å‡è½»ä¸»é¢˜å¯¹è±¡è´Ÿè½½ã€‚å¦‚æƒé™ä»£ç†ç­‰ã€‚

### å››ã€ä»£ç†æ¨¡å¼çš„ç¼ºç‚¹

1ã€å¯èƒ½ä¼šé™ä½æ•´ä½“ä¸šåŠ¡çš„å¤„ç†æ•ˆç‡å’Œé€Ÿåº¦ã€‚

## 6 è£…é¥°å™¨æ¨¡å¼

### ä¸€ã€å¿«é¤ç‚¹é¤ç³»ç»Ÿ

**åˆæåˆ°äº†é‚£ä¸ªå¿«é¤ç‚¹é¤ç³»ç»Ÿï¼Œä¸è¿‡ä»Šå¤©æˆ‘ä»¬åªä»¥å…¶ä¸­çš„ä¸€ä¸ªç±»ä½œä¸ºä¸»è§’ï¼šé¥®æ–™ç±»ã€‚é¦–å…ˆï¼Œå›å¿†ä¸‹é¥®æ–™ç±»ï¼š**

```
class Beverage():
    name = ""
    price = 0.0
    type = "BEVERAGE"
    def getPrice(self):
        return self.price
    def setPrice(self, price):
        self.price = price
    def getName(self):
        return self.name


class coke(Beverage):
    def __init__(self):
        self.name = "coke"
        self.price = 4.0


class milk(Beverage):
    def __init__(self):
        self.name = "milk"
        self.price = 5.0
```

é™¤äº†åŸºæœ¬é…ç½®ï¼Œå¿«é¤åº—å–å¯ä¹æ—¶ï¼Œå¯ä»¥é€‰æ‹©åŠ å†°ï¼Œå¦‚æœåŠ å†°çš„è¯ï¼Œè¦åœ¨åŸä»·ä¸ŠåŠ 0.3å…ƒï¼›å–ç‰›å¥¶æ—¶ï¼Œå¯ä»¥é€‰æ‹©åŠ ç³–ï¼Œå¦‚æœåŠ ç³–çš„è¯ï¼Œè¦åŸä»·ä¸ŠåŠ 0.5å…ƒã€‚æ€ä¹ˆè§£å†³è¿™æ ·çš„é—®é¢˜ï¼Ÿå¯ä»¥é€‰æ‹©è£…é¥°å™¨æ¨¡å¼æ¥è§£å†³è¿™ä¸€ç±»çš„é—®é¢˜ã€‚é¦–å…ˆï¼Œå®šä¹‰è£…é¥°å™¨ç±»ï¼š

```
class drinkDecorator():
    def getName(self):
        pass
    def getPrice(self):
        pass

class iceDecorator(drinkDecorator):
    def __init__(self,beverage):
        self.beverage=beverage
    def getName(self):
        return self.beverage.getName()+" +ice"
    def getPrice(self):
        return self.beverage.getPrice()+0.3

class sugarDecorator(drinkDecorator):
    def __init__(self,beverage):
        self.beverage=beverage
    def getName(self):
        return self.beverage.getName()+" +sugar"
    def getPrice(self):
        return self.beverage.getPrice()+0.5
```

**æ„å»ºå¥½è£…é¥°å™¨åï¼Œåœ¨å…·ä½“çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå°±å¯ä»¥ä¸é¥®æ–™ç±»è¿›è¡Œå…³è”ã€‚ä»¥å¯ä¹+å†°ä¸ºä¾‹ï¼Œç¤ºä¾‹ä¸šåŠ¡åœºæ™¯å¦‚ä¸‹ï¼š**

```
if  __name__=="__main__":
    coke_cola=coke()
    print "Name:%s"%coke_cola.getName()
    print "Price:%s"%coke_cola.getPrice()
    ice_coke=iceDecorator(coke_cola)
    print "Name:%s" % ice_coke.getName()
    print "Price:%s" % ice_coke.getPrice()
```

**æ‰“å°ç»“æœå¦‚ä¸‹ï¼š**  
Name:cokePrice:4.0Name:coke +icePrice:4.3

### äºŒã€è£…é¥°å™¨æ¨¡å¼

è£…é¥°å™¨æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚åœ¨å¢åŠ åŠŸèƒ½æ–¹é¢ï¼Œè£…é¥°å™¨æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/2206e5fc2faadea178fb4b71066e891c.png)

è£…é¥°å™¨æ¨¡å¼å’Œä¸Šä¸€èŠ‚è¯´åˆ°çš„ä»£ç†æ¨¡å¼éå¸¸ç›¸ä¼¼ï¼Œå¯ä»¥è®¤ä¸ºï¼Œè£…é¥°å™¨æ¨¡å¼å°±æ˜¯ä»£ç†æ¨¡å¼çš„ä¸€ä¸ªç‰¹æ®Šåº”ç”¨ï¼Œä¸¤è€…çš„å…±åŒç‚¹æ˜¯éƒ½å…·æœ‰ç›¸åŒçš„æ¥å£ï¼Œä¸åŒç‚¹æ˜¯ä¾§é‡å¯¹ä¸»é¢˜ç±»çš„è¿‡ç¨‹çš„æ§åˆ¶ï¼Œè€Œè£…é¥°æ¨¡å¼åˆ™ä¾§é‡å¯¹ç±»åŠŸèƒ½çš„åŠ å¼ºæˆ–å‡å¼±ã€‚ä¸Šä¸€æ¬¡è¯´åˆ°ï¼ŒJAVAä¸­çš„åŠ¨æ€ä»£ç†æ¨¡å¼ï¼Œæ˜¯å®ç°AOPçš„é‡è¦æ‰‹æ®µã€‚è€Œåœ¨Pythonä¸­ï¼ŒAOPé€šè¿‡è£…é¥°å™¨æ¨¡å¼å®ç°æ›´ä¸ºç®€æ´å’Œæ–¹ä¾¿ã€‚å…ˆæ¥è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯AOPã€‚AOPå³Aspect  
Oriented  
Programmingï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºé¢å‘åˆ‡é¢çš„ç¼–ç¨‹ï¼Œå®ƒçš„å«ä¹‰å¯ä»¥è§£é‡Šä¸ºï¼šå¦‚æœå‡ ä¸ªæˆ–æ›´å¤šä¸ªé€»è¾‘è¿‡ç¨‹ä¸­ï¼ˆè¿™ç±»é€»è¾‘è¿‡ç¨‹å¯èƒ½ä½äºä¸åŒçš„å¯¹è±¡ï¼Œä¸åŒçš„æ¥å£å½“ä¸­ï¼‰ï¼Œæœ‰é‡å¤çš„æ“ä½œè¡Œä¸ºï¼Œå°±å¯ä»¥å°†è¿™äº›è¡Œä¸ºæå–å‡ºæ¥ï¼ˆå³å½¢æˆåˆ‡é¢ï¼‰ï¼Œè¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤ã€‚ä¸¾ä¾‹å­è¯´ï¼Œç³»ç»Ÿä¸­éœ€è¦åœ¨å„ä¸ªåœ°æ–¹æ‰“å°æ—¥å¿—ï¼Œå°±å¯ä»¥å°†æ‰“å°æ—¥å¿—è¿™ä¸€æ“ä½œæå–å‡ºæ¥ï¼Œä½œä¸ºåˆ‡é¢è¿›è¡Œç»Ÿä¸€ç»´æŠ¤ã€‚ä»ç¼–ç¨‹æ€æƒ³çš„å…³ç³»æ¥çœ‹ï¼Œå¯ä»¥è®¤ä¸ºAOPå’ŒOOPï¼ˆé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼‰æ˜¯å¹¶åˆ—å…³ç³»ï¼ŒäºŒè€…æ˜¯å¯ä»¥æ›¿æ¢çš„ï¼Œä¹Ÿå¯ä»¥ç»“åˆèµ·æ¥ç”¨ã€‚å®é™…ä¸Šï¼Œåœ¨Pythonè¯­è¨€ä¸­ï¼Œæ˜¯å¤©ç„¶æ”¯æŒè£…é¥°å™¨çš„ï¼Œå¦‚ä¸‹ä¾‹ï¼š

```
def log(func):
    def wrapper(*args, **kw):
        print 'call %s():' % func.__name__
        return func(*args, **kw)
    return wrapper

@log
def now():
    print '2016-12-04'
if  __name__=="__main__":
    now()
```

**æ‰“å°å¦‚ä¸‹ï¼š**  
call now():2016-12-04  
logæ¥å£å°±æ˜¯è£…é¥°å™¨çš„å®šä¹‰ï¼Œè€ŒPythonçš„@è¯­æ³•éƒ¨åˆ†åˆ™ç›´æ¥æ”¯æŒè£…é¥°å™¨çš„ä½¿ç”¨ã€‚å¦‚æœè¦åœ¨å¿«é¤ç‚¹é¤ç³»ç»Ÿä¸­æ‰“å°æ—¥å¿—ï¼Œè¯¥å¦‚ä½•è¿›è¡ŒAOPæ”¹é€ å‘¢ï¼Ÿå¯ä»¥å€ŸåŠ©ç±»çš„é™æ€æ–¹æ³•æˆ–è€…ç±»æ–¹æ³•æ¥å®ç°ï¼š

```
class LogManager:
    @staticmethod
    def log(func):
        def wrapper(*args):
            print "Visit Func %s"%func.__name__
            return func(*args)
        return wrapper
```

åœ¨éœ€è¦æ‰“å°æ—¥å¿—çš„åœ°æ–¹ç›´æ¥@LogManager.logï¼Œå³å¯æ‰“å°å‡ºè®¿é—®çš„æ—¥å¿—ä¿¡æ¯ã€‚å¦‚ï¼Œåœ¨beverageç±»çš„å‡½æ•°å‰åŠ ä¸Š@LogManager.logï¼Œåœºæ™¯ç±»ä¿æŒä¸å˜ï¼Œåˆ™æ‰“å°ç»“æœå¦‚ä¸‹ï¼š

```
Visit Func getNameName:cokeVisit Func getPricePrice:4.0Visit Func getNameName:coke +iceVisit Func getPricePrice:4.3
```

### ä¸‰ã€è£…é¥°å™¨æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€è£…é¥°å™¨æ¨¡å¼æ˜¯ç»§æ‰¿æ–¹å¼çš„ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥è½»é‡çº§çš„æ‰©å±•è¢«è£…é¥°å¯¹è±¡çš„åŠŸèƒ½ï¼›2ã€Pythonçš„è£…é¥°å™¨æ¨¡å¼æ˜¯å®ç°AOPçš„ä¸€ç§æ–¹å¼ï¼Œä¾¿äºç›¸åŒæ“ä½œä½äºä¸åŒè°ƒç”¨ä½ç½®çš„ç»Ÿä¸€ç®¡ç†ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€éœ€è¦æ‰©å±•ã€å¢å¼ºæˆ–è€…å‡å¼±ä¸€ä¸ªç±»çš„åŠŸèƒ½ï¼Œå¦‚æœ¬ä¾‹ã€‚

### å››ã€è£…é¥°å™¨æ¨¡å¼çš„ç¼ºç‚¹

1ã€å¤šå±‚è£…é¥°å™¨çš„è°ƒè¯•å’Œç»´æŠ¤æœ‰æ¯”è¾ƒå¤§çš„å›°éš¾ã€‚

## 7 é€‚é…å™¨æ¨¡å¼

### ä¸€ã€å¤–åŒ…äººå‘˜ç³»ç»Ÿå…¼å®¹

å‡è®¾æŸå…¬å¸Aä¸æŸå…¬å¸Béœ€è¦åˆä½œï¼Œå…¬å¸Aéœ€è¦è®¿é—®å…¬å¸Bçš„äººå‘˜ä¿¡æ¯ï¼Œä½†å…¬å¸Aä¸å…¬å¸Båè®®æ¥å£ä¸åŒï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿå…ˆå°†å…¬å¸Aå’Œå…¬å¸Bé’ˆå¯¹å„è‡ªçš„äººå‘˜ä¿¡æ¯è®¿é—®ç³»ç»Ÿå°è£…äº†å¯¹è±¡æ¥å£ã€‚

```
class ACpnStaff:
    name=""
    id=""
    phone=""
    def __init__(self,id):
        self.id=id
    def getName(self):
        print "A protocol getName method...id:%s"%self.id
        return self.name
    def setName(self,name):
        print "A protocol setName method...id:%s"%self.id
        self.name=name
    def getPhone(self):
        print "A protocol getPhone method...id:%s"%self.id
        return self.phone
    def setPhone(self,phone):
        print "A protocol setPhone method...id:%s"%self.id
        self.phone=phone
class BCpnStaff:
    name=""
    id=""
    telephone=""
    def __init__(self,id):
        self.id=id
    def get_name(self):
        print "B protocol get_name method...id:%s"%self.id
        return self.name
    def set_name(self,name):
        print "B protocol set_name method...id:%s"%self.id
        self.name=name
    def get_telephone(self):
        print "B protocol get_telephone method...id:%s"%self.id
        return self.telephone
    def set_telephone(self,telephone):
        print "B protocol get_name method...id:%s"%self.id
        self.telephone=telephone
```

ä¸ºåœ¨Aå…¬å¸å¹³å°å¤ç”¨Bå…¬å¸æ¥å£ï¼Œç›´æ¥è°ƒç”¨Bå…¬å¸äººå‘˜æ¥å£æ˜¯ä¸ªåŠæ³•ï¼Œä½†ä¼šå¯¹ç°åœ¨ä¸šåŠ¡æµç¨‹é€ æˆä¸ç¡®å®šçš„é£é™©ã€‚ä¸ºå‡å°‘è€¦åˆï¼Œè§„é¿é£é™©ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¸®æ‰‹ï¼Œå°±åƒæ˜¯è½¬æ¢ç”µå™¨ç”µå‹çš„é€‚é…å™¨ä¸€æ ·ï¼Œè¿™ä¸ªå¸®æ‰‹å°±æ˜¯åè®®å’Œæ¥å£è½¬æ¢çš„é€‚é…å™¨ã€‚é€‚é…å™¨æ„é€ å¦‚ä¸‹ï¼š

```
class CpnStaffAdapter:
    b_cpn=""
    def __init__(self,id):
        self.b_cpn=BCpnStaff(id)
    def getName(self):
        return self.b_cpn.get_name()
    def getPhone(self):
        return self.b_cpn.get_telephone()
    def setName(self,name):
        self.b_cpn.set_name(name)
    def setPhone(self,phone):
        self.b_cpn.set_telephone(phone)
```

é€‚é…å™¨å°†Bå…¬å¸äººå‘˜æ¥å£å°è£…ï¼Œè€Œå¯¹å¤–æ¥å£å½¢å¼ä¸Aå…¬å¸äººå‘˜æ¥å£ä¸€è‡´ï¼Œè¾¾åˆ°ç”¨Aå…¬å¸äººå‘˜æ¥å£è®¿é—®Bå…¬å¸äººå‘˜ä¿¡æ¯çš„æ•ˆæœã€‚ä¸šåŠ¡ç¤ºä¾‹å¦‚ä¸‹ï¼š

```
if __name__=="__main__":
    acpn_staff=ACpnStaff("123")
    acpn_staff.setName("X-A")
    acpn_staff.setPhone("10012345678")
    print "A Staff Name:%s"%acpn_staff.getName()
    print "A Staff Phone:%s"%acpn_staff.getPhone()
    bcpn_staff=CpnStaffAdapter("456")
    bcpn_staff.setName("Y-B")
    bcpn_staff.setPhone("99987654321")
    print "B Staff Name:%s"%bcpn_staff.getName()
    print "B Staff Phone:%s"%bcpn_staff.getPhone()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
A protocol setName methodâ€¦id:123A protocol setPhone methodâ€¦id:123A protocol getName methodâ€¦id:123A Staff Name:X-AA protocol getPhone methodâ€¦id:123A Staff Phone:10012345678B protocol set_name methodâ€¦id:456B protocol get_name methodâ€¦id:456B protocol get_name methodâ€¦id:456B Staff Name:Y-BB protocol get_telephone methodâ€¦id:456B Staff Phone:99987654321
```

### äºŒã€é€‚é…å™¨æ¨¡å¼

é€‚é…å™¨æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£å˜æ¢æˆå®¢æˆ·ç«¯æœŸå¾…çš„å¦ä¸€ç§æ¥å£ï¼Œä»è€Œä½¿åŸæœ¬å› æ¥å£ä¸åŒ¹é…è€Œæ— æ³•åœ¨ä¸€èµ·å·¥ä½œçš„ä¸¤ä¸ªç±»èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œã€‚é€‚é…å™¨æ¨¡å¼å’Œè£…é¥°æ¨¡å¼æœ‰ä¸€å®šçš„ç›¸ä¼¼æ€§ï¼Œéƒ½èµ·åŒ…è£…çš„ä½œç”¨ï¼Œä½†äºŒè€…æœ¬è´¨ä¸Šåˆæ˜¯ä¸åŒçš„ï¼Œè£…é¥°æ¨¡å¼çš„ç»“æœï¼Œæ˜¯ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ äº†ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œè€Œé€‚é…å™¨æ¨¡å¼ï¼Œåˆ™æ˜¯å°†å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡Œäº†â€œä¼ªè£…â€ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/6b3c09d207ccba4887c9d342f07e95cf.png)

é€‚é…å™¨å¯ä»¥è®¤ä¸ºæ˜¯å¯¹ç°åœ¨ä¸šåŠ¡çš„è¡¥å¿å¼åº”ç”¨ï¼Œæ‰€ä»¥ï¼Œå°½é‡ä¸è¦åœ¨è®¾è®¡é˜¶æ®µä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Œåœ¨ä¸¤ä¸ªç³»ç»Ÿéœ€è¦å…¼å®¹æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚

### ä¸‰ã€é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç‚¹å’Œä½¿ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€é€‚é…å™¨æ¨¡å¼å¯ä»¥è®©ä¸¤ä¸ªæ¥å£ä¸åŒï¼Œç”šè‡³å…³ç³»ä¸å¤§çš„ä¸¤ä¸ªç±»ä¸€èµ·è¿è¡Œï¼›2ã€æé«˜äº†ç±»çš„å¤ç”¨åº¦ï¼Œç»è¿‡â€œä¼ªè£…â€çš„ç±»ï¼Œå¯ä»¥å……å½“æ–°çš„è§’è‰²ï¼›3ã€é€‚é…å™¨å¯ä»¥çµæ´»â€œæ‹†å¸â€ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€ä¸ä¿®æ”¹ç°æœ‰æ¥å£ï¼ŒåŒæ—¶ä¹Ÿè¦ä½¿è¯¥æ¥å£é€‚ç”¨æˆ–å…¼å®¹æ–°åœºæ™¯ä¸šåŠ¡ä¸­ï¼Œé€‚åˆä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåµŒå…¥å¼ç³»ç»Ÿä¸­ï¼ŒåŸæœ¬è¦å°†æ•°æ®ä»Flashè¯»å…¥ï¼Œç°åœ¨éœ€è¦å°†æ•°æ®ä»ç£ç›˜è¯»å…¥ï¼Œè¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Œå°†ä»ç£ç›˜è¯»å…¥æ•°æ®çš„æ¥å£è¿›è¡Œâ€œä¼ªè£…â€ï¼Œä»¥ä»Flashä¸­è¯»æ•°æ®çš„æ¥å£å½¢å¼ï¼Œä»ç£ç›˜è¯»å…¥æ•°æ®ã€‚

### å››ã€é€‚é…å™¨æ¨¡å¼çš„ç¼ºç‚¹

1ã€é€‚é…å™¨æ¨¡å¼ä¸åŸé…æ¥å£ç›¸æ¯”ï¼Œæ¯•ç«Ÿå¢åŠ äº†ä¸€å±‚è°ƒç”¨å…³ç³»ï¼Œæ‰€ä»¥ï¼Œåœ¨è®¾è®¡ç³»ç»Ÿæ—¶ï¼Œä¸è¦ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚

## 8 é—¨é¢æ¨¡å¼

### ä¸€ã€ç«è­¦æŠ¥è­¦å™¨ï¼ˆ1ï¼‰

å‡è®¾æœ‰ä¸€ç»„ç«è­¦æŠ¥è­¦ç³»ç»Ÿï¼Œç”±ä¸‰ä¸ªå­å…ƒä»¶æ„æˆï¼šä¸€ä¸ªè­¦æŠ¥å™¨ï¼Œä¸€ä¸ªå–·æ°´å™¨ï¼Œä¸€ä¸ªè‡ªåŠ¨æ‹¨æ‰“ç”µè¯çš„è£…ç½®ã€‚å…¶æŠ½è±¡å¦‚ä¸‹ï¼š

```
class AlarmSensor:
    def run(self):
        print "Alarm Ring..."
class WaterSprinker:
    def run(self):
        print "Spray Water..."
class EmergencyDialer:
    def run(self):
        print "Dial 119..."
```

**åœ¨ä¸šåŠ¡ä¸­å¦‚æœéœ€è¦å°†ä¸‰ä¸ªéƒ¨ä»¶å¯åŠ¨ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªçƒŸé›¾ä¼ æ„Ÿå™¨ï¼Œæ£€æµ‹åˆ°äº†çƒŸé›¾ã€‚åœ¨ä¸šåŠ¡ç¯å¢ƒä¸­éœ€è¦åšå¦‚ä¸‹æ“ä½œï¼š**

```
if __name__=="__main__":
    alarm_sensor=AlarmSensor()
    water_sprinker=WaterSprinker()
    emergency_dialer=EmergencyDialer()
    alarm_sensor.run()
    water_sprinker.run()
    emergency_dialer.run()
```

**ä½†å¦‚æœåœ¨å¤šä¸ªä¸šåŠ¡åœºæ™¯ä¸­éœ€è¦å¯åŠ¨ä¸‰ä¸ªéƒ¨ä»¶ï¼Œæ€ä¹ˆåŠï¼ŸCtrl+CåŠ ä¸ŠCtrl+Vä¹ˆï¼Ÿå½“ç„¶å¯ä»¥è¿™æ ·ï¼Œä½†ä½œä¸ºç å†œçš„åŸºæœ¬ä¿®å…»ä¹‹ä¸€ï¼Œå‡å°‘é‡å¤ä»£ç æ˜¯åº”è¯¥ä¼šè¢«å¾ˆè½»æ˜“æƒ³åˆ°çš„æ–¹æ³•ã€‚è¿™æ ·ï¼Œéœ€è¦å°†å…¶è¿›è¡Œå°è£…ï¼Œåœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œè¢«å°è£…æˆçš„æ–°å¯¹è±¡ï¼Œå«åšé—¨é¢ã€‚é—¨é¢æ„å»ºå¦‚ä¸‹ï¼š**

```
class EmergencyFacade:
    def __init__(self):
        self.alarm_sensor=AlarmSensor()
        self.water_sprinker=WaterSprinker()
        self.emergency_dialer=EmergencyDialer()
    def runAll(self):
        self.alarm_sensor.run()
        self.water_sprinker.run()
        self.emergency_dialer.run()
```

**è¿™æ ·ï¼Œä¸šåŠ¡åœºæ™¯ä¸­è¿™æ ·å†™å°±å¯ä»¥äº†ï¼š**

```
if __name__=="__main__":
    emergency_facade=EmergencyFacade()
    emergency_facade.runAll()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
Alarm Ringâ€¦Spray Waterâ€¦Dial 119â€¦
```

### äºŒã€é—¨é¢æ¨¡å¼

é—¨é¢æ¨¡å¼ä¹Ÿå«å¤–è§‚æ¨¡å¼ï¼Œå®šä¹‰å¦‚ä¸‹ï¼šè¦æ±‚ä¸€ä¸ªå­ç³»ç»Ÿçš„å¤–éƒ¨ä¸å…¶å†…éƒ¨çš„é€šä¿¡å¿…é¡»é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„å¯¹è±¡è¿›è¡Œã€‚é—¨é¢æ¨¡å¼æä¾›ä¸€ä¸ªé«˜å±‚æ¬¡çš„æ¥å£ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´æ˜“äºä½¿ç”¨ã€‚é—¨é¢æ¨¡å¼æ³¨é‡â€œç»Ÿä¸€çš„å¯¹è±¡â€ï¼Œä¹Ÿå°±æ˜¯æä¾›ä¸€ä¸ªè®¿é—®å­ç³»ç»Ÿçš„æ¥å£ã€‚é—¨é¢æ¨¡å¼ä¸ä¹‹å‰è¯´è¿‡çš„æ¨¡æ¿æ¨¡å¼æœ‰ç±»ä¼¼çš„åœ°æ–¹ï¼Œéƒ½æ˜¯å¯¹ä¸€äº›éœ€è¦é‡å¤æ–¹æ³•çš„å°è£…ã€‚ä½†ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæ˜¯ä¸åŒçš„ã€‚æ¨¡æ¿æ¨¡å¼æ˜¯å¯¹ç±»æœ¬èº«çš„æ–¹æ³•çš„å°è£…ï¼Œå…¶è¢«å°è£…çš„æ–¹æ³•ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼›è€Œé—¨é¢æ¨¡å¼ï¼Œæ˜¯å¯¹å­ç³»ç»Ÿçš„å°è£…ï¼Œå…¶è¢«å°è£…çš„æ¥å£ç†è®ºä¸Šæ˜¯ä¸ä¼šè¢«å•ç‹¬æå‡ºæ¥ç”¨çš„ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/13c25fa25d220712da4ce6a8ae29abd0.png)

### ä¸‰ã€é—¨é¢æ¨¡å¼çš„ä¼˜ç‚¹å’Œä½¿ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å‡å°‘äº†ç³»ç»Ÿä¹‹é—´çš„ç›¸äº’ä¾èµ–ï¼Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»ï¼›2ã€æé«˜äº†æ•´ä½“ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼šå°è£…èµ·çš„ç³»ç»Ÿå¯¹å¤–çš„æ¥å£æ‰å¯ä»¥ç”¨ï¼Œéšè—äº†å¾ˆå¤šå†…éƒ¨æ¥å£ç»†èŠ‚ï¼Œè‹¥æ–¹æ³•ä¸å…è®¸ä½¿ç”¨ï¼Œåˆ™åœ¨é—¨é¢ä¸­å¯ä»¥è¿›è¡Œçµæ´»æ§åˆ¶ã€‚

##### ä½¿ç”¨åœºæ™¯ï¼š

1ã€ä¸ºä¸€ä¸ªå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªå¤–ç•Œè®¿é—®çš„æ¥å£ã€‚è¿™ç±»ä¾‹å­æ˜¯ç”Ÿæ´»è¿˜æ˜¯è›®å¸¸è§çš„ï¼Œä¾‹å¦‚ç”µè§†é¥æ§å™¨çš„æŠ½è±¡æ¨¡å‹ï¼Œç”µä¿¡è¿è¥å•†çš„ç”¨æˆ·äº¤äº’è®¾å¤‡ç­‰ï¼›2ã€éœ€è¦ç®€åŒ–æ“ä½œç•Œé¢æ—¶ã€‚ä¾‹å¦‚å¸¸è§çš„æ‰å¹³åŒ–ç³»ç»Ÿæ“ä½œç•Œé¢ç­‰ï¼Œåœ¨ç”Ÿæ´»ä¸­å’Œå·¥ä¸šä¸­éƒ½å¾ˆå¸¸è§ã€‚

### å››ã€é—¨é¢æ¨¡å¼çš„ç¼ºç‚¹

1ã€é—¨é¢æ¨¡å¼çš„ç¼ºç‚¹åœ¨äºï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä¸€æ—¦ç³»ç»Ÿæˆå½¢åéœ€è¦ä¿®æ”¹ï¼Œå‡ ä¹åªèƒ½é‡å†™é—¨é¢ä»£ç ï¼Œè¿™æ¯”ç»§æ‰¿æˆ–è€…è¦†å†™ç­‰æ–¹å¼ï¼Œæˆ–è€…å…¶å®ƒä¸€äº›ç¬¦åˆå¼€é—­åŸåˆ™çš„æ¨¡å¼é£é™©éƒ½ä¼šå¤§ä¸€äº›ã€‚

## 9 ç»„åˆæ¨¡å¼

### ä¸€ã€å…¬å¸ç»“æ„ç»„ç»‡

æ¯ä¸€ä¸ªå…¬å¸éƒ½æœ‰è‡ªå·±çš„ç»„ç»‡ç»“æ„ï¼Œè¶Šæ˜¯å¤§å‹çš„ä¼ä¸šï¼Œå…¶ç»„ç»‡ç»“æ„å°±ä¼šè¶Šå¤æ‚ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¬å¸å–œæ¬¢ç”¨â€œæ ‘å½¢â€ç»“æ„æ¥ç»„ç»‡å¤æ‚çš„å…¬å¸äººäº‹å…³ç³»å’Œå…¬å¸é—´çš„ç»“æ„å…³ç³»ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ ¹ç»“ç‚¹ä»£è¡¨å…¬å¸çš„æœ€é«˜è¡Œæ”¿æƒåˆ©å•ä½ï¼Œåˆ†æ”¯èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªä¸ªéƒ¨é—¨ï¼Œè€Œå¶å­ç»“ç‚¹åˆ™ä¼šç”¨æ¥ä»£è¡¨æ¯ä¸€ä¸ªå‘˜å·¥ã€‚æ¯ä¸€ä¸ªç»“ç‚¹çš„å­æ ‘ï¼Œè¡¨ç¤ºè¯¥ç»“ç‚¹ä»£è¡¨çš„éƒ¨é—¨æ‰€ç®¡ç†çš„å•ä½ã€‚å‡è®¾ä¸€ä¸ªå…·æœ‰HRéƒ¨é—¨ï¼Œè´¢åŠ¡éƒ¨é—¨å’Œç ”å‘éƒ¨é—¨ï¼ŒåŒæ—¶åœ¨å…¨å›½æœ‰åˆ†æ”¯å…¬å¸çš„æ€»å…¬å¸ï¼Œå…¶å…¬å¸ç»“æ„ï¼Œå¯ä»¥è¡¨ç¤ºæˆå¦‚ä¸‹é€»è¾‘ï¼š

```
class Company:
    name = ''
    def __init__(self, name):
        self.name = name
    def add(self, company):
        pass
    def remove(self, company):
        pass
    def display(self, depth):
        pass
    def listDuty(self):
        pass

class ConcreteCompany(Company):
    childrenCompany = None
    def __init__(self, name):
        Company.__init__(self,name)
        self.childrenCompany = []
    def add(self, company):
        self.childrenCompany.append(company)
    def remove(self, company):
        self.childrenCompany.remove(company)
    def display(self, depth):
        print'-'*depth + self.name
        for component in self.childrenCompany:
            component.display(depth+1)
    def listDuty(self):
        for component in self.childrenCompany:
            component.listDuty()
class HRDepartment(Company):
    def __init__(self, name):
         Company.__init__(self,name)
    def display(self, depth):
        print '-'*depth + self.name
    def listDuty(self): 
        print '%s\t Enrolling &amp; Transfering management.' % self.name

class FinanceDepartment(Company):
    def __init__(self, name):
        Company.__init__(self,name)
    def display(self, depth):
        print "-" * depth + self.name
    def listDuty(self): 
        print '%s\tFinance Management.'%self.name

class RdDepartment(Company):
    def __init__(self,name):
        Company.__init__(self,name)
    def display(self, depth):
        print "-"*depth+self.name
    def listDuty(self):
        print "%s\tResearch &amp; Development."% self.name
```

**åœ¨è¯¥ä¾‹ä¸­ï¼Œå…¬å¸ç»“æ„æŠ½è±¡ä»…è€ƒè™‘å…¬å¸ï¼ˆConcreteCompanyï¼‰å’Œéƒ¨é—¨ï¼ˆDepartmentï¼‰ï¼Œå…¬å¸æœ‰å­å…¬å¸çš„å¯èƒ½æ€§ï¼Œå…¬å¸ä¹Ÿæœ‰è‡ªå·±çš„éƒ¨é—¨ï¼Œéƒ¨é—¨æ˜¯æœ€ç»ˆçš„å¶å­ç»“ç‚¹ã€‚** **å‡è®¾æ€»å…¬å¸ä¸‹è®¾ä¸œè¾¹çš„åˆ†å…¬å¸ä¸€ä¸ªï¼Œä¸œè¾¹çš„åˆ†å…¬å¸ä¸‹è®¾ä¸œåŒ—å…¬å¸å’Œä¸œå—å…¬å¸ï¼Œæ˜¾ç¤ºå…¬å¸å±‚çº§ï¼Œå¹¶ç½—åˆ—è¿™äº›çš„å…¬å¸ä¸­å„éƒ¨é—¨çš„èŒè´£ï¼Œå¯ä»¥æ„å»ºå¦‚ä¸‹ä¸šåŠ¡åœºæ™¯ï¼š**

```
if __name__=="__main__":
    root = ConcreteCompany('HeadQuarter')
    root.add(HRDepartment('HQ HR'))
    root.add(FinanceDepartment('HQ Finance'))
    root.add(RdDepartment("HQ R&amp;D"))

    comp = ConcreteCompany('East Branch')
    comp.add(HRDepartment('East.Br HR'))
    comp.add(FinanceDepartment('East.Br Finance'))
    comp.add(RdDepartment("East.Br R&amp;D"))
    root.add(comp)

    comp1 = ConcreteCompany('Northast Branch')
    comp1.add(HRDepartment('Northeast.Br HR'))
    comp1.add(FinanceDepartment('Northeast.Br Finance'))
    comp1.add(RdDepartment("Northeast.Br R&amp;D"))
    comp.add(comp1)

    comp2 = ConcreteCompany('Southeast Branch')
    comp2.add(HRDepartment('Southeast.Br HR'))
    comp2.add(FinanceDepartment('Southeast.Br Finance'))
    comp2.add(RdDepartment("Southeast.Br R&amp;D"))
    comp.add(comp2)

    root.display(1)

    root.listDuty()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
-HeadQuarterâ€“HQ HRâ€“HQ Financeâ€“HQ R&amp;Dâ€“East Branchâ€”East.Br HRâ€”East.Br Financeâ€”East.Br R&amp;Dâ€”Northast Branch----Northeast.Br HR----Northeast.Br Finance----Northeast.Br R&amp;Dâ€”Southeast Branch----Southeast.Br HR----Southeast.Br Finance----Southeast.Br R&amp;DHQ HR Enrolling &amp; Transfering management.HQ Finance Finance Management.HQ R&amp;D Research &amp; Development.East.Br HR Enrolling &amp; Transfering management.East.Br Finance Finance Management.East.Br R&amp;D Research &amp; Development.Northeast.Br HR Enrolling &amp; Transfering management.Northeast.Br Finance Finance Management.Northeast.Br R&amp;D Research &amp; Development.Southeast.Br HR Enrolling &amp; Transfering management.Southeast.Br Finance Finance Management.Southeast.Br R&amp;D Research &amp; Development.
```

### äºŒã€ç»„åˆæ¨¡å¼

ç»„åˆæ¨¡å¼ä¹Ÿå«ä½œéƒ¨åˆ†-æ•´ä½“æ¨¡å¼ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†â€å’Œâ€œæ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/b531cd140490ed4aa9daddacbfe13d1e.png)

### ä¸‰ã€ç»„åˆæ¨¡å¼çš„ä¼˜ç‚¹å’Œä½¿ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€èŠ‚ç‚¹å¢åŠ å’Œå‡å°‘æ˜¯éå¸¸è‡ªç”±å’Œæ–¹ä¾¿çš„ï¼Œè¿™ä¹Ÿæ˜¯æ ‘å½¢ç»“æ„çš„ä¸€å¤§ç‰¹ç‚¹ï¼›2ã€æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¸ç®¡æ˜¯åˆ†æ”¯èŠ‚ç‚¹è¿˜æ˜¯å¶å­ç»“ç‚¹ï¼Œä¸ç®¡æ˜¯è°ƒç”¨ä¸€ä¸ªç»“ç‚¹ï¼Œè¿˜æ˜¯è°ƒç”¨ä¸€ä¸ªç»“ç‚¹ç¾¤ï¼Œéƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚

##### ä½¿ç”¨åœºæ™¯ï¼š

1ã€ç»´æŠ¤éƒ¨åˆ†ä¸æ•´ä½“çš„é€»è¾‘å…³ç³»ï¼Œæˆ–è€…åŠ¨æ€è°ƒç”¨æ•´ä½“æˆ–éƒ¨åˆ†çš„åŠŸèƒ½æ¥å£ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ç»„åˆæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œéå¸¸å¤šçš„æ“ä½œç³»ç»Ÿï¼ˆå¦‚Linuxï¼‰éƒ½æŠŠæ–‡ä»¶ç³»ç»Ÿè®¾è®¡æˆæ ‘å½¢ç»“æ„ï¼Œå†æ¯”å¦‚è¯´åˆ†å¸ƒå¼åº”ç”¨ä¸­å€ŸåŠ©Zookeeperï¼Œä¹Ÿå¯ä»¥ç»„ç»‡å’Œè°ƒç”¨åˆ†å¸ƒå¼é›†ç¾¤ä¸­çš„ç»“ç‚¹åŠŸèƒ½ã€‚

### å››ã€ç»„åˆæ¨¡å¼çš„ç¼ºç‚¹

1ã€ç”±äºå¶å­ç»“ç‚¹å’Œåˆ†æ”¯ç»“ç‚¹ç›´æ¥ä½¿ç”¨äº†å®ç°ç±»ï¼Œè€Œä¸æ–¹ä¾¿ä½¿ç”¨æŠ½è±¡ç±»ï¼Œè¿™å¤§å¤§é™åˆ¶äº†æ¥å£çš„å½±å“èŒƒå›´ï¼›è‹¥ç»“ç‚¹æ¥å£å‘ç”Ÿå˜æ›´ï¼Œå¯¹ç³»ç»Ÿé€ æˆçš„é£é™©ä¼šæ¯”è¾ƒå¤§ã€‚

## 10 äº«å…ƒæ¨¡å¼

### ä¸€ã€ç½‘ä¸Šå’–å•¡é€‰è´­å¹³å°

å‡è®¾æœ‰ä¸€ä¸ªç½‘ä¸Šå’–å•¡é€‰è´­å¹³å°ï¼Œå®¢æˆ·å¯ä»¥åœ¨è¯¥å¹³å°ä¸Šä¸‹è®¢å•è®¢è´­å’–å•¡ï¼Œå¹³å°ä¼šæ ¹æ®ç”¨æˆ·ä½ç½®è¿›è¡Œçº¿ä¸‹é…é€ã€‚å‡è®¾å…¶å’–å•¡å¯¹è±¡æ„é€ å¦‚ä¸‹ï¼š

```
class Coffee:
    name = ''
    price =0
    def __init__(self,name):
        self.name = name
        self.price = len(name)
    def show(self):
        print "Coffee Name:%s Price:%s"%(self.name,self.price)
```

**å…¶å¯¹åº”çš„é¡¾å®¢ç±»å¦‚ä¸‹ï¼š**

```
class Customer:
    name=""
    def __init__(self,name):
        self.name=name
    def order(self,coffee_name):
        print "%s ordered a cup of coffee:%s"%(self.name,coffee_name)
        return Coffee(coffee_name)
```

æŒ‰ç…§ä¸€èˆ¬çš„å¤„ç†æµç¨‹ï¼Œç”¨æˆ·åœ¨ç½‘ä¸Šé¢„è®¢å’–å•¡ï¼Œå…¶ä»£è¡¨ç”¨æˆ·çš„Customerç±»ä¸­ç”Ÿæˆä¸€ä¸ªCoffeeç±»ï¼Œç›´åˆ°äº¤æ˜“æµç¨‹ç»“æŸã€‚æ•´ä¸ªæµç¨‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚å¦‚æœï¼Œéšç€ç½‘ç«™ç”¨æˆ·è¶Šæ¥è¶Šå¤šï¼Œå•ä½æ—¶é—´å†…è´­ä¹°å’–å•¡çš„ç”¨æˆ·ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå¹¶å‘é‡è¶Šæ¥è¶Šå¤§ï¼Œå¯¹ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ï¼Œæç«¯æƒ…å†µä¸‹ï¼Œä¼šé€ æˆå®•æœºç­‰ä¸¥é‡åæœã€‚æ­¤æ—¶ï¼Œé«˜æ•ˆåˆ©ç”¨èµ„æºï¼Œå°±æ˜¾å¾—éå¸¸é‡è¦äº†ã€‚ç®€å•åˆ†æä¸‹ä¸šåŠ¡æµç¨‹ï¼Œé«˜å¹¶å‘ä¸‹ç”¨æˆ·æ•°é‡å¢åŠ ï¼Œè€Œè¯¥æ¨¡å‹ä¸‹ï¼Œæ¯ä¸ªç”¨æˆ·ç‚¹ä¸€æ¯å’–å•¡ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªå’–å•¡å®ä¾‹ï¼Œå¦‚æœä¸€ç§å’–å•¡åœ¨è¯¥æ—¶é—´å†…è¢«å¾ˆå¤šç”¨æˆ·ç‚¹è¿‡ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿå¾ˆå¤šåŒæ ·å’–å•¡çš„å®ä¾‹ã€‚é¿å…é‡å¤å®ä¾‹çš„å‡ºç°ï¼Œæ˜¯èŠ‚çº¦ç³»ç»Ÿèµ„æºçš„ä¸€ä¸ªçªç ´å£ã€‚ç±»ä¼¼äºå•ä¾‹æ¨¡å¼ï¼Œæˆ‘ä»¬è¿™é‡Œåœ¨å’–å•¡å®ä¾‹åŒ–å‰ï¼Œå¢åŠ ä¸€ä¸ªæ§åˆ¶å®ä¾‹åŒ–çš„ç±»ï¼šå’–å•¡å·¥å‚ã€‚

```
class CoffeeFactory():
    coffee_dict = {}
    def getCoffee(self, name):
        if self.coffee_dict.has_key(name) == False:
            self.coffee_dict[name] = Coffee(name)
        return self.coffee_dict[name]
    def getCoffeeCount(self):
        return len(self.coffee_dict)
```

**å’–å•¡å·¥å‚ä¸­ï¼ŒgetCoffeeCountç›´æ¥è¿”å›å½“å‰å®ä¾‹ä¸ªæ•°ã€‚Customerç±»å¯ä»¥é‡å†™ä¸‹ï¼Œå¦‚ä¸‹ï¼š**

```
class Customer:
    coffee_factory=""
    name=""
    def __init__(self,name,coffee_factory):
        self.name=name
        self.coffee_factory=coffee_factory
    def order(self,coffee_name):
        print "%s ordered a cup of coffee:%s"%(self.name,coffee_name)
        return self.coffee_factory.getCoffee(coffee_name)
```

å‡è®¾ä¸šåŠ¡ä¸­çŸ­æ—¶é—´å†…æœ‰å¤šäººè®¢äº†å’–å•¡ï¼Œä¸šåŠ¡æ¨¡æ‹Ÿå¦‚ä¸‹ï¼š

```
if __name__=="__main__":
    coffee_factory=CoffeeFactory()
    customer_1=Customer("A Client",coffee_factory)
    customer_2=Customer("B Client",coffee_factory)
    customer_3=Customer("C Client",coffee_factory)
    c1_capp=customer_1.order("cappuccino")
    c1_capp.show()
    c2_mocha=customer_2.order("mocha")
    c2_mocha.show()
    c3_capp=customer_3.order("cappuccino")
    c3_capp.show()
    print "Num of Coffee Instance:%s"%coffee_factory.getCoffeeCount()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
A Client ordered a cup of coffee:cappuccinoCoffee Name:cappuccino Price:10B Client ordered a cup of coffee:mochaCoffee Name:mocha Price:5C Client ordered a cup of coffee:cappuccinoCoffee Name:cappuccino Price:10Num of Coffee Instance:2
```

æ ¹æ®ç»“æœå¯ä»¥å¾—çŸ¥ï¼Œè¯¥æ¨¡å¼ä¸‹ä¸‰ä¸ªç”¨æˆ·ç‚¹äº†ä¸¤ç§å’–å•¡ï¼Œæœ€ç»ˆçš„å’–å•¡å®ä¾‹ä¸º2ï¼Œè€Œä¸æ˜¯3ã€‚

### äºŒã€äº«å…ƒæ¨¡å¼

äº«å…ƒæ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šä½¿ç”¨å…±äº«å¯¹è±¡æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡ã€‚å¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡çš„æ”¯æŒå…±äº«ï¼Œå¯èƒ½ä¼šæ¶‰åŠè¿™äº›å¯¹è±¡çš„ä¸¤ç±»ä¿¡æ¯ï¼šå†…éƒ¨çŠ¶æ€ä¿¡æ¯å’Œå¤–éƒ¨çŠ¶æ€ä¿¡æ¯ã€‚å†…éƒ¨çŠ¶æ€ä¿¡æ¯å°±æ˜¯å¯å…±äº«å‡ºæ¥çš„ä¿¡æ¯ï¼Œå®ƒä»¬å­˜å‚¨åœ¨äº«å…ƒå¯¹è±¡å†…éƒ¨ï¼Œä¸ä¼šéšç€ç‰¹å®šç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ï¼›å¤–éƒ¨çŠ¶æ€ä¿¡æ¯å°±ä¸å¯å…±äº«çš„ä¿¡æ¯äº†ã€‚äº«å…ƒæ¨¡å¼ä¸­åªåŒ…å«å†…éƒ¨çŠ¶æ€ä¿¡æ¯ï¼Œè€Œä¸åº”è¯¥åŒ…å«å¤–éƒ¨çŠ¶æ€ä¿¡æ¯ã€‚è¿™ç‚¹åœ¨è®¾è®¡ä¸šåŠ¡æ¶æ„æ—¶ï¼Œåº”è¯¥æœ‰æ‰€è€ƒè™‘ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/fa55ad67be3b2d19be01ab968d49b36d.png)

### ä¸‰ã€äº«å…ƒæ¨¡å¼çš„ä¼˜ç‚¹å’Œä½¿ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å‡å°‘é‡å¤å¯¹è±¡ï¼Œå¤§å¤§èŠ‚çº¦äº†ç³»ç»Ÿèµ„æºã€‚

##### ä½¿ç”¨åœºæ™¯ï¼š

1ã€ç³»ç»Ÿä¸­å­˜åœ¨å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œå¯ä»¥é€‰æ‹©äº«å…ƒæ¨¡å¼æé«˜èµ„æºåˆ©ç”¨ç‡ã€‚å’–å•¡è®¢è´­å¹³å°æ¯”è¾ƒå°ï¼Œè‹¥å‡è®¾ä¸€ä¸ªç”µå•†å¹³å°ï¼Œæ¯ä¸ªä¹°å®¶å’Œå–å®¶å»ºç«‹èµ·ä¹°å–å…³ç³»åï¼Œä¹°å®¶å¯¹è±¡å’Œå–å®¶å¯¹è±¡éƒ½æ˜¯å ç”¨èµ„æºçš„ã€‚å¦‚æœä¸€ä¸ªå–å®¶åŒæ—¶ä¸å¤šä¸ªä¹°å®¶å»ºç«‹èµ·ä¹°å–å…³ç³»å‘¢ï¼Ÿæ­¤æ—¶äº«å…ƒæ¨¡å¼çš„ä¼˜åŠ¿å°±ä½“ç°å‡ºæ¥äº†ï¼›2ã€éœ€è¦ç¼“å†²æ± çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨äº«å…ƒæ¨¡å¼ã€‚å¦‚è¿›ç¨‹æ± ï¼Œçº¿ç¨‹æ± ç­‰æŠ€æœ¯ï¼Œå°±å¯ä»¥ä½¿ç”¨äº«å…ƒæ¨¡å¼ï¼ˆäº‹å®ä¸Šï¼Œå¾ˆå¤šçš„æ± æŠ€æœ¯ä¸­å·²ç»ä½¿å¾—äº†äº«å…ƒæ¨¡å¼ï¼‰ã€‚

### å››ã€äº«å…ƒæ¨¡å¼çš„ç¼ºç‚¹

1ã€äº«å…ƒæ¨¡å¼è™½ç„¶èŠ‚çº¦äº†ç³»ç»Ÿèµ„æºï¼Œä½†åŒæ—¶ä¹Ÿæé«˜äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå°¤å…¶å½“é‡åˆ°å¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€æ··åœ¨ä¸€èµ·æ—¶ï¼Œéœ€è¦å…ˆå°†å…¶è¿›è¡Œåˆ†ç¦»ï¼Œæ‰å¯ä»¥ä½¿ç”¨äº«å…ƒæ¨¡å¼ã€‚å¦åˆ™ï¼Œä¼šå¼•èµ·é€»è¾‘æ··ä¹±æˆ–ä¸šåŠ¡é£é™©ï¼›2ã€äº«å…ƒæ¨¡å¼ä¸­éœ€è¦é¢å¤–æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚

## 11 æ¡¥æ¢æ¨¡å¼

### ä¸€ã€ç”»ç¬”ä¸å½¢çŠ¶

åœ¨ä»‹ç»åŸå‹æ¨¡å¼çš„ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸¾äº†ä¸ªå›¾å±‚çš„ä¾‹å­ï¼Œè¿™ä¸€å°èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬åŒæ ·ä»¥ç±»ä¼¼ç”»å›¾çš„ä¾‹å­ï¼Œè¯´æ˜ä¸€ç§ç»“æ„ç±»è®¾è®¡æ¨¡å¼ï¼šæ¡¥æ¢æ¨¡å¼ã€‚åœ¨ä¸€ä¸ªç”»å›¾ç¨‹åºä¸­ï¼Œå¸¸ä¼šè§åˆ°è¿™æ ·çš„æƒ…å†µï¼šæœ‰ä¸€äº›é¢„è®¾çš„å›¾å½¢ï¼Œå¦‚çŸ©å½¢ã€åœ†å½¢ç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯¹è±¡-ç”»ç¬”ï¼Œè°ƒèŠ‚ç”»ç¬”çš„ç±»å‹ï¼ˆå¦‚ç”»ç¬”è¿˜æ˜¯ç”»åˆ·ï¼Œè¿˜æ˜¯æ¯›ç¬”æ•ˆæœç­‰ï¼‰å¹¶è®¾å®šå‚æ•°ï¼ˆå¦‚é¢œè‰²ã€çº¿å®½ç­‰ï¼‰ï¼Œé€‰å®šå›¾å½¢ï¼Œå°±å¯ä»¥åœ¨ç”»å¸ƒä¸Šç”»å‡ºæƒ³è¦çš„å›¾å½¢äº†ã€‚è¦å®ç°ä»¥ä¸Šéœ€æ±‚ï¼Œå…ˆä»æœ€æŠ½è±¡çš„å…ƒç´ å¼€å§‹è®¾è®¡ï¼Œå³å½¢çŠ¶å’Œç”»ç¬”ï¼ˆæš‚æ—¶å¿½ç•¥ç”»å¸ƒï¼ŒåŒæ—¶å¿½ç•¥ç”»ç¬”å‚æ•°ï¼Œåªè€ƒè™‘ç”»ç¬”ç±»å‹ï¼‰ã€‚

```
class Shape:
    name=""
    param=""
    def __init__(self,*param):
        pass
    def getName(self):
        return self.name
    def getParam(self):
        return self.name,self.param

class Pen:
    shape=""
    type=""
    def __init__(self,shape):
        self.shape=shape
    def draw(self):
        pass
```

**å½¢çŠ¶å¯¹è±¡å’Œç”»ç¬”å¯¹è±¡æ˜¯æœ€ä¸ºæŠ½è±¡çš„å½¢å¼ã€‚æ¥ä¸‹æ¥ï¼Œæ„é€ å¤šä¸ªå½¢çŠ¶ï¼Œå¦‚çŸ©å½¢å’Œåœ†å½¢ï¼š**

```
class Rectangle(Shape):
    def __init__(self,long,width):
        self.name="Rectangle"
        self.param="Long:%s Width:%s"%(long,width)
        print "Create a rectangle:%s"%self.param
class Circle(Shape):
    def __init__(self,radius):
        self.name="Circle"
        self.param="Radius:%s"%radius
        print "Create a circle:%s"%self.param
```

ç´§æ¥ç€æ˜¯æ„é€ å¤šç§ç”»ç¬”ï¼Œå¦‚æ™®é€šç”»ç¬”å’Œç”»åˆ·ï¼š

```
class NormalPen(Pen):
    def __init__(self,shape):
        Pen.__init__(self,shape)
        self.type="Normal Line"
    def draw(self):
        print "DRAWING %s:%s----PARAMS:%s"%(self.type,self.shape.getName(),self.shape.getParam())
class BrushPen(Pen):
    def __init__(self,shape):
        Pen.__init__(self,shape)
        self.type="Brush Line"
    def draw(self):
        print "DRAWING %s:%s----PARAMS:%s" % (self.type,self.shape.getName(), self.shape.getParam())
```

**ä¸šåŠ¡ä¸­çš„é€»è¾‘å¦‚ä¸‹ï¼š**

```
if __name__=="__main__":
    normal_pen=NormalPen(Rectangle("20cm","10cm"))
    brush_pen=BrushPen(Circle("15cm"))
    normal_pen.draw()
    brush_pen.draw()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
Create a rectangle:Long:20cm Width:10cmCreate a circle:Radius:15cmDRAWING Normal Line:Rectangle----PARAMS:(â€˜Rectangleâ€™, â€˜Long:20cm Width10cmâ€™)DRAWING Brush Line:Circle----PARAMS:(â€˜Circleâ€™, â€˜Radius:15cmâ€™)
```

### äºŒã€æ¡¥æ¢æ¨¡å¼

æ¡¥æ¢æ¨¡å¼åˆå«æ¡¥æ¥æ¨¡å¼ï¼Œå®šä¹‰å¦‚ä¸‹ï¼šå°†æŠ½è±¡ä¸å®ç°è§£è€¦ï¼ˆæ³¨æ„æ­¤å¤„çš„æŠ½è±¡å’Œå®ç°ï¼Œå¹¶éæŠ½è±¡ç±»å’Œå®ç°ç±»çš„é‚£ç§å…³ç³»ï¼Œè€Œæ˜¯ä¸€ç§è§’è‰²çš„å…³ç³»ï¼Œè¿™é‡Œéœ€è¦å¥½å¥½åŒºåˆ†ä¸€ä¸‹ï¼‰ï¼Œå¯ä»¥ä½¿å…¶ç‹¬ç«‹å˜åŒ–ã€‚åœ¨å½¢å¦‚ä¸Šä¾‹ä¸­ï¼ŒPenåªè´Ÿè´£ç”»ï¼Œä½†æ²¡æœ‰å½¢çŠ¶ï¼Œå®ƒç»ˆç©¶æ˜¯ä¸çŸ¥é“è¦ç”»ä»€ä¹ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒå«åšæŠ½è±¡åŒ–è§’è‰²ï¼›è€ŒShapeæ˜¯å…·ä½“çš„å½¢çŠ¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åšå®ç°åŒ–è§’è‰²ã€‚æŠ½è±¡åŒ–è§’è‰²å’Œå®ç°åŒ–è§’è‰²æ˜¯è§£è€¦çš„ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œæ‰€è°“çš„æ¡¥ï¼Œå°±æ˜¯æŠ½è±¡åŒ–è§’è‰²çš„æŠ½è±¡ç±»å’Œå®ç°åŒ–è§’è‰²çš„æŠ½è±¡ç±»ä¹‹é—´çš„å¼•ç”¨å…³ç³»ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/aab26d904d91cfceaca9b07a390ed4c9.png)

### ä¸‰ã€æ¡¥æ¢æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€æŠ½è±¡è§’è‰²ä¸å®ç°è§’è‰²ç›¸åˆ†ç¦»ï¼ŒäºŒè€…å¯ä»¥ç‹¬ç«‹è®¾è®¡ï¼Œä¸å—çº¦æŸï¼›2ã€æ‰©å±•æ€§å¼ºï¼šæŠ½è±¡è§’è‰²å’Œå®ç°è§’è‰²å¯ä»¥éå¸¸çµæ´»åœ°æ‰©å±•ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€ä¸é€‚ç”¨ç»§æ‰¿æˆ–è€…åŸç»§æ‰¿å…³ç³»ä¸­æŠ½è±¡ç±»å¯èƒ½é¢‘ç¹å˜åŠ¨çš„æƒ…å†µï¼Œå¯ä»¥å°†åŸç±»è¿›è¡Œæ‹†åˆ†ï¼Œæ‹†æˆå®ç°åŒ–è§’è‰²å’ŒæŠ½è±¡åŒ–è§’è‰²ã€‚ä¾‹å¦‚æœ¬ä¾‹ä¸­ï¼Œè‹¥å°†å½¢çŠ¶ã€ç²—ç»†ã€ç»˜ç”»æ ·å¼ç­‰å±äºæ±‡é›†åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œä¸€æ—¦æŠ½è±¡ç±»ä¸­æœ‰æ‰€å˜åŠ¨ï¼Œå°†é€ æˆå·¨å¤§çš„é£é™©ï¼›2ã€é‡ç”¨æ€§æ¯”è¾ƒå¤§çš„åœºæ™¯ã€‚æ¯”å¦‚å¼€å…³æ§åˆ¶é€»è¾‘çš„ç¨‹åºï¼Œå¼€å…³å°±æ˜¯æŠ½è±¡åŒ–è§’è‰²ï¼Œå¼€å…³çš„å½¢å¼æœ‰å¾ˆå¤šç§ï¼Œæ“ä½œçš„å®ç°åŒ–è§’è‰²ä¹Ÿæœ‰å¾ˆå¤šç§ï¼Œé‡‡ç”¨æ¡¥æ¢æ¨¡å¼ï¼Œï¼ˆå¦‚å½“å‰ä¾‹å­ï¼‰å¼€å…³å³å¯è¿›è¡Œå¤ç”¨ï¼Œæ•´ä½“ä¼šå°†è®¾è®¡çš„ç²’åº¦å‡å°ã€‚

### å››ã€æ¡¥æ¢æ¨¡å¼çš„ç¼ºç‚¹

1ã€å¢åŠ å¯¹ç³»ç»Ÿç†è§£çš„éš¾åº¦ã€‚

## 12 ç­–ç•¥æ¨¡å¼

### ä¸€ã€å®¢æˆ·æ¶ˆæ¯é€šçŸ¥

å‡è®¾æŸå¸ç»´æŠ¤ç€ä¸€äº›å®¢æˆ·èµ„æ–™ï¼Œéœ€è¦åœ¨è¯¥å¸æœ‰æ–°äº§å“ä¸Šå¸‚æˆ–è€…ä¸¾è¡Œæ–°æ´»åŠ¨æ—¶é€šçŸ¥å®¢æˆ·ã€‚ç°é€šçŸ¥å®¢æˆ·çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šçŸ­ä¿¡é€šçŸ¥ã€é‚®ä»¶é€šçŸ¥ã€‚åº”å¦‚ä½•è®¾è®¡è¯¥ç³»ç»Ÿçš„å®¢æˆ·é€šçŸ¥éƒ¨åˆ†ï¼Ÿä¸ºè§£å†³è¯¥é—®é¢˜ï¼Œæˆ‘ä»¬å…ˆæ„é€ å®¢æˆ·ç±»ï¼ŒåŒ…æ‹¬å®¢æˆ·å¸¸ç”¨çš„è”ç³»æ–¹å¼å’ŒåŸºæœ¬ä¿¡æ¯ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬è¦å‘é€çš„å†…å®¹ã€‚

```
class customer:
    customer_name=""
    snd_way=""
    info=""
    phone=""
    email=""
    def setPhone(self,phone):
        self.phone=phone
    def setEmail(self,mail):
        self.email=mail
    def getPhone(self):
        return self.phone
    def getEmail(self):
        return self.email
    def setInfo(self,info):
        self.info=info
    def setName(self,name):
        self.customer_name=name
    def setBrdWay(self,snd_way):
        self.snd_way=snd_way
    def sndMsg(self):
        self.snd_way.send(self.info)
```

snd\_wayå‘å®¢æˆ·å‘é€ä¿¡æ¯çš„æ–¹å¼ï¼Œè¯¥æ–¹å¼ç½®ä¸ºå¯è®¾ï¼Œå³å¯æ ¹æ®ä¸šåŠ¡æ¥è¿›è¡Œç­–ç•¥çš„é€‰æ‹©ã€‚å‘é€æ–¹å¼æ„å»ºå¦‚ä¸‹ï¼š

```
class msgSender:
    dst_code=""
    def setCode(self,code):
        self.dst_code=code
    def send(self,info):
        pass
class emailSender(msgSender):
    def send(self,info):
        print "EMAIL_ADDRESS:%s EMAIL:%s"%(self.dst_code,info)
class textSender(msgSender):
    def send(self,info):
        print "TEXT_CODE:%s EMAIL:%s"%(self.dst_code,info)
```

**åœ¨ä¸šåŠ¡åœºæ™¯ä¸­å°†å‘é€æ–¹å¼ä½œä¸ºç­–ç•¥ï¼Œæ ¹æ®éœ€æ±‚è¿›è¡Œå‘é€ã€‚**

```
if  __name__=="__main__":
    customer_x=customer()
    customer_x.setName("CUSTOMER_X")
    customer_x.setPhone("10023456789")
    customer_x.setEmail("customer_x@xmail.com")
    customer_x.setInfo("Welcome to our new party!")
    text_sender=textSender()
    text_sender.setCode(customer_x.getPhone())
    customer_x.setBrdWay(text_sender)
    customer_x.sndMsg()
    mail_sender=emailSender()
    mail_sender.setCode(customer_x.getEmail())
    customer_x.setBrdWay(mail_sender)
    customer_x.sndMsg()
```

**ç»“æœæ‰“å°å¦‚ä¸‹ï¼š**

```
PHONE_NUMBER:10023456789 TEXT:Welcome to our new party!EMAIL_ADDRESS:customer_x@xmail.com[1] EMAIL:Welcome to our new party!
```

### äºŒã€ç­–ç•¥æ¨¡å¼

ç­–ç•¥æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šå®šä¹‰ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸ªç®—æ³•éƒ½å°è£…èµ·æ¥ï¼Œå¹¶ä½¿ä»–ä»¬ä¹‹é—´å¯äº’æ¢ã€‚ä»¥ä¸Šè¿°ä¾‹å­ä¸ºä¾‹ï¼Œcustomerç±»æ‰®æ¼”çš„è§’è‰²ï¼ˆContextï¼‰ç›´æ¥ä¾èµ–æŠ½è±¡ç­–ç•¥çš„æ¥å£ï¼Œåœ¨å…·ä½“ç­–ç•¥å®ç°ç±»ä¸­å³å¯å®šä¹‰ä¸ªæ€§åŒ–çš„ç­–ç•¥æ–¹å¼ï¼Œä¸”å¯ä»¥æ–¹ä¾¿æ›¿æ¢ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/fa1251f58653ccc0f8106ae5e6fb66b1.png)

ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬ä»‹ç»äº†æ¡¥æ¥æ¨¡å¼ï¼Œä»”ç»†æ¯”è¾ƒä¸€ä¸‹æ¡¥æ¥æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼ï¼Œå¦‚æœæŠŠç­–ç•¥æ¨¡å¼çš„Contextè®¾è®¡æˆæŠ½è±¡ç±»å’Œå®ç°ç±»çš„æ–¹å¼ï¼Œé‚£ä¹ˆç­–ç•¥æ¨¡å¼å’Œæ¡¥æ¥æ¨¡å¼å°±å¯ä»¥åˆ’ç­‰å·äº†ã€‚ä»ç±»å›¾çœ‹ä¸Šå»ï¼Œæ¡¥æ¥æ¨¡å¼æ¯”ç­–ç•¥æ¨¡å¼å¤šäº†å¯¹ä¸€ç§è§’è‰²ï¼ˆæŠ½è±¡è§’è‰²ï¼‰çš„æŠ½è±¡ã€‚äºŒè€…ç»“æ„çš„é«˜åº¦åŒæ„ï¼Œä¹Ÿåªèƒ½è®©æˆ‘ä»¬ä»ä½¿ç”¨æ„å›¾ä¸Šå»åŒºåˆ†ä¸¤ç§æ¨¡å¼ï¼šæ¡¥æ¥æ¨¡å¼è§£å†³æŠ½è±¡è§’è‰²å’Œå®ç°è§’è‰²éƒ½å¯ä»¥æ‰©å±•çš„é—®é¢˜ï¼›è€Œç­–ç•¥æ¨¡å¼è§£å†³ç®—æ³•åˆ‡æ¢å’Œæ‰©å±•çš„é—®é¢˜ã€‚

### ä¸‰ã€ç­–ç•¥æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å„ä¸ªç­–ç•¥å¯ä»¥è‡ªç”±åˆ‡æ¢ï¼šè¿™ä¹Ÿæ˜¯ä¾èµ–æŠ½è±¡ç±»è®¾è®¡æ¥å£çš„å¥½å¤„ä¹‹ä¸€ï¼›2ã€å‡å°‘ä»£ç å†—ä½™ï¼›3ã€æ‰©å±•æ€§ä¼˜ç§€ï¼Œç§»æ¤æ–¹ä¾¿ï¼Œä½¿ç”¨çµæ´»ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€ç®—æ³•ç­–ç•¥æ¯”è¾ƒç»å¸¸åœ°éœ€è¦è¢«æ›¿æ¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚å¦‚ç°åœ¨è¶…å¸‚å‰å°ï¼Œä¼šå¸¸é‡åˆ°åˆ·å¡ã€æŸå®æ”¯ä»˜ã€æŸä¿¡æ”¯ä»˜ç­‰æ–¹å¼ï¼Œå°±å¯ä»¥å‚è€ƒç­–ç•¥æ¨¡å¼ã€‚

### å››ã€ç­–ç•¥æ¨¡å¼çš„ç¼ºç‚¹

1ã€é¡¹ç›®æ¯”è¾ƒåºå¤§æ—¶ï¼Œç­–ç•¥å¯èƒ½æ¯”è¾ƒå¤šï¼Œä¸ä¾¿äºç»´æŠ¤ï¼›2ã€ç­–ç•¥çš„ä½¿ç”¨æ–¹å¿…é¡»çŸ¥é“æœ‰å“ªäº›ç­–ç•¥ï¼Œæ‰èƒ½å†³å®šä½¿ç”¨å“ªä¸€ä¸ªç­–ç•¥ï¼Œè¿™ä¸è¿ªç±³ç‰¹æ³•åˆ™æ˜¯ç›¸è¿èƒŒçš„ã€‚

## 13 è´£ä»»é“¾æ¨¡å¼

### ä¸€ã€è¯·å‡ç³»ç»Ÿ

å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªè¯·å‡ç³»ç»Ÿï¼šå‘˜å·¥è‹¥æƒ³è¦è¯·3å¤©ä»¥å†…ï¼ˆåŒ…æ‹¬3å¤©çš„å‡ï¼‰ï¼Œåªéœ€è¦ç›´å±ç»ç†æ‰¹å‡†å°±å¯ä»¥äº†ï¼›å¦‚æœæƒ³è¯·3-7å¤©ï¼Œä¸ä»…éœ€è¦ç›´å±ç»ç†æ‰¹å‡†ï¼Œéƒ¨é—¨ç»ç†éœ€è¦æœ€ç»ˆæ‰¹å‡†ï¼›å¦‚æœè¯·å‡å¤§äº7å¤©ï¼Œä¸å…‰è¦å‰ä¸¤ä¸ªç»ç†æ‰¹å‡†ï¼Œä¹Ÿéœ€è¦æ€»ç»ç†æœ€ç»ˆæ‰¹å‡†ã€‚ç±»ä¼¼çš„ç³»ç»Ÿç›¸ä¿¡å¤§å®¶éƒ½é‡åˆ°è¿‡ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿé¦–å…ˆæƒ³åˆ°çš„å½“ç„¶æ˜¯ifâ€¦elseâ€¦ï¼Œä½†ä¸€æ—¦é‡åˆ°éœ€æ±‚å˜åŠ¨ï¼Œå…¶è‡ƒè‚¿çš„ä»£ç å’Œå¤æ‚çš„è€¦åˆç¼ºç‚¹éƒ½æ˜¾ç°å‡ºæ¥ã€‚ç®€å•åˆ†æä¸‹éœ€æ±‚ï¼Œâ€œå‡æ¡â€åœ¨ä¸‰ä¸ªç»ç†é—´æ˜¯å•å‘ä¼ é€’å…³ç³»ï¼Œåƒä¸€æ¡é“¾æ¡ä¸€æ ·ï¼Œå› è€Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€æ¡â€œé“¾â€æŠŠä»–ä»¬è¿›è¡Œæœ‰åºè¿æ¥ã€‚æ„é€ æŠ½è±¡ç»ç†ç±»å’Œå„ä¸ªå±‚çº§çš„ç»ç†ç±»ï¼š

```
class manager():
    successor = None
    name = ''
    def __init__(self, name):
        self.name = name
    def setSuccessor(self, successor):
        self.successor = successor
    def handleRequest(self, request):
        pass
class lineManager(manager):
    def handleRequest(self, request):
        if request.requestType == 'DaysOff' and request.number &lt;= 3:
            print '%s:%s Num:%d Accepted OVER' % (self.name, request.requestContent, request.number)
        else:
            print '%s:%s Num:%d Accepted CONTINUE' % (self.name, request.requestContent, request.number)
            if self.successor != None:
                self.successor.handleRequest(request)
class departmentManager(manager):
    def handleRequest(self, request):
        if request.requestType == 'DaysOff' and request.number &lt;= 7:
            print '%s:%s Num:%d Accepted OVER' % (self.name, request.requestContent, request.number)
        else:
            print '%s:%s Num:%d Accepted CONTINUE' % (self.name, request.requestContent, request.number)
            if self.successor != None:
                self.successor.handleRequest(request)
class generalManager(manager):
    def handleRequest(self, request):
        if request.requestType == 'DaysOff':
            print '%s:%s Num:%d Accepted OVER' % (self.name, request.requestContent, request.number)
class request():
    requestType = ''
    requestContent = ''
    number = 0
```

**requestç±»å°è£…äº†å‡æœŸè¯·æ±‚ã€‚åœ¨å…·ä½“çš„ç»ç†ç±»ä¸­ï¼Œå¯ä»¥é€šè¿‡setSuccessoræ¥å£æ¥æ„å»ºâ€œè´£ä»»é“¾â€ï¼Œå¹¶åœ¨handleRequestæ¥å£ä¸­å®ç°é€»è¾‘ã€‚åœºæ™¯ç±»ä¸­å®ç°å¦‚ä¸‹ï¼š**

```
if  __name__=="__main__":
    line_manager = lineManager('LINE MANAGER')
    department_manager = departmentManager('DEPARTMENT MANAGER')
    general_manager = generalManager('GENERAL MANAGER')

    line_manager.setSuccessor(department_manager)
    department_manager.setSuccessor(general_manager)

    req = request()
    req.requestType = 'DaysOff'
    req.requestContent = 'Ask 1 day off'
    req.number = 1
    line_manager.handleRequest(req)

    req.requestType = 'DaysOff'
    req.requestContent = 'Ask 5 days off'
    req.number = 5
    line_manager.handleRequest(req)

    req.requestType = 'DaysOff'
    req.requestContent = 'Ask 10 days off'
    req.number = 10
    line_manager.handleRequest(req)
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
LINE MANAGER:Ask 1 day off Num:1 Accepted OVERLINE MANAGER:Ask 5 days off Num:5 Accepted CONTINUEDEPARTMENT MANAGER:Ask 5 days off Num:5 Accepted OVERLINE MANAGER:Ask 10 days off Num:10 Accepted CONTINUEDEPARTMENT MANAGER:Ask 10 days off Num:10 Accepted CONTINUEGENERAL MANAGER:Ask 10 days off Num:10 Accepted OVER
```

### äºŒã€è´£ä»»é“¾æ¨¡å¼

è´£ä»»é“¾æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…äº†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/7dd492a4325e8070b3a5f50b00d834b2.png)

éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè´£ä»»é“¾æ¨¡å¼ä¸­çš„åº”è¯¥åªæœ‰ä¸€ä¸ªå¤„ç†è€…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬ä¾‹ä¸­çš„â€œæœ€ç»ˆæ‰¹å‡†â€ä¸ºè¯¥å¯¹è±¡æ‰€è°“çš„â€œè¯·æ±‚å¤„ç†â€ã€‚

### ä¸‰ã€è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å°†è¯·æ±‚è€…ä¸å¤„ç†è€…åˆ†ç¦»ï¼Œè¯·æ±‚è€…å¹¶ä¸çŸ¥é“è¯·æ±‚æ˜¯è¢«å“ªä¸ªå¤„ç†è€…æ‰€å¤„ç†ï¼Œæ˜“äºæ‰©å±•ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€è‹¥ä¸€ä¸ªè¯·æ±‚å¯èƒ½ç”±ä¸€ä¸ªå¯¹è¯·æ±‚æœ‰é“¾å¼ä¼˜å…ˆçº§çš„å¤„ç†ç¾¤æ‰€å¤„ç†æ—¶ï¼Œå¯ä»¥è€ƒè™‘è´£ä»»é“¾æ¨¡å¼ã€‚é™¤æœ¬ä¾‹å¤–ï¼Œé“¶è¡Œçš„å®¢æˆ·è¯·æ±‚å¤„ç†ç³»ç»Ÿä¹Ÿå¯ä»¥ç”¨è´£ä»»é“¾æ¨¡å¼å®ç°ï¼ˆVIPå®¢æˆ·å’Œæ™®é€šç”¨æˆ·å¤„ç†æ–¹å¼å½“ç„¶ä¼šæœ‰ä¸åŒï¼‰ã€‚

### å››ã€è´£ä»»é“¾æ¨¡å¼çš„ç¼ºç‚¹

1ã€å¦‚æœè´£ä»»é“¾æ¯”è¾ƒé•¿ï¼Œä¼šæœ‰æ¯”è¾ƒå¤§çš„æ€§èƒ½é—®é¢˜ï¼›2ã€å¦‚æœè´£ä»»é“¾æ¯”è¾ƒé•¿ï¼Œè‹¥ä¸šåŠ¡å‡ºç°é—®é¢˜ï¼Œæ¯”è¾ƒéš¾å®šä½æ˜¯å“ªä¸ªå¤„ç†è€…çš„é—®é¢˜ã€‚

## 14 å‘½ä»¤æ¨¡å¼

### ä¸€ã€é¥­åº—ç‚¹é¤ç³»ç»Ÿ

åˆæ˜¯ä¸€ä¸ªç‚¹é¤ç³»ç»Ÿï¼ˆåŸè°…ä½œè€…çš„åƒè´§å±æ€§ï¼‰ã€‚ä¸è¿‡è¿™æ¬¡çš„ç‚¹é¤ç³»ç»Ÿæ˜¯ä¸ªé¥­åº—çš„ç‚¹é¤ç³»ç»Ÿã€‚é¥­åº—çš„ç‚¹é¤ç³»ç»Ÿæœ‰ä»€ä¹ˆä¸åŒå˜›ï¼Ÿå¤§ä¼™æƒ³æƒ³çœ‹ï¼Œåœ¨å¤§å¤šæ•°é¥­åº—ä¸­ï¼Œå½“æœåŠ¡å‘˜å·²ç»æ¥åˆ°é¡¾å®¢çš„ç‚¹å•ï¼Œå½•å…¥åˆ°ç³»ç»Ÿä¸­åï¼Œæ ¹æ®ä¸åŒçš„èœå“ï¼Œä¼šæœ‰ä¸åŒçš„åå°ååº”ã€‚æ¯”å¦‚ï¼Œé¥­åº—æœ‰å‡‰èœé—´ã€çƒ­èœé—´ã€ä¸»é£Ÿé—´ï¼Œé‚£å½“æœåŠ¡å‘˜å°†èœå“å½•å…¥åˆ°ç³»ç»Ÿä¸­åï¼Œå‡‰èœé—´ä¼šæ‰“å°å‡ºé¡¾å®¢æ‰€ç‚¹çš„å‡‰èœæ¡ç›®ï¼Œçƒ­èœé—´ä¼šæ‰“å°å‡ºé¡¾å®¢æ‰€ç‚¹çš„çƒ­èœæ¡ç›®ï¼Œä¸»é£Ÿé—´ä¼šæ‰“å°å‡ºä¸»é£Ÿæ¡ç›®ã€‚é‚£è¿™ä¸ªç³»ç»Ÿçš„åå°æ¨¡å¼è¯¥å¦‚ä½•è®¾è®¡ï¼Ÿå½“ç„¶ï¼Œç›´æ¥åœ¨åœºæ™¯ä»£ç ä¸­åŠ ifâ€¦elseâ€¦è¯­å¥åˆ¤æ–­æ˜¯ä¸ªæ–¹æ³•ï¼Œå¯è¿™æ ·åšåˆä¸€æ¬¡åŠ é‡äº†ç³»ç»Ÿè€¦åˆï¼Œè¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œé‡åˆ°ç³»ç»Ÿéœ€æ±‚å˜åŠ¨æ—¶ï¼Œåˆä¼šè½»æ˜“è¿åå¼€é—­åŸåˆ™ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°ç»„ç»‡ä¸€ä¸‹ç»“æ„ã€‚å¯ä»¥å°†è¯¥ç³»ç»Ÿè®¾è®¡æˆå‰å°æœåŠ¡å‘˜ç³»ç»Ÿå’Œåå°ç³»ç»Ÿï¼Œåå°ç³»ç»Ÿè¿›ä¸€æ­¥ç»†åˆ†æˆä¸»é£Ÿå­ç³»ç»Ÿï¼Œå‡‰èœå­ç³»ç»Ÿï¼Œçƒ­èœå­ç³»ç»Ÿã€‚åå°ä¸‰ä¸ªå­ç³»ç»Ÿè®¾è®¡å¦‚ä¸‹ï¼š

```
class backSys():
    def cook(self,dish):
        pass
class mainFoodSys(backSys):
    def cook(self,dish):
        print "MAINFOOD:Cook %s"%dish
class coolDishSys(backSys):
    def cook(self,dish):
        print "COOLDISH:Cook %s"%dish
class hotDishSys(backSys):
    def cook(self,dish):
        print "HOTDISH:Cook %s"%dish
```

å‰å°æœåŠ¡å‘˜ç³»ç»Ÿä¸åå°ç³»ç»Ÿçš„äº¤äº’ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤çš„æ¨¡å¼æ¥å®ç°ï¼ŒæœåŠ¡å‘˜å°†é¡¾å®¢çš„ç‚¹å•å†…å®¹å°è£…æˆå‘½ä»¤ï¼Œç›´æ¥å¯¹åå°ä¸‹è¾¾å‘½ä»¤ï¼Œåå°å®Œæˆå‘½ä»¤è¦æ±‚çš„äº‹ï¼Œå³å¯ã€‚å‰å°ç³»ç»Ÿæ„å»ºå¦‚ä¸‹ï¼š

```
class waiterSys():
    menu_map=dict()
    commandList=[]
    def setOrder(self,command):
        print "WAITER:Add dish"
        self.commandList.append(command)

    def cancelOrder(self,command):
        print "WAITER:Cancel order..."
        self.commandList.remove(command)

    def notify(self):
        print "WAITER:Nofify..."
        for command in self.commandList:
            command.execute()
```

**å‰å°ç³»ç»Ÿä¸­çš„notifyæ¥å£ç›´æ¥è°ƒç”¨å‘½ä»¤ä¸­çš„executeæ¥å£ï¼Œæ‰§è¡Œå‘½ä»¤ã€‚å‘½ä»¤ç±»æ„å»ºå¦‚ä¸‹ï¼š**

```
class Command():
    receiver = None
    def __init__(self, receiver):
        self.receiver = receiver
    def execute(self):
        pass
class foodCommand(Command):
    dish=""
    def __init__(self,receiver,dish):
        self.receiver=receiver
        self.dish=dish
    def execute(self):
        self.receiver.cook(self.dish)

class mainFoodCommand(foodCommand):
    pass
class coolDishCommand(foodCommand):
    pass
class hotDishCommand(foodCommand):
    pass
```

Commandç±»æ˜¯ä¸ªæ¯”è¾ƒé€šè¿‡çš„ç±»ï¼ŒfoodCommandç±»æ˜¯æœ¬ä¾‹ä¸­æ¶‰åŠçš„ç±»ï¼Œç›¸æ¯”äºCommandç±»è¿›è¡Œäº†ä¸€å®šçš„æ”¹é€ ã€‚ç”±äºåå°ç³»ç»Ÿä¸­çš„æ‰§è¡Œå‡½æ•°éƒ½æ˜¯cookï¼Œå› è€Œåœ¨foodCommandç±»ä¸­ç›´æ¥å°†executeæ¥å£å®ç°ï¼Œå¦‚æœåå°ç³»ç»Ÿæ‰§è¡Œå‡½æ•°ä¸åŒï¼Œéœ€è¦åœ¨ä¸‰ä¸ªå­å‘½ä»¤ç³»ç»Ÿä¸­å®ç°executeæ¥å£ã€‚è¿™æ ·ï¼Œåå°ä¸‰ä¸ªå‘½ä»¤ç±»å°±å¯ä»¥ç›´æ¥ç»§æ‰¿ï¼Œä¸ç”¨è¿›è¡Œä¿®æ”¹äº†ã€‚ï¼ˆè¿™é‡Œå­ç³»ç»Ÿæ²¡æœ‰å˜åŠ¨ï¼Œå¯ä»¥å°†ä¸‰ä¸ªå­ç³»ç»Ÿçš„å‘½ä»¤åºŸå¼ƒä¸ç”¨ï¼Œç›´æ¥ç”¨foodCommandå—ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œå„æœ‰åˆ©è”½ã€‚è¯·è¯»è€…ç»“åˆè‡ªèº«å¼€å‘ç»éªŒï¼Œè¿›è¡Œæ€è€ƒç›¸å¯¹äºè‡ªå·±ä¸šåŠ¡åœºæ™¯çš„ä½¿ç”¨ï¼Œå“ªç§æ–¹å¼æ›´å¥½ã€‚ï¼‰ä¸ºä½¿åœºæ™¯ä¸šåŠ¡ç²¾ç®€ä¸€äº›ï¼Œæˆ‘ä»¬å†åŠ ä¸€ä¸ªèœå•ç±»æ¥è¾…åŠ©ä¸šåŠ¡ï¼Œèœå•ç±»åœ¨æœ¬ä¾‹ä¸­ç›´æ¥å†™æ­»ã€‚

```
class menuAll:
    menu_map=dict()
    def loadMenu(self):
        self.menu_map["hot"] = ["Yu-Shiang Shredded Pork", "Sauteed Tofu, Home Style", "Sauteed Snow Peas"]
        self.menu_map["cool"] = ["Cucumber", "Preserved egg"]
        self.menu_map["main"] = ["Rice", "Pie"]
    def isHot(self,dish):
        if dish in self.menu_map["hot"]:
            return True
        return False
    def isCool(self,dish):
        if dish in self.menu_map["cool"]:
            return True
        return False
    def isMain(self,dish):
        if dish in self.menu_map["main"]:
            return True
        return False
```

**ä¸šåŠ¡åœºæ™¯å¦‚ä¸‹ï¼š**

```
if  __name__=="__main__":
    dish_list=["Yu-Shiang Shredded Pork","Sauteed Tofu, Home Style","Cucumber","Rice"]
    waiter_sys=waiterSys()
    main_food_sys=mainFoodSys()
    cool_dish_sys=coolDishSys()
    hot_dish_sys=hotDishSys()
    menu=menuAll()
    menu.loadMenu()
    for dish in dish_list:
        if menu.isCool(dish):
            cmd=coolDishCommand(cool_dish_sys,dish)
        elif menu.isHot(dish):
            cmd=hotDishCommand(hot_dish_sys,dish)
        elif menu.isMain(dish):
            cmd=mainFoodCommand(main_food_sys,dish)
        else:
            continue
        waiter_sys.setOrder(cmd)
    waiter_sys.notify()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
WAITER:Add dishWAITER:Add dishWAITER:Add dishWAITER:Add dishWAITER:Nofifyâ€¦HOTDISH:Cook Yu-Shiang Shredded PorkHOTDISH:Cook Sauteed Tofu, Home StyleCOOLDISH:Cook CucumberMAINFOOD:Cook Rice
```

### äºŒã€å‘½ä»¤æ¨¡å¼

å‘½ä»¤æ¨¡å¼çš„å®šä¹‰ä¸ºï¼šå°†ä¸€ä¸ªè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯·æ±‚å°†å®¢æˆ·ç«¯å‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œå¯ä»¥æä¾›å‘½ä»¤çš„æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚å‘½ä»¤æ¨¡å¼ä¸­é€šå¸¸æ¶‰åŠä¸‰ç±»å¯¹è±¡çš„æŠ½è±¡ï¼šReceiverï¼ŒCommandï¼ŒInvokerï¼ˆæœ¬ä¾‹ä¸­çš„waiterSysï¼‰ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/2a9a6d4e16b31cc03d75ae6d9cbdb4f9.png)

åªæœ‰ä¸€ä¸ªInvokerçš„å‘½ä»¤æ¨¡å¼ä¹Ÿå¯ä»¥æŠ½è±¡æˆä¸€ä¸ªç±»ä¼¼çš„â€œæ˜Ÿå½¢ç½‘ç»œâ€ï¼Œä½†ä¸ä¹‹å‰ä»‹ç»çš„ä¸­ä»‹è€…æ¨¡å¼ä¸åŒï¼Œå•çº¯çš„å‘½ä»¤æ¨¡å¼æ›´åƒæ˜¯ä¸€ä¸ªè¾å°„çŠ¶çš„ç»“æ„ï¼Œç”±Invokerç›´æ¥å¯¹Receiverä¼ é€’å‘½ä»¤ï¼Œè€Œä¸€èˆ¬ä¸åå‘ä¼ é€’ï¼Œä¸­ä»‹è€…æ¨¡å¼â€œæ˜Ÿå½¢ç½‘ç»œâ€çš„ä¸­å¿ƒï¼Œæ˜¯ä¸ªåè°ƒè€…ï¼ŒæŠ½è±¡ç»“èŠ‚é—´çš„ä¿¡æ¯æµå…¨éƒ¨æˆ–è€…éƒ¨åˆ†æ˜¯åŒå‘çš„ã€‚å¦å¤–ï¼Œå‘½ä»¤æ¨¡å¼çš„å®šä¹‰ä¸­æåˆ°äº†â€œæ’¤é”€å’Œæ¢å¤åŠŸèƒ½â€ï¼Œä¹Ÿç»™äº†å„ä½å¼€å‘äººå‘˜ä¸€ä¸ªå‘½ä»¤æ¨¡å¼ä½¿ç”¨è¿‡ç¨‹ä¸­çš„å»ºè®®ï¼šå„ä¸ªReceiverä¸­å¯ä»¥è®¾è®¡ä¸€ä¸ªå›æ»šæ¥å£ï¼Œæ”¯æŒå‘½ä»¤çš„â€œæ’¤é”€â€ã€‚

### ä¸‰ã€å‘½ä»¤æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€ä½è€¦åˆï¼šè°ƒç”¨è€…å’Œæ¥æ”¶è€…ä¹‹é—´æ²¡æœ‰ä»€ä¹ˆç›´æ¥å…³ç³»ï¼ŒäºŒè€…é€šè¿‡å‘½ä»¤ä¸­çš„executeæ¥å£è”ç³»ï¼›2ã€æ‰©å±•æ€§å¥½ï¼šæ–°å‘½ä»¤å¾ˆå®¹æ˜“åŠ å…¥ï¼Œä¹Ÿå¾ˆå®¹æ˜“æ‹¼å‡ºâ€œç»„åˆå‘½ä»¤â€ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€è§¦å‘-åé¦ˆæœºåˆ¶çš„ç³»ç»Ÿï¼Œéƒ½å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¨¡å¼æ€æƒ³ã€‚å¦‚åŸºäºç®¡é“ç»“æ„çš„å‘½ä»¤ç³»ç»Ÿï¼ˆå¦‚SHELLï¼‰ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨å‘½ä»¤æ¨¡å¼ï¼›æ­¤å¤–ï¼ŒGUIç³»ç»Ÿä¸­çš„æ“ä½œåé¦ˆï¼ˆå¦‚ç‚¹å‡»ã€é”®å…¥ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤æ¨¡å¼æ€æƒ³ã€‚

### å››ã€å‘½ä»¤æ¨¡å¼çš„ç¼ºç‚¹

1ã€å¦‚æœä¸šåŠ¡åœºæ™¯ä¸­å‘½ä»¤æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå¯¹åº”å‘½ä»¤ç±»å’Œå‘½ä»¤å¯¹è±¡çš„æ•°é‡ä¹Ÿä¼šå¢åŠ ï¼Œè¿™æ ·ç³»ç»Ÿä¼šè†¨èƒ€å¾—å¾ˆå¤§ã€‚

## 15 ä¸­ä»‹è€…æ¨¡å¼

### ä¸€ã€ä»“å‚¨ç®¡ç†ç³»ç»Ÿ

æœ‰ä¸€ä¸ªæ‰‹æœºä»“å‚¨ç®¡ç†ç³»ç»Ÿï¼Œä½¿ç”¨è€…æœ‰ä¸‰æ–¹ï¼šé”€å”®ã€ä»“åº“ç®¡ç†å‘˜ã€é‡‡è´­ã€‚éœ€æ±‚æ˜¯ï¼šé”€å”®ä¸€æ—¦è¾¾æˆè®¢å•ï¼Œé”€å”®äººå‘˜ä¼šé€šè¿‡ç³»ç»Ÿçš„é”€å”®å­ç³»ç»Ÿéƒ¨åˆ†é€šçŸ¥ä»“å‚¨å­ç³»ç»Ÿï¼Œä»“å‚¨å­ç³»ç»Ÿä¼šå°†å¯å‡ºä»“æ‰‹æœºæ•°é‡å‡å°‘ï¼ŒåŒæ—¶é€šçŸ¥é‡‡è´­ç®¡ç†å­ç³»ç»Ÿå½“å‰é”€å”®è®¢å•ï¼›ä»“å‚¨å­ç³»ç»Ÿçš„åº“å­˜åˆ°è¾¾é˜ˆå€¼ä»¥ä¸‹ï¼Œä¼šé€šçŸ¥é”€å”®å­ç³»ç»Ÿå’Œé‡‡è´­å­ç³»ç»Ÿï¼Œå¹¶ç£ä¿ƒé‡‡è´­å­ç³»ç»Ÿé‡‡è´­ï¼›é‡‡è´­å®Œæˆåï¼Œé‡‡è´­äººå‘˜ä¼šæŠŠé‡‡è´­ä¿¡æ¯å¡«å…¥é‡‡è´­å­ç³»ç»Ÿï¼Œé‡‡è´­å­ç³»ç»Ÿä¼šé€šçŸ¥é”€å”®å­ç³»ç»Ÿé‡‡è´­å®Œæˆï¼Œå¹¶é€šçŸ¥ä»“åº“å­ç³»ç»Ÿå¢åŠ åº“å­˜ã€‚ä»éœ€æ±‚æè¿°æ¥çœ‹ï¼Œæ¯ä¸ªå­ç³»ç»Ÿéƒ½å’Œå…¶å®ƒå­ç³»ç»Ÿæœ‰æ‰€äº¤æµï¼Œåœ¨è®¾è®¡ç³»ç»Ÿæ—¶ï¼Œå¦‚æœç›´æ¥åœ¨ä¸€ä¸ªå­ç³»ç»Ÿä¸­é›†æˆå¯¹å¦ä¸¤ä¸ªå­ç³»ç»Ÿçš„æ“ä½œï¼Œä¸€æ˜¯è€¦åˆå¤ªå¤§ï¼ŒäºŒæ˜¯ä¸æ˜“æ‰©å±•ã€‚ä¸ºè§£å†³è¿™ç±»é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªæ–°çš„è§’è‰²-ä¸­ä»‹è€…-æ¥å°†â€œç½‘çŠ¶ç»“æ„â€ç²¾ç®€ä¸ºâ€œæ˜Ÿå½¢ç»“æ„â€ã€‚ï¼ˆä¸ºå……åˆ†è¯´æ˜è®¾è®¡æ¨¡å¼ï¼ŒæŸäº›ç³»ç»Ÿç»†èŠ‚æš‚æ—¶ä¸è€ƒè™‘ï¼Œä¾‹å¦‚ï¼šä»“åº“æ»¡äº†æ€ä¹ˆåŠè¯¥æ€ä¹ˆè®¾è®¡ã€‚ç±»ä¼¼ä¸šåŠ¡æ€§çš„å†…å®¹æš‚æ—¶ä¸è€ƒè™‘ï¼‰é¦–å…ˆæ„é€ ä¸‰ä¸ªå­ç³»ç»Ÿï¼Œå³ä¸‰ä¸ªç±»ï¼ˆåœ¨ä¸­ä»‹è€…æ¨¡å¼ä¸­ï¼Œè¿™äº›ç±»å«åšåŒäº‹äº›ï¼‰ï¼š

```
class colleague():
    mediator = None
    def __init__(self,mediator):
        self.mediator = mediator
class purchaseColleague(colleague):
    def buyStuff(self,num):
        print "PURCHASE:Bought %s"%num
        self.mediator.execute("buy",num)
    def getNotice(self,content):
        print "PURCHASE:Get Notice--%s"%content
class warehouseColleague(colleague):
    total=0
    threshold=100
    def setThreshold(self,threshold):
        self.threshold=threshold
    def isEnough(self):
        if self.total&lt;self.threshold:
            print "WAREHOUSE:Warning...Stock is low... "
            self.mediator.execute("warning",self.total)
            return False
        else:
            return True
    def inc(self,num):
        self.total+=num
        print "WAREHOUSE:Increase %s"%num
        self.mediator.execute("increase",num)
        self.isEnough()
    def dec(self,num):
        if num&gt;self.total:
            print "WAREHOUSE:Error...Stock is not enough"
        else:
            self.total-=num
            print "WAREHOUSE:Decrease %s"%num
            self.mediator.execute("decrease",num)
        self.isEnough()
class salesColleague(colleague):
    def sellStuff(self,num):
        print "SALES:Sell %s"%num
        self.mediator.execute("sell",num)
    def getNotice(self, content):
        print "SALES:Get Notice--%s" % content
```

**å½“å„ä¸ªç±»åœ¨åˆå§‹æ—¶éƒ½ä¼šæŒ‡å®šä¸€ä¸ªä¸­ä»‹è€…ï¼Œè€Œå„ä¸ªç±»åœ¨æœ‰å˜åŠ¨æ—¶ï¼Œä¹Ÿä¼šé€šçŸ¥ä¸­ä»‹è€…ï¼Œç”±ä¸­ä»‹è€…åè°ƒå„ä¸ªç±»çš„æ“ä½œã€‚** **ä¸­ä»‹è€…å®ç°å¦‚ä¸‹ï¼š**

```
class abstractMediator():
    purchase=""
    sales=""
    warehouse=""
    def setPurchase(self,purchase):
        self.purchase=purchase
    def setWarehouse(self,warehouse):
        self.warehouse=warehouse
    def setSales(self,sales):
        self.sales=sales
    def execute(self,content,num):
        pass
class stockMediator(abstractMediator):
    def execute(self,content,num):
        print "MEDIATOR:Get Info--%s"%content
        if  content=="buy":
            self.warehouse.inc(num)
            self.sales.getNotice("Bought %s"%num)
        elif content=="increase":
            self.sales.getNotice("Inc %s"%num)
            self.purchase.getNotice("Inc %s"%num)
        elif content=="decrease":
            self.sales.getNotice("Dec %s"%num)
            self.purchase.getNotice("Dec %s"%num)
        elif content=="warning":
            self.sales.getNotice("Stock is low.%s Left."%num)
            self.purchase.getNotice("Stock is low. Please Buy More!!! %s Left"%num)
        elif content=="sell":
            self.warehouse.dec(num)
            self.purchase.getNotice("Sold %s"%num)
        else:
            pass
```

**ä¸­ä»‹è€…æ¨¡å¼ä¸­çš„executeæ˜¯æœ€é‡è¦çš„æ–¹æ³•ï¼Œå®ƒæ ¹æ®åŒäº‹ç±»ä¼ é€’çš„ä¿¡æ¯ï¼Œç›´æ¥åè°ƒå„ä¸ªåŒäº‹çš„å·¥ä½œã€‚** **åœ¨åœºæ™¯ç±»ä¸­ï¼Œè®¾ç½®ä»“å‚¨é˜ˆå€¼ä¸º200ï¼Œå…ˆé‡‡è´­300ï¼Œå†å–å‡º120ï¼Œå®ç°å¦‚ä¸‹ï¼š**

```
if  __name__=="__main__":
    mobile_mediator=stockMediator()
    mobile_purchase=purchaseColleague(mobile_mediator)
    mobile_warehouse=warehouseColleague(mobile_mediator)
    mobile_sales=salesColleague(mobile_mediator)
    mobile_mediator.setPurchase(mobile_purchase)
    mobile_mediator.setWarehouse(mobile_warehouse)
    mobile_mediator.setSales(mobile_sales)

    mobile_warehouse.setThreshold(200)
    mobile_purchase.buyStuff(300)
    mobile_sales.sellStuff(120)
```

**æ‰“å°ç»“æœå¦‚ä¸‹ï¼š**

```
PURCHASE:Bought 300MEDIATOR:Get Infoâ€“buyWAREHOUSE:Increase 300MEDIATOR:Get Infoâ€“increaseSALES:Get Noticeâ€“Inc 300PURCHASE:Get Noticeâ€“Inc 300SALES:Get Noticeâ€“Bought 300SALES:Sell 120MEDIATOR:Get Infoâ€“sellWAREHOUSE:Decrease 120MEDIATOR:Get Infoâ€“decreaseSALES:Get Noticeâ€“Dec 120PURCHASE:Get Noticeâ€“Dec 120WAREHOUSE:Warningâ€¦Stock is lowâ€¦ MEDIATOR:Get Infoâ€“warningSALES:Get Noticeâ€“Stock is low.180 Left.PURCHASE:Get Noticeâ€“Stock is low. Please Buy More!!! 180 LeftPURCHASE:Get Noticeâ€“Sold 120
```

### äºŒã€ä¸­ä»‹è€…æ¨¡å¼

ä¸­ä»‹è€…æ¨¡å¼çš„å®šä¹‰ä¸ºï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°äº’ç›¸ä½œç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œå¹¶å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/eee6db0f9715f7de8310ff12d758b1fe.png)

### ä¸‰ã€ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å‡å°‘ç±»ä¸ç±»çš„ä¾èµ–ï¼Œé™ä½äº†ç±»å’Œç±»ä¹‹é—´çš„è€¦åˆï¼›2ã€å®¹æ˜“æ‰©å±•è§„æ¨¡ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€è®¾è®¡ç±»å›¾æ—¶ï¼Œå‡ºç°äº†ç½‘çŠ¶ç»“æ„æ—¶ï¼Œå¯ä»¥è€ƒè™‘å°†ç±»å›¾è®¾è®¡æˆæ˜Ÿå‹ç»“æ„ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼äº†ã€‚å¦‚æœºåœºè°ƒåº¦ç³»ç»Ÿï¼ˆå¤šä¸ªè·‘é“ã€é£æœºã€æŒ‡æŒ¥å¡”ä¹‹é—´çš„è°ƒåº¦ï¼‰ã€è·¯ç”±ç³»ç»Ÿï¼›è‘—åçš„MVCæ¡†æ¶ä¸­ï¼Œå…¶ä¸­çš„Cï¼ˆControllerï¼‰å°±æ˜¯Mï¼ˆModelï¼‰å’ŒVï¼ˆViewï¼‰çš„ä¸­ä»‹è€…ã€‚

### å››ã€ä¸­ä»‹è€…æ¨¡å¼çš„ç¼ºç‚¹

1ã€ä¸­ä»‹è€…æœ¬èº«çš„å¤æ‚æ€§å¯èƒ½ä¼šå¾ˆå¤§ï¼Œä¾‹å¦‚ï¼ŒåŒäº‹ç±»çš„æ–¹æ³•å¦‚æœå¾ˆå¤šçš„è¯ï¼Œæœ¬ä¾‹ä¸­çš„executeé€»è¾‘ä¼šå¾ˆå¤æ‚ã€‚

## 16 æ¨¡æ¿æ¨¡å¼

### ä¸€ã€è‚¡ç¥¨æŸ¥è¯¢å®¢æˆ·ç«¯

æŠ•èµ„è‚¡ç¥¨æ˜¯ç§å¸¸è§çš„ç†è´¢æ–¹å¼ï¼Œæˆ‘å›½è‚¡æ°‘è¶Šæ¥è¶Šå¤šï¼Œå®æ—¶æŸ¥è¯¢è‚¡ç¥¨çš„éœ€æ±‚ä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„è‚¡ç¥¨æŸ¥è¯¢å®¢æˆ·ç«¯æ¥è®¤è¯†ä¸€ç§ç®€å•çš„è®¾è®¡æ¨¡å¼ï¼šæ¨¡æ¿æ¨¡å¼ã€‚æ ¹æ®è‚¡ç¥¨ä»£ç æ¥æŸ¥è¯¢è‚¡ä»·åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼šç™»å½•ã€è®¾ç½®è‚¡ç¥¨ä»£ç ã€æŸ¥è¯¢ã€å±•ç¤ºã€‚æ„é€ å¦‚ä¸‹çš„è™šæ‹Ÿè‚¡ç¥¨æŸ¥è¯¢å™¨ï¼š

```
class StockQueryDevice():
    stock_code="0"
    stock_price=0.0
    def login(self,usr,pwd):
        pass
    def setCode(self,code):
        self.stock_code=code
    def queryPrice(self):
        pass
    def showPrice(self):
        pass
```

**ç°åœ¨æŸ¥è¯¢æœºæ„å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸åŒçš„æŸ¥è¯¢æœºæ„å’ŒæŸ¥è¯¢æ–¹å¼ï¼Œæ¥é€šè¿‡ç»§æ‰¿çš„æ–¹å¼å®ç°å…¶å¯¹åº”çš„è‚¡ç¥¨æŸ¥è¯¢å™¨ç±»ã€‚ä¾‹å¦‚ï¼ŒWebAå’ŒWebBçš„æŸ¥è¯¢å™¨ç±»å¯ä»¥æ„é€ å¦‚ä¸‹ï¼š**

```
class WebAStockQueryDevice(StockQueryDevice):
    def login(self,usr,pwd):
        if usr=="myStockA" and pwd=="myPwdA":
            print "Web A:Login OK... user:%s pwd:%s"%(usr,pwd)
            return True
        else:
            print "Web A:Login ERROR... user:%s pwd:%s"%(usr,pwd)
            return False
    def queryPrice(self):
        print "Web A Querying...code:%s "%self.stock_code
        self.stock_price=20.00
    def showPrice(self):
        print "Web A Stock Price...code:%s price:%s"%(self.stock_code,self.stock_price)
class WebBStockQueryDevice(StockQueryDevice):
    def login(self,usr,pwd):
        if usr=="myStockB" and pwd=="myPwdB":
            print "Web B:Login OK... user:%s pwd:%s"%(usr,pwd)
            return True
        else:
            print "Web B:Login ERROR... user:%s pwd:%s"%(usr,pwd)
            return False
    def queryPrice(self):
        print "Web B Querying...code:%s "%self.stock_code
        self.stock_price=30.00
    def showPrice(self):
        print "Web B Stock Price...code:%s price:%s"%(self.stock_code,self.stock_price)
```

**åœ¨åœºæ™¯ä¸­ï¼Œæƒ³è¦åœ¨ç½‘ç«™Aä¸ŠæŸ¥è¯¢è‚¡ç¥¨ï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š**

```
if  __name__=="__main__":
    web_a_query_dev=WebAStockQueryDevice()
    web_a_query_dev.login("myStockA","myPwdA")
    web_a_query_dev.setCode("12345")
    web_a_query_dev.queryPrice()
    web_a_query_dev.showPrice()
```

**æ‰“å°ç»“æœå¦‚ä¸‹ï¼š**

```
Web A:Login OKâ€¦ user:myStockA pwd:myPwdAWeb A Queryingâ€¦code:12345 Web A Stock Priceâ€¦code:12345 price:20.0
```

**æ¯æ¬¡æ“ä½œï¼Œéƒ½ä¼šè°ƒç”¨ç™»å½•ï¼Œè®¾ç½®ä»£ç ï¼ŒæŸ¥è¯¢ï¼Œå±•ç¤ºè¿™å‡ æ­¥ï¼Œæ˜¯ä¸æ˜¯æœ‰äº›ç¹çï¼Ÿæ—¢ç„¶æœ‰äº›ç¹çï¼Œä½•ä¸å°†è¿™å‡ æ­¥è¿‡ç¨‹å°è£…æˆä¸€ä¸ªæ¥å£ã€‚ç”±äºå„ä¸ªå­ç±»ä¸­çš„æ“ä½œè¿‡ç¨‹åŸºæœ¬æ»¡è¶³è¿™ä¸ªæµç¨‹ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•å¯ä»¥å†™åœ¨çˆ¶ç±»ä¸­ï¼š**

```
class StockQueryDevice():
    stock_code="0"
    stock_price=0.0
    def login(self,usr,pwd):
        pass
    def setCode(self,code):
        self.stock_code=code
    def queryPrice(self):
        pass
    def showPrice(self):
        pass
    def operateQuery(self,usr,pwd,code):
        self.login(usr,pwd)
        self.setCode(code)
        self.queryPrice()
        self.showPrice()
        return True
```

**è¿™æ ·ï¼Œåœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå°±å¯ä»¥é€šè¿‡operateQueryä¸€æ°”å‘µæˆäº†ã€‚**

```
if  __name__=="__main__":
    web_a_query_dev=WebAStockQueryDevice()
    web_a_query_dev.operateQuery("myStockA","myPwdA","12345")
```

è¿™ç§åŸºæœ¬æ¯ä¸ªç¨‹åºå‘˜éƒ½ä¼šæƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯æ¨¡æ¿æ¨¡å¼ã€‚å¾ˆç®€å•å§ã€‚ä½†ä¹Ÿè®¸ä½ ä¼šé—®ï¼Œç™»å½•å¹¶ä¸ä¸€å®šæ¯æ¬¡éƒ½ä¼šæˆåŠŸå‘€ï¼Ÿæ˜¯çš„ï¼Œæ‰€ä»¥åœ¨operateQueryæ¥å£ä¸­éœ€è¦åšä¸€é‡åˆ¤æ–­ï¼Œå†™æˆï¼š

```
def operateQuery(self,usr,pwd,code):
    if not self.login(usr,pwd):
        return False
    self.setCode(code)
    self.queryPrice()
    self.showPrice()
    return True
```

åœ¨æ¨¡æ¿æ¨¡å¼ä¸­ï¼Œåƒè¿™æ ·ç±»ä¼¼äºloginç­‰æ ¹æ®ç‰¹å®šæƒ…å†µï¼Œå®šåˆ¶æŸäº›ç‰¹å®šåŠ¨ä½œçš„å‡½æ•°ï¼Œè¢«ç§°ä½œé’©å­å‡½æ•°ã€‚æ­¤ä¾‹ä¸­ï¼Œå¦‚æœç™»å½•å¤±è´¥ï¼ˆuserï¼šmyStock Bï¼Œpwd:myPwdAï¼‰ï¼Œä¼šæ‰“å°å¦‚ä¸‹ç»“æœï¼šWeb A:Login ERRORâ€¦ user:myStockB pwd:myPwdA

### äºŒã€æ¨¡æ¿æ¨¡å¼

æ¨¡æ¿æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„æ¡†æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šçš„æ­¥éª¤ã€‚å­ç±»å®ç°çš„å…·ä½“æ–¹æ³•å«ä½œåŸºæœ¬æ–¹æ³•ï¼Œå®ç°å¯¹åŸºæœ¬æ–¹æ³•é«˜åº¦çš„æ¡†æ¶æ–¹æ³•ï¼Œå«ä½œæ¨¡æ¿æ–¹æ³•ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/dada6ad5dc9bf59d3da06c27c037e617.png)

### ä¸‰ã€æ¨¡æ¿æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨

##### ä¼˜ç‚¹ï¼š

1ã€å¯å˜çš„éƒ¨åˆ†å¯ä»¥å……åˆ†æ‰©å±•ï¼Œä¸å˜çš„æ­¥éª¤å¯ä»¥å……åˆ†å°è£…ï¼›2ã€æå–å…¬å…±ä»£ç ï¼Œå‡å°‘å†—ä½™ä»£ç ï¼Œä¾¿äºç»´æŠ¤ï¼›3ã€å…·ä½“è¿‡ç¨‹å¯ä»¥å®šåˆ¶ï¼Œæ€»ä½“æµç¨‹æ–¹ä¾¿æŒæ§ã€‚

##### ä½¿ç”¨åœºæ™¯ï¼š

1ã€æŸè¶…ç±»çš„å­ç±»ä¸­æœ‰å…¬æœ‰çš„æ–¹æ³•ï¼Œå¹¶ä¸”é€»è¾‘åŸºæœ¬ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ¨¡å¼ã€‚å¿…è¦æ—¶å¯ä»¥ä½¿ç”¨é’©å­æ–¹æ³•çº¦æŸå…¶è¡Œä¸ºã€‚å…·ä½“å¦‚æœ¬èŠ‚ä¾‹å­ï¼›2ã€æ¯”è¾ƒå¤æ‚çš„ç®—æ³•ï¼Œå¯ä»¥æŠŠæ ¸å¿ƒç®—æ³•æå–å‡ºæ¥ï¼Œå‘¨è¾¹åŠŸèƒ½åœ¨å­ç±»ä¸­å®ç°ã€‚ä¾‹å¦‚ï¼Œæœºå™¨å­¦ä¹ ä¸­çš„ç›‘ç£å­¦ä¹ ç®—æ³•æœ‰å¾ˆå¤šï¼Œå¦‚å†³ç­–æ ‘ã€KNNã€SVMç­‰ï¼Œä½†æœºå™¨å­¦ä¹ çš„æµç¨‹å¤§è‡´ç›¸åŒï¼Œéƒ½åŒ…å«è¾“å…¥æ ·æœ¬ã€æ‹Ÿåˆï¼ˆfitï¼‰ã€é¢„æµ‹ç­‰è¿‡ç¨‹ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠè¿™äº›è¿‡ç¨‹æå–å‡ºæ¥ï¼Œæ„é€ æ¨¡æ¿æ–¹æ³•ï¼Œå¹¶é€šè¿‡é’©å­æ–¹æ³•æ§åˆ¶æµç¨‹ã€‚

### å››ã€æ¨¡æ¿æ¨¡å¼çš„ç¼ºç‚¹

1ã€æ¨¡æ¿æ¨¡å¼åœ¨æŠ½è±¡ç±»ä¸­å®šä¹‰äº†å­ç±»çš„æ–¹æ³•ï¼Œå³å­ç±»å¯¹çˆ¶ç±»äº§ç”Ÿäº†å½±å“ï¼Œéƒ¨åˆ†å½±å“äº†ä»£ç çš„å¯è¯»æ€§ã€‚

## 17 è¿­ä»£å™¨æ¨¡å¼

### ä¸€ã€è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨

ä»Šå¤©çš„ä¸»è§’æ˜¯è¿­ä»£å™¨æ¨¡å¼ã€‚åœ¨pythonä¸­ï¼Œè¿­ä»£å™¨å¹¶ä¸ç”¨ä¸¾å¤ªå¤šçš„ä¾‹å­ï¼Œå› ä¸ºpythonä¸­çš„è¿­ä»£å™¨åº”ç”¨å®åœ¨å¤ªå¤šäº†ï¼ˆä¸ç®¡æ˜¯pythonè¿˜æ˜¯å…¶å®ƒå¾ˆå¤šçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå®é™…ä¸Šè¿­ä»£å™¨éƒ½å·²ç»çº³å…¥åˆ°äº†å¸¸ç”¨çš„åº“æˆ–è€…åŒ…ä¸­ï¼‰ã€‚è€Œä¸”åœ¨å½“å‰ï¼Œä¹Ÿå‡ ä¹æ²¡æœ‰äººä¸“é—¨å»å¼€å‘ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè€Œæ˜¯ç›´æ¥å»ä½¿ç”¨listã€stringã€setã€dictç­‰pythonå¯è¿­ä»£å¯¹è±¡ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨**iter**å’Œnextå‡½æ•°æ¥å®ç°è¿­ä»£å™¨ã€‚å¦‚ä¸‹ä¾‹ï¼š

```
if __name__=="__main__":
    lst=["hello Alice","hello Bob","hello Eve"]
    lst_iter=iter(lst)
    print lst_iter
    print lst_iter.next()
    print lst_iter.next()
    print lst_iter.next()
    print lst_iter.next()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
hello Alicehello Bobhello EveTraceback (most recent call last):File â€œD:/WorkSpace/Project/PyDesignMode/example.pyâ€, line 719, in print lst_iter.next()StopIteration
```

åœ¨è¿™ç§è¿­ä»£å™¨çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœnextè¶…è¿‡äº†è¿­ä»£èŒƒå›´ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚åœ¨pythonå¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œä¹Ÿå¯ä»¥è½»æ˜“ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼æ„é€ å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚ä¸‹ä¾‹ï¼š

```
class MyIter(object):
    def __init__(self, n):
        self.index = 0
        self.n = n
    def __iter__(self):
        return self
    def next(self):
        if self.index &lt; self.n:
            value = self.index**2
            self.index += 1
            return value
        else:
            raise StopIteration()
```

**iter**å’Œnextå®ç°äº†è¿­ä»£å™¨æœ€åŸºæœ¬çš„æ–¹æ³•ã€‚å¦‚ä¸‹æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼š

```
if __name__=="__main__":
    x_square=MyIter(10)
    for x in x_square:
        print x
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
0149162536496481
```

\*\*æ³¨æ„\*_iter\*_æ–¹æ³•ä¸­çš„è¿”å›å€¼ï¼Œç”±äºç›´æ¥è¿”å›äº†selfï¼Œå› è€Œè¯¥è¿­ä»£å™¨æ˜¯æ— æ³•é‡å¤è¿­ä»£çš„ï¼Œå¦‚ä»¥ä¸‹ä¸šåŠ¡åœºæ™¯ï¼š__

```
if __name__=="__main__":
    x_square=MyIter(10)
    for x in x_square:
        print x
    for x in x_square:
        print x
```

\*\*åªèƒ½æ‰“å°ä¸€éå¹³æ–¹å€¼ã€‚è§£å†³åŠæ³•æ˜¯ï¼Œåœ¨\*_iter\*_ä¸­ä¸è¿”å›å®ä¾‹ï¼Œè€Œå†è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå†™æˆï¼š__

```
def __iter__(self):
    return MyIter(self.n)
```

è¿™æ ·ï¼Œåœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½å¯ä»¥å°†è¿­ä»£å™¨â€œåˆå§‹åŒ–â€ï¼Œå°±å¯ä»¥å¤šæ¬¡è¿­ä»£äº†ã€‚å¦å¤–ï¼Œåœ¨pythonä¸­ï¼Œä½¿ç”¨ç”Ÿæˆå™¨å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ”¯æŒè¿­ä»£å™¨åè®®ã€‚ç”Ÿæˆå™¨é€šè¿‡ç”Ÿæˆå™¨å‡½æ•°äº§ç”Ÿï¼Œç”Ÿæˆå™¨å‡½æ•°å¯ä»¥é€šè¿‡å¸¸è§„çš„defè¯­å¥æ¥å®šä¹‰ï¼Œä½†æ˜¯ä¸ç”¨returnè¿”å›ï¼Œè€Œæ˜¯ç”¨yieldä¸€æ¬¡è¿”å›ä¸€ä¸ªç»“æœï¼Œåœ¨æ¯ä¸ªç»“æœä¹‹é—´æŒ‚èµ·å’Œç»§ç»­å®ƒä»¬çš„çŠ¶æ€ï¼Œæ¥è‡ªåŠ¨å®ç°è¿­ä»£åè®®ã€‚å¦‚ä¸‹ä¾‹ï¼š

```
def MyGenerater(n):
    index=0
    while index&lt;n:
        yield index**2
        index+=1
```

**æ³¨æ„ï¼Œè¿™æ˜¯ä¸ªå‡½æ•°ã€‚åœ¨æ¯æ¬¡è°ƒç”¨ç”Ÿæˆå™¨ï¼Œå¾—åˆ°è¿”å›ç»“æœåï¼Œç°åœºå¾—ä»¥ä¿ç•™ï¼Œä¸‹æ¬¡å†è°ƒç”¨è¯¥ç”Ÿ æˆå™¨æ—¶ï¼Œè¿”å›ä¿ç•™çš„ç°åœºä»yieldåç»§ç»­æ‰§è¡Œç¨‹åºã€‚**

```
if __name__=="__main__":
    x_square=MyGenerater(10)
    for x in x_square:
        print x
```

**æ‰“å°ç»“æœä¸ä¸Šé¢ä¸€è‡´ã€‚**

### äºŒã€è¿­ä»£å™¨æ¨¡å¼

è¿­ä»£å™¨æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šå®ƒæä¾›ä¸€ç§æ–¹æ³•ï¼Œè®¿é—®ä¸€ä¸ªå®¹å™¨å¯¹è±¡ä¸­å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/3afec3b85817555b43c44913e0456ae9.png)

## 18 è®¿é—®è€…æ¨¡å¼

### ä¸€ã€è¯æˆ¿ä¸šåŠ¡ç³»ç»Ÿ

å‡è®¾ä¸€ä¸ªè¯æˆ¿ï¼Œæœ‰ä¸€äº›å¤§å¤«ï¼Œä¸€ä¸ªè¯å“åˆ’ä»·å‘˜å’Œä¸€ä¸ªè¯æˆ¿ç®¡ç†å‘˜ï¼Œå®ƒä»¬é€šè¿‡ä¸€ä¸ªè¯æˆ¿ç®¡ç†ç³»ç»Ÿç»„ç»‡å·¥ä½œæµç¨‹ã€‚å¤§å¤«å¼€å‡ºè¯æ–¹åï¼Œè¯å“åˆ’ä»·å‘˜ç¡®å®šè¯å“æ˜¯å¦æ­£å¸¸ï¼Œä»·æ ¼æ˜¯å¦æ­£ç¡®ï¼›é€šè¿‡åè¯æˆ¿ç®¡ç†å‘˜è¿›è¡Œå¼€è¯å¤„ç†ã€‚è¯¥ç³»ç»Ÿå¯ä»¥å¦‚ä½•å®ç°ï¼Ÿæœ€ç®€å•çš„æƒ³æ³•ï¼Œæ˜¯åˆ†åˆ«ç”¨ä¸€ä¸ªä¸€ä¸ªifâ€¦elseâ€¦æŠŠåˆ’ä»·å‘˜å¤„ç†æµç¨‹å’Œè¯æˆ¿ç®¡ç†æµç¨‹å®ç°ï¼Œè¿™æ ·åšçš„é—®é¢˜åœ¨äºï¼Œæ‰©å±•æ€§ä¸å¼ºï¼Œè€Œä¸”å•ä¸€æ€§ä¸å¼ºï¼Œä¸€æ—¦æœ‰æ–°è¯çš„åŠ å…¥æˆ–è€…åˆ’ä»·æµç¨‹ã€å¼€è¯æµç¨‹æœ‰äº›å˜åŠ¨ï¼Œä¼šç‰µæ‰¯æ¯”è¾ƒå¤šçš„æ”¹åŠ¨ã€‚ä»Šå¤©ä»‹ç»ä¸€ç§è§£å†³è¿™ç±»é—®é¢˜çš„æ¨¡å¼ï¼šè®¿é—®è€…æ¨¡å¼ã€‚é¦–å…ˆï¼Œæ„é€ è¯å“ç±»å’Œå·¥ä½œäººå‘˜ç±»ï¼š

```
class Medicine:
    name=""
    price=0.0
    def __init__(self,name,price):
        self.name=name
        self.price=price
    def getName(self):
        return self.name
    def setName(self,name):
        self.name=name
    def getPrice(self):
        return self.price
    def setPrice(self,price):
        self.price=price
    def accept(self,visitor):
        pass
class Antibiotic(Medicine):
    def accept(self,visitor):
        visitor.visit(self)
class Coldrex(Medicine):
    def accept(self,visitor):
        visitor.visit(self)
```

**è¯å“ç±»ä¸­æœ‰ä¸¤ä¸ªå­ç±»ï¼ŒæŠ—ç”Ÿç´ å’Œæ„Ÿå†’è¯ï¼›**

```
class Visitor:
    name=""
    def setName(self,name):
        self.name=name
    def visit(self,medicine):
        pass
class Charger(Visitor):
    def visit(self,medicine):
        print "CHARGE: %s lists the Medicine %s. Price:%s " % (self.name,medicine.getName(),medicine.getPrice())
class Pharmacy(Visitor):
    def visit(self,medicine):
        print "PHARMACY:%s offers the Medicine %s. Price:%s" % (self.name,medicine.getName(),medicine.getPrice())
```

**å·¥ä½œäººå‘˜åˆ†ä¸ºåˆ’ä»·å‘˜å’Œè¯æˆ¿ç®¡ç†å‘˜ã€‚** **åœ¨è¯å“ç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªacceptæ–¹æ³•ï¼Œå…¶å‚æ•°æ˜¯ä¸ªvisitorï¼›è€Œå·¥ä½œäººå‘˜å°±æ˜¯ä»Visitorç±»ä¸­ç»§æ‰¿è€Œæ¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬å°±æ˜¯Visitorï¼Œéƒ½åŒ…å«ä¸€ä¸ªvisitæ–¹æ³•ï¼Œå…¶å‚æ•°åˆæ°æ˜¯medicineã€‚è¯å“ä½œä¸ºå¤„ç†å…ƒç´ ï¼Œä¾æ¬¡å…è®¸ï¼ˆAcceptï¼‰Visitorå¯¹å…¶è¿›è¡Œæ“ä½œï¼Œè¿™å°±å¥½æ¯”æ˜¯ä¸€æ¡æµæ°´çº¿ä¸Šçš„ä¸€ä¸ªä¸ªå·¥äººï¼Œå¯¹äº§å“è¿›è¡Œä¸€æ¬¡æ¬¡çš„åŠ å·¥ã€‚æ•´ä¸ªä¸šåŠ¡æµç¨‹è¿˜å·®ä¸€æ­¥ï¼Œå³è¯æ–¹ç±»çš„æ„å»ºï¼ˆæµæ°´çº¿å¤§æœºå™¨ï¼‰ã€‚**

```
class ObjectStructure:
    pass
class Prescription(ObjectStructure):
    medicines=[]
    def addMedicine(self,medicine):
        self.medicines.append(medicine)
    def rmvMedicine(self,medicine):
        self.medicines.append(medicine)
    def visit(self,visitor):
        for medc in self.medicines:
            medc.accept(visitor)
```

**è¯æ–¹ç±»å°†å¾…å¤„ç†è¯å“è¿›è¡Œæ•´ç†ï¼Œå¹¶ç»„ç»‡Visitorä¾æ¬¡å¤„ç†ã€‚** **ä¸šåŠ¡ä»£ç å¦‚ä¸‹ï¼š**

```
if __name__=="__main__":
    yinqiao_pill=Coldrex("Yinqiao Pill",2.0)
    penicillin=Antibiotic("Penicillin",3.0)
    doctor_prsrp=Prescription()
    doctor_prsrp.addMedicine(yinqiao_pill)
    doctor_prsrp.addMedicine(penicillin)
charger=Charger()
charger.setName("Doctor Strange")
pharmacy=Pharmacy()
pharmacy.setName("Doctor Wei")
doctor_prsrp.visit(charger)
doctor_prsrp.visit(pharmacy)
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
CHARGE: Doctor Strange lists the Medicine Yinqiao Pill. Price:2.0CHARGE: Doctor Strange lists the Medicine Penicillin. Price:3.0PHARMACY:Doctor Wei offers the Medicine Yinqiao Pill. Price:2.0PHARMACY:Doctor Wei offers the Medicine Penicillin. Price:3.0
```

### äºŒã€è®¿é—®è€…æ¨¡å¼

è®¿é—®è€…æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šå°è£…ä¸€äº›ä½œç”¨äºæŸç§æ•°æ®ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œï¼Œå®ƒå¯ä»¥åœ¨ä¸æ”¹å˜æ•°æ®ç»“æ„çš„å‰æä¸‹å®šä¹‰äºä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/7937a7e8ab08806843159255dbe1b167.png)

æåˆ°è®¿é—®è€…æ¨¡å¼ï¼Œå°±ä¸å¾—ä¸æä¸€ä¸‹åŒåˆ†æ´¾ã€‚åˆ†æ´¾åˆ†ä¸ºé™æ€åˆ†æ´¾å’ŒåŠ¨æ€åˆ†æ´¾ã€‚é¦–å…ˆè§£é‡Šä¸‹é™æ€åˆ†æ´¾ï¼Œé™æ€åˆ†æ´¾å³æ ¹æ®è¯·æ±‚è€…çš„åç§°å’Œæ¥æ”¶åˆ°çš„å‚æ•°ï¼Œå†³å®šå¤šæ€æ—¶å¤„ç†çš„æ“ä½œã€‚æ¯”å¦‚åœ¨Javaæˆ–è€…C++ä¸­ï¼Œå®šä¹‰åç§°ç›¸åŒä½†å‚æ•°ä¸åŒçš„å‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®æœ€ç»ˆè¾“å…¥çš„å‚æ•°æ¥å†³å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚åŒåˆ†æ´¾é¡¾åæ€ä¹‰ï¼Œå³æœ€ç»ˆçš„æ“ä½œå†³å®šäºä¸¤ä¸ªæ¥æ”¶è€…çš„ç±»å‹ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œè¯å“å’Œå·¥ä½œäººå‘˜äº’ç›¸è°ƒç”¨äº†å¯¹æ–¹ï¼ˆè¯å“çš„acceptå’Œå·¥ä½œäººå‘˜çš„visitä¸­ï¼Œå¯¹æ–¹éƒ½æ˜¯å‚æ•°ï¼‰ï¼Œå°±æ˜¯åŒåˆ†æ´¾çš„ä¸€ç§åº”ç”¨ã€‚é‚£ä¹ˆPythonæ”¯æŒé™æ€åˆ†æ´¾ä¹ˆï¼Ÿå…ˆçœ‹ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ã€‚

```
def max_num(x,y,z):
    return max(max(x,y),z)
def max_num(x,y):
    return max(x,y)
if __name__=="__main__":
    print max_num(1,2,4)
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
Traceback (most recent call last): File â€œD:/WorkSpace/Project/PyDesignMode/example.pyâ€, line 786, in
```

```
print max_num(1,2,4)
```

TypeError: max\_num() takes exactly 2 arguments (3 given)  
å¯è§ï¼ŒPythonåŸç”Ÿæ˜¯ä¸æ”¯æŒé™æ€åˆ†æ´¾çš„ï¼Œå› è€Œä¹Ÿä¸ç›´æ¥æ”¯æŒæ›´é«˜å±‚æ¬¡çš„åˆ†æ´¾ã€‚è®¿é—®è€…æ¨¡å¼å®ç°çš„åˆ†æ´¾ï¼Œæ˜¯ä¸€ç§åŠ¨æ€åŒåˆ†æ´¾ã€‚ä½†è¿™å¹¶ä¸å¦¨ç¢Pythoné€šè¿‡è®¿é—®è€…æ¨¡å¼å®ç°ä¸€ç§åŸºäºç±»çš„â€œåŒåˆ†æ´¾æ•ˆæœâ€ã€‚Pythonå¤šåˆ†æ´¾å¯ä»¥å‚è€ƒDavid  
Mertz åšå£«çš„ä¸€ç¯‡æ–‡ç« ï¼šå¯çˆ±çš„Pythonï¼šå¤šåˆ†æ´¾â€”ç”¨å¤šå…ƒæ³•æ³›åŒ–å¤šæ ·æ€§ã€‚

### ä¸‰ã€è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€å°†ä¸åŒçš„èŒè´£éå¸¸æ˜ç¡®åœ°åˆ†ç¦»å¼€æ¥ï¼Œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼›2ã€èŒè´£çš„åˆ†å¼€ä¹Ÿç›´æ¥å¯¼è‡´æ‰©å±•éå¸¸ä¼˜è‰¯ï¼Œçµæ´»æ€§éå¸¸é«˜ï¼ŒåŠ å‡å…ƒç´ å’Œè®¿é—®è€…éƒ½éå¸¸å®¹æ˜“ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€è¦éå†ä¸åŒçš„å¯¹è±¡ï¼Œæ ¹æ®å¯¹è±¡è¿›è¡Œä¸åŒçš„æ“ä½œçš„åœºæ™¯ï¼›æˆ–è€…ä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªä¸åŒå¯¹è±¡é¡ºæ¬¡å¤„ç†çš„æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ã€‚é™¤æœ¬ä¾‹å¤–ï¼ŒæŠ¥è¡¨ç”Ÿæˆå™¨ä¹Ÿå¯ä»¥ä½¿ç”¨è®¿é—®è€…æ¨¡å¼å®ç°ï¼ŒæŠ¥è¡¨çš„æ•°æ®æºç”±å¤šä¸ªä¸åŒçš„å¯¹è±¡æä¾›ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯Visitorï¼ŒæŠ¥è¡¨è¿™ä¸ªElementé¡ºæ¬¡Acceptå„è®¿é—®è€…å®Œå–„å¹¶ç”Ÿæˆå¯¹è±¡ã€‚

### å››ã€è®¿é—®è€…æ¨¡å¼çš„ç¼ºç‚¹

1ã€è®¿é—®è€…å¾—çŸ¥äº†å…ƒç´ ç»†èŠ‚ï¼Œä¸æœ€å°éš”ç¦»åŸåˆ™ç›¸æ‚–ï¼›2ã€å…ƒç´ å˜æ›´ä¾æ—§å¯èƒ½å¼•èµ·Visitorçš„ä¿®æ”¹ã€‚

## 19 è§‚å¯Ÿè€…æ¨¡å¼

### ä¸€ã€ç«è­¦æŠ¥è­¦å™¨

åœ¨é—¨é¢æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬æåˆ°è¿‡ç«è­¦æŠ¥è­¦å™¨ã€‚åœ¨å½“æ—¶ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯é€šè¿‡å°è£…å‡å°‘ä»£ç é‡å¤ã€‚è€Œä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä»ä¸šåŠ¡æµç¨‹çš„å®ç°è§’åº¦ï¼Œæ¥å†æ¬¡å®ç°è¯¥ç«è­¦æŠ¥è­¦å™¨ã€‚

```
class AlarmSensor:
    def run(self):
        print "Alarm Ring..."
class WaterSprinker:
    def run(self):
        print "Spray Water..."
class EmergencyDialer:
    def run(self):
        print "Dial 119..."
```

**ä»¥ä¸Šæ˜¯é—¨é¢æ¨¡å¼ä¸­çš„ä¸‰ä¸ªä¼ æ„Ÿå™¨ç±»çš„ç»“æ„ã€‚ä»”ç»†åˆ†æä¸šåŠ¡ï¼ŒæŠ¥è­¦å™¨ã€æ´’æ°´å™¨ã€æ‹¨å·å™¨éƒ½æ˜¯â€œè§‚å¯Ÿâ€çƒŸé›¾ä¼ æ„Ÿå™¨çš„æƒ…å†µæ¥åšååº”çš„ã€‚å› è€Œï¼Œä»–ä»¬ä¸‰ä¸ªéƒ½æ˜¯è§‚å¯Ÿè€…ï¼Œè€ŒçƒŸé›¾ä¼ æ„Ÿå™¨åˆ™æ˜¯è¢«è§‚å¯Ÿå¯¹è±¡äº†ã€‚æ ¹æ®åˆ†æï¼Œå°†ä¸‰ä¸ªç±»æå–å…±æ€§ï¼Œæ³›åŒ–å‡ºâ€œè§‚å¯Ÿè€…â€ç±»ï¼Œå¹¶æ„é€ è¢«è§‚å¯Ÿè€…ã€‚** **è§‚å¯Ÿè€…å¦‚ä¸‹ï¼š**

```
class Observer:
    def update(self):
        pass
class AlarmSensor(Observer):
    def update(self,action):
        print "Alarm Got: %s" % action
        self.runAlarm()
    def runAlarm(self):
        print "Alarm Ring..."
class WaterSprinker(Observer):
    def update(self,action):
        print "Sprinker Got: %s" % action
        self.runSprinker()
    def runSprinker(self):
        print "Spray Water..."
class EmergencyDialer(Observer):
    def update(self,action):
        print "Dialer Got: %s"%action
        self.runDialer()
    def runDialer(self):
        print "Dial 119..."
```

**è§‚å¯Ÿè€…ä¸­å®šä¹‰äº†updateæ¥å£ï¼Œå¦‚æœè¢«è§‚å¯Ÿè€…çŠ¶æ€æ¯”è¾ƒå¤šï¼Œæˆ–è€…æ¯ä¸ªå…·ä½“çš„è§‚å¯Ÿè€…æ–¹æ³•æ¯”è¾ƒå¤šï¼Œå¯ä»¥é€šè¿‡updateä¼ å‚æ•°è¿›è¡Œæ›´ä¸°å¯Œçš„æ§åˆ¶ã€‚** **ä¸‹é¢æ„é€ è¢«è§‚å¯Ÿè€…ã€‚**

```
class Observed:
    observers=[]
    action=""
    def addObserver(self,observer):
        self.observers.append(observer)
    def notifyAll(self):
        for obs in self.observers:
            obs.update(self.action)
class smokeSensor(Observed):
    def setAction(self,action):
        self.action=action
    def isFire(self):
        return True
```

**è¢«è§‚å¯Ÿè€…ä¸­é¦–å…ˆå°†è§‚å¯Ÿå¯¹è±¡åŠ å…¥åˆ°è§‚å¯Ÿè€…æ•°ç»„ä¸­ï¼Œè‹¥å‘ç”Ÿæƒ…å†µï¼Œåˆ™é€šè¿‡notifyAllé€šçŸ¥å„è§‚å¯Ÿè€…ã€‚** **ä¸šåŠ¡ä»£ç å¦‚ä¸‹ï¼š**

```
if __name__=="__main__":
    alarm=AlarmSensor()
    sprinker=WaterSprinker()
    dialer=EmergencyDialer()

    smoke_sensor=smokeSensor()
    smoke_sensor.addObserver(alarm)
    smoke_sensor.addObserver(sprinker)
    smoke_sensor.addObserver(dialer)


    if smoke_sensor.isFire():
        smoke_sensor.setAction("On Fire!")
        smoke_sensor.notifyAll()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
Alarm Got: On Fire!Alarm Ringâ€¦Sprinker Got: On Fire!Spray Waterâ€¦Dialer Got: On Fire!Dial 119â€¦
```

### äºŒã€è§‚å¯Ÿè€…æ¨¡å¼

è§‚å¯Ÿè€…æ¨¡å¼ä¹Ÿå«å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼šå®šä¹‰å¯¹è±¡é—´ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—å½“è¯¥å¯¹è±¡çŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥ï¼Œå¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼çš„é€šçŸ¥æ–¹å¼å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨ç­‰åŒæ­¥æ–¹å¼å®ç°ï¼ˆå¦‚å‡½æ•°è°ƒç”¨ï¼ŒHTTPæ¥å£è°ƒç”¨ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥è°ƒç”¨ï¼ˆåŒæ­¥è°ƒç”¨æŒ‡è¢«è§‚å¯Ÿè€…å‘å¸ƒæ¶ˆæ¯åï¼Œå¿…é¡»ç­‰æ‰€æœ‰è§‚å¯Ÿè€…å“åº”ç»“æŸåæ‰å¯ä»¥è¿›è¡Œæ¥ä¸‹æ¥çš„æ“ä½œï¼›å¼‚æ­¥è°ƒç”¨æŒ‡è¢«è§‚å¯Ÿè€…å‘å¸ƒæ¶ˆæ¯åï¼Œå³å¯è¿›è¡Œæ¥ä¸‹æ¥çš„æ“ä½œã€‚ï¼‰ã€‚äº‹å®ä¸Šï¼Œè®¸å¤šå¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ—å°±ç›´æ¥æ”¯æŒå‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œå¦‚Zero  
MQç­‰ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/6cff6dfbafe5058bf94d25428512ef9d.png)

### ä¸‰ã€è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€è§‚å¯Ÿè€…ä¸è¢«è§‚å¯Ÿè€…ä¹‹é—´æ˜¯æŠ½è±¡è€¦åˆçš„ï¼›2ã€å¯ä»¥å°†è®¸å¤šç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„æ¨¡å—è¿›è¡Œè§¦å‘ï¼Œä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°å¹¿æ’­ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€æ¶ˆæ¯äº¤æ¢åœºæ™¯ã€‚å¦‚ä¸Šè¿°è¯´åˆ°çš„æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼›2ã€å¤šçº§è§¦å‘åœºæ™¯ã€‚æ¯”å¦‚æ”¯æŒä¸­æ–­æ¨¡å¼çš„åœºæ™¯ä¸­ï¼Œä¸€ä¸ªä¸­æ–­å³ä¼šå¼•å‘ä¸€è¿ä¸²ååº”ï¼Œå°±å¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚

### å››ã€è§‚å¯Ÿè€…æ¨¡å¼çš„ç¼ºç‚¹

1ã€è§‚å¯Ÿè€…æ¨¡å¼å¯èƒ½ä¼šå¸¦æ¥æ•´ä½“ç³»ç»Ÿæ•ˆç‡çš„æµªè´¹ï¼›2ã€å¦‚æœè¢«è§‚å¯Ÿè€…ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œå…¶é€»è¾‘å…³ç³»çš„æ¢³ç†éœ€è¦è´¹äº›å¿ƒæ€ã€‚

## 20 è§£é‡Šå™¨æ¨¡å¼

### ä¸€ã€æ¨¡æ‹Ÿå‰ä»–

è¦å¼€å‘ä¸€ä¸ªè‡ªåŠ¨è¯†åˆ«è°±å­çš„å‰ä»–æ¨¡æ‹Ÿå™¨ï¼Œè¾¾åˆ°å½•å…¥è°±å³å¯æŒ‰ç…§è°±å‘å£°çš„æ•ˆæœã€‚é™¤äº†å‘å£°è®¾å¤‡å¤–ï¼ˆå‡è®¾å·²å®Œæˆï¼‰ï¼Œæœ€é‡è¦çš„å°±æ˜¯è¯»è°±å’Œè¯‘è°±èƒ½åŠ›äº†ã€‚åˆ†æå…¶éœ€æ±‚ï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§è‡´ä¸Šåˆ†å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ ¹æ®è§„åˆ™ç¿»è¯‘è°±çš„å†…å®¹ï¼›æ ¹æ®ç¿»è¯‘çš„å†…å®¹æ¼”å¥ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªè§£é‡Šå™¨æ¨¡å‹æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚

```
class PlayContext():
    play_text = None

class Expression():
    def interpret(self, context):
        if len(context.play_text) == 0:
            return
        else:
            play_segs=context.play_text.split(" ")
            for play_seg in play_segs:
                pos=0
                for ele in play_seg:
                    if ele.isalpha():
                        pos+=1
                        continue
                    break
                play_chord = play_seg[0:pos]
                play_value = play_seg[pos:]
                self.execute(play_chord,play_value)
    def execute(self,play_key,play_value):
        pass

class NormGuitar(Expression):
    def execute(self, key, value):
        print "Normal Guitar Playing--Chord:%s Play Tune:%s"%(key,value)
```

**PlayContextç±»ä¸ºè°±çš„å†…å®¹ï¼Œè¿™é‡Œä»…å«ä¸€ä¸ªå­—æ®µï¼Œæ²¡æœ‰æ–¹æ³•ã€‚Expressionå³è¡¨è¾¾å¼ï¼Œé‡Œé¢ä»…å«ä¸¤ä¸ªæ–¹æ³•ï¼Œinterpretè´Ÿè´£è½¬è¯‘è°±ï¼Œexecuteåˆ™è´Ÿè´£æ¼”å¥ï¼›NormGuitarç±»è¦†å†™executeï¼Œä»¥å‰ä»– çš„æ–¹å¼æ¼”å¥ã€‚** **ä¸šåŠ¡åœºæ™¯å¦‚ä¸‹ï¼š**

```
if __name__=="__main__":
    context = PlayContext()
    context.play_text = "C53231323 Em43231323 F43231323 G63231323"
    guitar=NormGuitar()
    guitar.interpret(context)
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
Normal Guitar Playingâ€“Chord:C Play Tune:53231323Normal Guitar Playingâ€“Chord:Em Play Tune:43231323Normal Guitar Playingâ€“Chord:F Play Tune:43231323Normal Guitar Playingâ€“Chord:G Play Tune:63231323
```

### äºŒã€è§£é‡Šå™¨æ¨¡å¼

è§£é‡Šå™¨æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šç»™å®šä¸€ç§è¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¯¥è§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚å…¸å‹çš„è§£é‡Šå™¨æ¨¡å¼ä¸­ä¼šæœ‰ç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦ä¹‹è¯´ï¼Œè¯­æ³•ä¹Ÿæ ¹æ®ä¸¤ç§ç»ˆç»“ç¬¦ï¼Œå†³å®šè¯­å¥æœ€ç»ˆå«ä¹‰ã€‚ä¸Šä¾‹ä¸­ï¼Œéç»ˆç»“ç¬¦å°±æ˜¯ç©ºæ ¼ï¼Œç»ˆç»“ç¬¦å°±æ˜¯æ•´ä¸ªå¥å°¾ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/3d8941199fde665eb611df3162f2fa2a.png)

### ä¸‰ã€è§£é‡Šå™¨æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€åœ¨è¯­æ³•åˆ†æçš„åœºæ™¯ä¸­ï¼Œå…·æœ‰æ¯”è¾ƒå¥½çš„æ‰©å±•æ€§ã€‚è§„åˆ™ä¿®æ”¹å’Œåˆ¶è®¢æ¯”è¾ƒçµæ´»ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€è‹¥ä¸€ä¸ªé—®é¢˜é‡å¤å‘ç”Ÿï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ã€‚è¿™ç‚¹åœ¨æ•°æ®å¤„ç†å’Œæ—¥å¿—å¤„ç†è¿‡ç¨‹ä¸­ä½¿ç”¨è¾ƒå¤šï¼Œå½“æ•°æ®çš„éœ€æ±‚æ–¹éœ€è¦å°†æ•°æ®çº³ä¸ºå·±ç”¨æ—¶ï¼Œå¿…é¡»å°†æ•°æ®â€œç¿»è¯‘â€æˆæœ¬ç³»ç»Ÿçš„æ•°æ®è§„æ ¼ï¼›åŒæ ·çš„é“ç†ï¼Œæ—¥å¿—åˆ†æå¹³å°ä¹Ÿéœ€è¦æ ¹æ®ä¸åŒçš„æ—¥å¿—æ ¼å¼ç¿»è¯‘æˆç»Ÿä¸€çš„â€œè¯­è¨€â€ã€‚2ã€ç‰¹å®šè¯­æ³•è§£é‡Šå™¨ã€‚å¦‚å„ç§è§£é‡Šå‹è¯­è¨€çš„è§£é‡Šå™¨ï¼Œå†æ¯”å¦‚è‡ªç„¶è¯­è¨€ä¸­åŸºäºè¯­æ³•çš„æ–‡æœ¬åˆ†æç­‰ã€‚

### å››ã€è§£é‡Šå™¨æ¨¡å¼çš„ç¼ºç‚¹

1ã€è§£é‡Šè§„åˆ™å¤šæ ·åŒ–ä¼šå¯¼è‡´è§£é‡Šå™¨çš„çˆ†ç‚¸ï¼›2ã€è§£é‡Šå™¨ç›®æ ‡æ¯”è¾ƒå•ä¸€ï¼Œè¡Œä¸ºæ¨¡å¼æ¯”è¾ƒå›ºå®šï¼Œå› è€Œé‡è¦çš„æ¨¡å—ä¸­å°½é‡ä¸è¦ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ã€‚

## 21 å¤‡å¿˜å½•æ¨¡å¼

### ä¸€ã€æ¸¸æˆè¿›åº¦ä¿å­˜

æ‰“è¿‡æ¸¸æˆçš„æœ‹å‹ä¸€å®šçŸ¥é“ï¼Œå¤§å¤šæ•°æ¸¸æˆéƒ½æœ‰ä¿å­˜è¿›åº¦çš„åŠŸèƒ½ï¼Œå¦‚æœä¸€å±€æ¸¸æˆä¸‹æ¥ï¼Œå¿˜ä¿å­˜äº†è¿›åº¦ï¼Œé‚£ä¹ˆä¸‹æ¬¡åªèƒ½ä»ä¸Šæ¬¡è¿›åº¦ç‚¹å¼€å§‹é‡æ–°æ‰“äº†ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¿å­˜è¿›åº¦æ˜¯è¦å­˜åœ¨å¯æŒä¹…åŒ–å­˜å‚¨å™¨ä¸Šï¼Œæœ¬ä¾‹ä¸­å…ˆä»¥ä¿å­˜åœ¨å†…å­˜ä¸­æ¥æ¨¡æ‹Ÿå®ç°è¯¥åœºæ™¯çš„æƒ…å½¢ã€‚ä»¥æ¨¡æ‹Ÿä¸€ä¸ªæˆ˜æ–—è§’è‰²ä¸ºä¾‹ã€‚é¦–å…ˆï¼Œåˆ›å»ºæ¸¸æˆè§’è‰²ã€‚

```
class GameCharacter():
    vitality = 0
    attack = 0
    defense = 0
    def displayState(self):
        print 'Current Values:'
        print 'Life:%d' % self.vitality
        print 'Attack:%d' % self.attack
        print 'Defence:%d' % self.defense
    def initState(self,vitality,attack,defense):
        self.vitality = vitality
        self.attack = attack
        self.defense = defense
    def saveState(self):
        return Memento(self.vitality, self.attack, self.defense)
    def recoverState(self, memento):
        self.vitality = memento.vitality
        self.attack = memento.attack
        self.defense = memento.defense
class FightCharactor(GameCharacter):
    def fight(self):
        self.vitality -= random.randint(1,10)
```

**GameCharacterå®šä¹‰äº†åŸºæœ¬çš„ç”Ÿå‘½å€¼ã€æ”»å‡»å€¼ã€é˜²å¾¡å€¼ä»¥åŠå®ç°è§’è‰²çŠ¶æ€æ§åˆ¶çš„æ–¹æ³•ï¼ŒFightCharactorå®ç°å…·ä½“çš„â€œæˆ˜æ–—â€æ¥å£ã€‚ä¸ºå®ç°ä¿å­˜è¿›åº¦çš„ç»†èŠ‚ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå¤‡å¿˜å½•ï¼Œæ¥ä¿å­˜è¿›åº¦ã€‚**

```
class Memento:
    vitality = 0
    attack = 0
    defense = 0
    def __init__(self, vitality, attack, defense):
        self.vitality = vitality
        self.attack = attack
        self.defense = defense
```

**ä¸‡äº‹ä¿±å¤‡ï¼Œåœ¨ä¸šåŠ¡é€»è¾‘ä¸­å¯ä»¥è¿›è¡Œç±»çš„è°ƒåº¦äº†ã€‚**

```
if __name__=="__main__":
    game_chrctr = FightCharactor()
    game_chrctr.initState(100,79,60)
    game_chrctr.displayState()
    memento = game_chrctr.saveState()
    game_chrctr.fight()
    game_chrctr.displayState()
    game_chrctr.recoverState(memento)
    game_chrctr.displayState()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
Current Values:Life:100Attack:79Defence:60Current Values:Life:91Attack:79Defence:60Current Values:Life:100Attack:79Defence:60
```

**ç”±ç”Ÿå‘½å€¼å˜åŒ–å¯çŸ¥ï¼Œå…ˆä¿å­˜çŠ¶æ€å€¼ï¼Œç»è¿‡ä¸€è½®æ‰“æ–—åï¼Œç”Ÿå‘½å€¼ç”±100å˜ä¸º91ï¼Œè€Œåæ¢å¤çŠ¶æ€å€¼ï¼Œç”Ÿå‘½å€¼åˆæ¢å¤æˆ100ã€‚**

### äºŒã€å¤‡å¿˜å½•æ¨¡å¼

å¤‡å¿˜å½•æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·ä»¥åå°±å¯ä»¥å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸæ¥ä¿å­˜çš„çŠ¶æ€ã€‚åœ¨å¤‡å¿˜å½•æ¨¡å¼ä¸­ï¼Œå¦‚æœè¦ä¿å­˜çš„çŠ¶æ€å¤šï¼Œå¯ä»¥åˆ›é€ ä¸€ä¸ªå¤‡å¿˜å½•ç®¡ç†è€…è§’è‰²æ¥ç®¡ç†å¤‡å¿˜å½•ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/8b490a52c940adf4048c54a31e3ca99b.png)

### ä¸‰ã€å¤‡å¿˜å½•æ¨¡å¼åº”ç”¨åœºæ™¯

1ã€éœ€è¦ä¿å­˜å’Œæ¢å¤æ•°æ®çš„ç›¸å…³çŠ¶æ€åœºæ™¯ã€‚å¦‚ä¿å­˜æ¸¸æˆçŠ¶æ€çš„åœºæ™¯ï¼›æ’¤é”€åœºæ™¯ï¼Œå¦‚Ctrl-Zæ“ä½œï¼›äº‹åŠ¡å›æ»šçš„åº”ç”¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹äº‹åŠ¡å›æ»šæœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€æ˜¯æŠŠä»æ¢å¤ç‚¹å¼€å§‹çš„æ“ä½œéƒ½åå‘æ‰§è¡Œä¸€éï¼›äºŒæ˜¯ç›´æ¥æ¢å¤åˆ°æ¢å¤ç‚¹çš„å„ç§çŠ¶æ€ã€‚ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œè¦ç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œå†³å®šä½¿ç”¨å“ªç§æ¨¡å¼ï¼›2ã€å‰¯æœ¬ç›‘æ§åœºæ™¯ã€‚å¤‡å¿˜å½•å¯ä»¥å½“ä½œä¸€ä¸ªä¸´æ—¶çš„å‰¯æœ¬ç›‘æ§ï¼Œå®ç°éå®æ—¶å’Œå‡†å®æ—¶çš„ç›‘æ§ã€‚

## 22 çŠ¶æ€æ¨¡å¼

### ä¸€ã€ç”µæ¢¯æ§åˆ¶å™¨

ç”µæ¢¯åœ¨æˆ‘ä»¬å‘¨è¾¹éšå¤„å¯è§ï¼Œç”µæ¢¯çš„æ§åˆ¶é€»è¾‘ä¸­å¿ƒæ˜¯ç”±ç”µæ¢¯æ§åˆ¶å™¨å®ç°çš„ã€‚ç”µæ¢¯çš„æ§åˆ¶é€»è¾‘ï¼Œå³ä½¿ç®€å•ç‚¹è®¾è®¡ï¼ŒæŠŠçŠ¶æ€åˆ†æˆå¼€é—¨çŠ¶æ€ï¼Œåœæ­¢çŠ¶æ€å’Œè¿è¡ŒçŠ¶æ€ï¼Œæ“ä½œåˆ†æˆå¼€é—¨ã€å…³é—¨ã€è¿è¡Œã€åœæ­¢ï¼Œé‚£æµç¨‹ä¹Ÿæ˜¯å¾ˆå¤æ‚çš„ã€‚é¦–å…ˆï¼Œå¼€é—¨çŠ¶æ€ä¸èƒ½å¼€é—¨ã€è¿è¡Œã€åœæ­¢ï¼›åœæ­¢çŠ¶æ€ä¸èƒ½å…³é—¨ï¼Œåœæ­¢ï¼›è¿è¡ŒçŠ¶æ€ä¸èƒ½å¼€é—¨ã€å…³é—¨ã€è¿è¡Œã€‚è¦ç”¨ä¸€ä¸ªä¸€ä¸ªifâ€¦elseâ€¦å®ç°ï¼Œé¦–å…ˆä»£ç æ··ä¹±ï¼Œä¸æ˜“ç»´æŠ¤ï¼›äºŒæ˜¯ä¸æ˜“æ‰©å±•ã€‚è‡³äºå„ç§è®¾è®¡åŸåˆ™ä»€ä¹ˆçš„â€¦â€¦é‚£è¯¥å¦‚ä½•å®ç°ï¼Ÿåœ¨ä¸Šè¾¹çš„é€»è¾‘ä¸­ï¼Œæ¯ä¸ªæ“ä½œä»…ä»…æ˜¯ä¸€ä¸ªæ“ä½œï¼ŒçŠ¶æ€åˆ‡æ¢ä¸æ“ä½œæ˜¯åˆ†ç¦»çš„ï¼Œè¿™ä¹Ÿé€ æˆåæ¥æ“ä½œå’ŒçŠ¶æ€â€œç›¸äº’é…åˆâ€çš„â€œæ‰‹å¿™è„šä¹±â€ã€‚å¦‚æœæŠŠçŠ¶æ€æŠ½è±¡æˆä¸€ä¸ªç±»ï¼Œæ¯ä¸ªçŠ¶æ€ä¸ºä¸€ä¸ªå­ç±»ï¼Œæ¯ä¸ªçŠ¶æ€å®ç°ä»€ä¹ˆæ“ä½œï¼Œä¸å®ç°ä»€ä¹ˆæ“ä½œï¼Œä»…ä»…åœ¨è¿™ä¸ªç±»ä¸­å…·ä½“å®ç°å°±å¯ä»¥äº†ã€‚ä¸‹é¢æˆ‘ä»¬å®ç°è¿™ä¸ªé€»è¾‘ã€‚å…ˆå®ç°æŠ½è±¡çš„çŠ¶æ€ç±»ï¼š

```
class LiftState:
    def open(self):
        pass
    def close(self):
        pass
    def run(self):
        pass
    def stop(self):
        pass
```

**è€Œåå®ç°å„ä¸ªå…·ä½“çš„çŠ¶æ€ç±»ï¼š**

```
class OpenState(LiftState):
    def open(self):
        print "OPEN:The door is opened..."
        return self
    def close(self):
        print "OPEN:The door start to close..."
        print "OPEN:The door is closed"
        return StopState()
    def run(self):
        print "OPEN:Run Forbidden."
        return self
    def stop(self):
        print "OPEN:Stop Forbidden."
        return self
class RunState(LiftState):
    def open(self):
        print "RUN:Open Forbidden."
        return self
    def close(self):
        print "RUN:Close Forbidden."
        return self
    def run(self):
        print "RUN:The lift is running..."
        return self
    def stop(self):
        print "RUN:The lift start to stop..."
        print "RUN:The lift stopped..."
        return StopState()
class StopState(LiftState):
    def open(self):
        print "STOP:The door is opening..."
        print "STOP:The door is opened..."
        return OpenState()
    def close(self):
        print "STOP:Close Forbidden"
        return self
    def run(self):
        print "STOP:The lift start to run..."
        return RunState()
    def stop(self):
        print "STOP:The lift is stopped."
        return self
```

**ä¸ºåœ¨ä¸šåŠ¡ä¸­è°ƒåº¦çŠ¶æ€è½¬ç§»ï¼Œè¿˜éœ€è¦å°†ä¸Šä¸‹æ–‡è¿›è¡Œè®°å½•ï¼Œéœ€è¦ä¸€ä¸ªä¸Šä¸‹æ–‡çš„ç±»ã€‚**

```
class Context:
    lift_state=""
    def getState(self):
        return self.lift_state
    def setState(self,lift_state):
        self.lift_state=lift_state
    def open(self):
        self.setState(self.lift_state.open())
    def close(self):
        self.setState(self.lift_state.close())
    def run(self):
        self.setState(self.lift_state.run())
    def stop(self):
        self.setState(self.lift_state.stop())
```

**è¿™æ ·ï¼Œåœ¨è¿›è¡Œç”µæ¢¯çš„è°ƒåº¦æ—¶ï¼Œåªéœ€è¦è°ƒåº¦Contextå°±å¯ä»¥äº†ã€‚ä¸šåŠ¡é€»è¾‘ä¸­å¦‚ä¸‹æ‰€ç¤ºï¼š**

```
if __name__=="__main__":
    ctx = Context()
    ctx.setState(StopState())
    ctx.open()
    ctx.run()
    ctx.close()
    ctx.run()
    ctx.stop()
```

**æ‰“å°å¦‚ä¸‹ï¼š**

```
STOP:The door is openingâ€¦STOP:The door is openedâ€¦OPEN:Run Forbidden.OPEN:The door start to closeâ€¦OPEN:The dorr is closedSTOP:The lift start to runâ€¦RUN:The lift start to stopâ€¦RUN:The lift stoppedâ€¦
```

**ç”±é€»è¾‘ä¸­å¯çŸ¥ï¼Œç”µæ¢¯å…ˆåœ¨STOPçŠ¶æ€ï¼Œç„¶åå¼€é—¨ï¼Œå¼€é—¨æ—¶è¿è¡ŒRunï¼Œè¢«ç¦æ­¢ï¼Œç„¶åï¼Œå…³é—¨ã€è¿è¡Œã€åœæ­¢ã€‚**

#### äºŒã€çŠ¶æ€æ¨¡å¼

çŠ¶æ€æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šå½“ä¸€ä¸ªå¯¹è±¡å†…åœ¨çŠ¶æ€æ”¹å˜æ—¶å…è®¸å…¶æ”¹å˜è¡Œä¸ºï¼Œè¿™ä¸ªå¯¹è±¡çœ‹èµ·æ¥åƒæ”¹å˜äº†å…¶ç±»ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/8124b0fb0ed380054a291b685ce295fa.png)

### ä¸‰ã€çŠ¶æ€æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

##### ä¼˜ç‚¹ï¼š

1ã€çŠ¶æ€æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯ç»“æ„æ¸…æ™°ï¼Œç›¸æ¯”äºifâ€¦elseâ€¦ç®€çº¦äº†ä¸å°‘ï¼›2ã€å°è£…æ€§å¥½ï¼Œå¤–éƒ¨è°ƒç”¨ä¸å¿…çŸ¥é“å†…éƒ¨å®ç°ç»†èŠ‚ã€‚

##### åº”ç”¨åœºæ™¯ï¼š

1ã€è¡Œä¸ºçŠ¶æ€æ”¹å˜çš„åœºæ™¯ã€‚è¿™ç‚¹åœ¨å„ç§æ§åˆ¶å™¨ä¸­éå¸¸å¸¸è§ï¼ŒåŒæ—¶ï¼Œé€»è¾‘ç»“æ„ä¸ºçŠ¶æ€è½¬ç§»å›¾çš„åœºæ™¯ä¸­éƒ½éå¸¸é€‚ç”¨ã€‚

### å››ã€çŠ¶æ€æ¨¡å¼çš„ç¼ºç‚¹

1ã€åœ¨çŠ¶æ€æ¯”è¾ƒå¤šæ—¶ï¼Œå­ç±»ä¹Ÿä¼šéå¸¸å¤šï¼Œä¸ä¾¿äºç®¡ç†ã€‚

## 23 è®¾è®¡åŸåˆ™

### ä¸€ å…­å¤§è®¾è®¡åŸåˆ™

åœ¨æ³•ç†å­¦ä¸­ï¼Œæ³•å¾‹è§„åˆ™ä¸æ³•å¾‹åŸåˆ™éƒ½æ˜¯æ³•å¾‹è§„èŒƒçš„é‡è¦æ„æˆã€‚ä½†äºŒè€…ä¹Ÿä¼šæœ‰äº›ä¸åŒï¼šæ³•å¾‹è§„åˆ™æ˜¯æŒ‡é‡‡å–ä¸€å®šçš„ç»“æ„å½¢å¼å…·ä½“è§„å®šäººä»¬çš„æ³•å¾‹æƒåˆ©ã€æ³•å¾‹ä¹‰åŠ¡ä»¥åŠç›¸åº”çš„æ³•å¾‹åæœçš„è¡Œä¸ºè§„èŒƒï¼Œå†…å®¹æ¯”è¾ƒæ˜ç¡®ï¼Œæ¯”å¦‚ï¼Œäº¤é€šæ³•è§„ä¸­è§„å®šï¼Œç¦æ­¢é—¯çº¢ç¯ï¼›æ³•å¾‹åŸåˆ™æ˜¯æŒ‡åœ¨ä¸€å®šæ³•å¾‹ä½“ç³»ä¸­ä½œä¸ºæ³•å¾‹è§„åˆ™çš„æŒ‡å¯¼æ€æƒ³ï¼ŒåŸºæœ¬æˆ–æœ¬åŸçš„ã€ç»¼åˆçš„ã€ç¨³å®šçš„åŸç†å’Œå‡†åˆ™ï¼Œå†…å®¹ä¸ŠåªåŒ…å«â€œå¤§æ–¹é’ˆâ€ï¼Œè€Œå¹¶æœªæœ‰å…·ä½“è§„åˆ™ï¼Œæ¯”å¦‚ï¼Œå¦‚æœè½¦ä¸Šæœ‰é©¬ä¸Šä¸´äº§çš„å­•å¦‡ï¼Œé—¯çº¢ç¯ä¸ä¼šè¢«å¤„ç½šï¼Œè¿™æ˜¯ç¬¦åˆé‡è§†ç”Ÿå‘½çš„åŸåˆ™ã€‚è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™ï¼ŒåŸºæœ¬ç¬¦åˆè§„åˆ™ä¸åŸåˆ™çš„å…³ç³»ï¼Œè®¾è®¡æ¨¡å¼æ˜¯ä¸€ä¸ªä¸ªå…·ä½“é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œè®¾è®¡åŸåˆ™åˆ™åæ˜ äº†è¿™äº›è®¾è®¡æ¨¡å¼çš„æŒ‡å¯¼æ€æƒ³ï¼›åŒæ—¶ï¼Œè®¾è®¡åŸåˆ™å¯è¡ç”Ÿå‡ºçš„è®¾è®¡æ¨¡å¼ä¹Ÿä¸ä»…é™äºä¸Šè¿°ä»‹ç»åˆ°äº†23ç§è®¾è®¡æ¨¡å¼ï¼Œä»»ä½•ä¸€ç§é’ˆå¯¹ç‰¹å®šä¸šåŠ¡åœºæ™¯ä¸­çš„è§£å†³æ–¹æ³•ï¼Œè™½ç„¶æ‰¾ä¸åˆ°å¯¹åº”çš„è®¾è®¡æ¨¡å¼ä¸ä¹‹åŒ¹é…ï¼Œä½†è‹¥ç¬¦åˆè®¾è®¡åŸåˆ™ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å…¨æ–°çš„è®¾è®¡æ¨¡å¼ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´ï¼Œè®¾è®¡æ¨¡å¼æ˜¯ç¨‹åºè®¾è®¡æ–¹æ³•çš„å½¢ï¼Œè€Œè®¾è®¡åŸåˆ™æ˜¯ç¨‹åºè®¾è®¡æ–¹æ³•çš„ç¥ã€‚

##### 1ã€å•ä¸€èŒè´£åŸåˆ™

å•ä¸€èŒè´£åŸåˆ™è‹±æ–‡åŸåä¸ºSingle Responsibility Principleï¼Œç®€ç§°SRPåŸåˆ™ã€‚å…¶å«ä¹‰ä¸ºï¼šåº”è¯¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåŸå› å¼•èµ·ç±»çš„å˜æ›´ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªè§†é¢‘æ’­æ”¾ç³»ç»Ÿï¼Œä¸€ä¸ªå®¢æˆ·ç«¯ç±»æœ‰ä¸¤ä¸ªåŠŸèƒ½æ¥å£ï¼Œå³è§†é¢‘æ’­æ”¾æ¥å£å’ŒéŸ³é¢‘æ’­æ”¾æ¥å£ã€‚è™½ç„¶è¿™æ ·çš„è®¾è®¡å¾ˆå¸¸è§ï¼Œä½†å´ä¸æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™çš„ã€‚åŸå› æ˜¯ï¼Œå¦‚æœå¯¹è§†é¢‘æ’­æ”¾æœ‰å˜æ›´éœ€æ±‚æˆ–è€…å¯¹éŸ³é¢‘æ’­æ”¾æœ‰ä¿®æ”¹éœ€æ±‚ï¼Œéƒ½ä¼šå˜æ›´è§†é¢‘å®¢æˆ·ç«¯çš„ç±»ç»“æ„ã€‚ç¬¦åˆå•ä¸€åŸåˆ™çš„è®¾è®¡æ˜¯ï¼Œå°†è§†é¢‘æ’­æ”¾å•å…ƒå’ŒéŸ³é¢‘æ’­æ”¾å•å…ƒå„å»ºä¸€ä¸ªç±»ï¼Œæ’­æ”¾å®¢æˆ·ç«¯ç»§æ‰¿ä¸¤ä¸ªç±»ï¼Œæ„æˆå®¢æˆ·ç«¯ã€‚å•ä¸€èŒè´£åŸåˆ™çš„æœ€å¤§éš¾ç‚¹åœ¨äºèŒè´£çš„åˆ’åˆ†ï¼Œè¯•æƒ³ï¼Œä»¥ä¸Šåˆ’åˆ†æ˜¯å¦æ˜¯ç¬¦åˆå•ä¸€èŒè´£äº†ï¼Ÿæ—¢æ˜¯ï¼Œä¹Ÿä¸æ˜¯ã€‚è¯•æƒ³ï¼Œå¦‚æœå°†è§†é¢‘ä¼ è¾“å’ŒéŸ³é¢‘ä¼ è¾“çš„åè®®ä¿¡æ¯å’Œæ•°æ®ä¿¡æ¯åŒºåˆ†å¼€ï¼Œä¸ºç¬¦åˆè¿™ç§ç²’åº¦çš„å•ä¸€èŒè´£åŸåˆ™å°±å¿…é¡»è¦æœ‰åè®®ä¼ è¾“ç±»å’Œæ•°æ®ä¼ è¾“ç±»çš„åˆ’åˆ†ã€‚å¦‚æœæ¥ç€ç»†åˆ†ï¼Œå¯èƒ½ä¸€ä¸ªç®€å•çš„å°æ¨¡å—ï¼Œéƒ½è¦è®¾è®¡éå¸¸å¤šçš„ç±»ã€‚å› æ­¤ï¼Œå•ä¸€èŒè´£åŸåˆ™ç²’åº¦çš„é€‰æ‹©ï¼Œåº”è¯¥æ ¹æ®ä¸šåŠ¡æµç¨‹å’Œäººå‘˜åˆ†å·¥æ¥è¿›è¡Œè€ƒè™‘ã€‚ä¸€äº›åŸºæœ¬çš„åˆ’åˆ†ï¼Œä¼¼ä¹å·²ç»æˆäº†è¡Œä¸šè§„èŒƒæ€§çš„å†…å®¹ï¼Œæ¯”å¦‚ï¼Œä¸šåŠ¡é€»è¾‘ä¸ç”¨æˆ·ä¿¡æ¯ç®¡ç†çš„åˆ’åˆ†ç­‰ã€‚

##### 2ã€é‡Œæ°æ›¿æ¢åŸåˆ™

é‡Œæ°æ›¿æ¢åŸåˆ™è‹±æ–‡åŸåä¸ºLiskov Substitution Principleï¼Œç®€ç§°LSPåŸåˆ™ã€‚å®ƒæ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„æœ€ä¸ºåŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚  
é‡Œæ°æ›¿æ¢åŸåˆ™çš„å«ä¹‰ä¸ºï¼šä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚  
LSPæ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“å­ç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œè½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œå­ç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚ä¸¾ä¾‹è¯´æ˜ï¼šå¯¹äºä¸€ä¸ªé¸Ÿç±»ï¼Œå¯ä»¥è¡ç”Ÿå‡ºéº»é›€ã€å–œé¹Šã€å¸ƒè°·ç­‰å­ç±»ï¼Œè¿™äº›å­ç±»éƒ½å¯ç»§æ‰¿é¸Ÿç±»çš„é¸£å«ã€é£è¡Œã€åƒé£Ÿç­‰æ¥å£ã€‚è€Œå¯¹äºä¸€ä¸ªé¸¡ç±»ï¼Œè™½ç„¶å®ƒåœ¨ç”Ÿç‰©å­¦ä¸Šå±äºé¸Ÿç±»ï¼Œä½†å®ƒä¸ä¼šé£ï¼Œé‚£ä¹ˆç¬¦åˆLSPè®¾è®¡åŸåˆ™çš„æƒ…å†µä¸‹ï¼Œé¸¡å°±ä¸åº”è¯¥æ˜¯é¸Ÿçš„ä¸€ä¸ªå­ç±»ï¼šåœ¨é¸Ÿç±»è°ƒç”¨é£è¡Œæ¥å£çš„åœ°æ–¹ï¼Œé¸¡ç±»å¹¶ä¸èƒ½å‡ºç°ã€‚å¦‚æœé¸¡ç±»è¦ä½¿ç”¨é¸Ÿç±»çš„æ¥å£ï¼Œåº”è¯¥ä½¿ç”¨å…³è”å…³ç³»ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å…³ç³»ã€‚

##### 3ã€ä¾èµ–å€’ç½®åŸåˆ™

ä¾èµ–å€’ç½®åŸåˆ™è‹±æ–‡åŸåä¸ºDependence Inversion  
Principleï¼Œç®€ç§°DIPåŸåˆ™ã€‚å®ƒçš„å«ä¹‰ä¸ºï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ã€‚æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚æˆ‘ä»¬å°†æ¯ä¸ªä¸å¯ç»†åˆ†çš„é€»è¾‘å«ä½œåŸå­é€»è¾‘ï¼ŒåŸå­é€»è¾‘ç»„è£…ï¼Œå½¢æˆä½å±‚æ¨¡å—ï¼Œä½å±‚æ¨¡å—ç»„è£…å½¢æˆé«˜å±‚æ¨¡å—ã€‚ä¾èµ–å€’ç½®åŸåˆ™çš„å«ä¹‰ä¸ºï¼Œé«˜å±‚æ¨¡å—å’Œä½å±‚æ¨¡å—éƒ½åº”è¯¥ç”±å„è‡ªçš„æŠ½è±¡æ¨¡å—æ´¾ç”Ÿè€Œæ¥ï¼ŒåŒæ—¶æ¥å£è®¾è®¡åº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼Œè€Œéå…·ä½“æ¨¡å—ã€‚ä¸¾ä¸ªä¾‹å­ï¼šå¸æœºä¸æ±½è½¦æ˜¯ä¾èµ–çš„å…³ç³»ï¼Œå¸æœºå¯ä»¥æœ‰å®ä¹ å¸æœºç±»ã€è€å¸æœºç±»ç­‰æ´¾ç”Ÿï¼›æ±½è½¦å¯ä»¥æœ‰è½¿è½¦ã€SUVã€å¡è½¦ç­‰æ´¾ç”Ÿç±»ã€‚å¦‚æœå¸æœºä¸­è®¾è®¡ä¸€ä¸ªæ¥å£driveï¼Œæ±½è½¦æ˜¯å…¶å‚æ•°ï¼Œç¬¦åˆDIPè®¾è®¡åŸåˆ™çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯åœ¨åŸºç±»å¸æœºç±»ä¸­ï¼Œå°†åŸºç±»æ±½è½¦ç±»ä½œä¸ºå‚æ•°ï¼Œè€Œå¸æœºçš„æ´¾ç”Ÿç±»ä¸­ï¼Œdriveçš„å‚æ•°åŒæ ·åº”è¯¥ä¸ºåŸºç±»æ±½è½¦ç±»ï¼Œè€Œä¸åº”è¯¥æ˜¯æ±½è½¦ç±»çš„ä»»ä¸€ä¸ªæ´¾ç”Ÿç±»ã€‚å¦‚æœè§„å®šå®ä¹ å¸æœºåªèƒ½å¼€è½¿è½¦ç­‰ä¸šåŠ¡é€»è¾‘ï¼Œåº”è¯¥åœ¨å…¶æ¥å£ä¸­è¿›è¡Œåˆ¤æ–­ï¼Œè€Œä¸åº”è¯¥å°†å‚æ•°æ›¿æ¢æˆå­ç±»è½¿è½¦ã€‚

##### 4ã€æ¥å£éš”ç¦»åŸåˆ™

æ¥å£éš”ç¦»åŸåˆ™è‹±æ–‡åŸåä¸ºInterface Segregation  
Principleï¼Œç®€ç§°ISPåŸåˆ™ã€‚å…¶å«ä¹‰ä¸ºï¼šç±»é—´çš„ä¾èµ–å…³ç³»ä¸åº”è¯¥å»ºç«‹ä¸€ä¸ªå¤§çš„æ¥å£ï¼Œè€Œåº”è¯¥å»ºç«‹å…¶æœ€å°çš„æ¥å£ï¼Œå³å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–é‚£äº›å®ƒä¸éœ€è¦çš„æ¥å£ã€‚è¿™é‡Œçš„æ¥å£çš„æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ã€‚ä»é€»è¾‘ä¸Šæ¥è®²ï¼Œè¿™é‡Œçš„æ¥å£å¯ä»¥æŒ‡ä¸€äº›å±æ€§å’Œæ–¹æ³•çš„é›†åˆï¼›ä»ä¸šåŠ¡ä¸Šæ¥è®²ï¼Œæ¥å£å°±å¯ä»¥æŒ‡ç‰¹å®šä¸šåŠ¡ä¸‹çš„æ¥å£ï¼ˆå¦‚å‡½æ•°ï¼ŒURLè°ƒç”¨ç­‰ï¼‰ã€‚æ¥å£åº”è¯¥å°½é‡å°ï¼ŒåŒæ—¶ä»…ç•™ç»™å®¢æˆ·ç«¯å¿…è¦çš„æ¥å£ï¼Œå¼ƒç”¨æ²¡æœ‰å¿…è¦çš„æ¥å£ã€‚ä¸¾ä¾‹è¯´æ˜ï¼šå¦‚æœè¦æ ¹æ®å…·ä½“çš„æ•°æ®ï¼Œç”Ÿæˆé¥¼å›¾ã€ç›´æ–¹å›¾ã€è¡¨æ ¼ï¼Œè¿™ä¸ªç±»è¯¥å¦‚ä½•è®¾è®¡ï¼Ÿå¦‚æœå°†ç”Ÿæˆé¥¼å›¾ã€ç›´æ–¹å›¾ã€è¡¨æ ¼ç­‰â€œæ¥å£â€ï¼ˆè¿™é‡Œçš„æ¥å£å°±æ˜¯â€œæ“ä½œâ€çš„é›†åˆçš„æ¦‚å¿µï¼‰ï¼Œå†™åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæ˜¯ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚ç¬¦åˆISPåŸåˆ™çš„è®¾è®¡åº”è¯¥æ˜¯è®¾è®¡ä¸‰ä¸ªç±»ï¼Œæ¯ä¸ªç±»åˆ†åˆ«å®ç°é¥¼å›¾ã€ç›´æ–¹å›¾ã€è¡¨æ ¼çš„ç»˜åˆ¶ã€‚æ¥å£éš”ç¦»åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™ä¸€æ ·ï¼Œæ¶‰åŠåˆ°ç²’åº¦çš„é—®é¢˜ï¼Œè§£å†³ç²’åº¦å¤§å°ï¼ŒåŒæ ·ä¾èµ–äºå…·ä½“çš„ä¸šåŠ¡åœºæ™¯ï¼Œéœ€è¦è¯»è€…æ ¹æ®å®è·µå»æƒè¡¡ã€‚

##### 5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼‰

è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeterï¼‰ä¹Ÿå«æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œè‹±æ–‡Least Knowledge  
Principleï¼Œç®€ç§°LKPåŸåˆ™ã€‚å…¶å«ä¹‰ä¸ºï¼šä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶å®ƒå¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£ã€‚ä¸¾ä¾‹è¯´æ˜ï¼šä¸€ä¸ªå…¬å¸æœ‰å¤šä¸ªéƒ¨é—¨ï¼Œæ¯ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ï¼Œå¦‚æœå…¬å¸CEOè¦ä¸‹å‘é€šçŸ¥ç»™æ¯ä¸ªå‘˜å·¥ï¼Œæ˜¯è°ƒç”¨æ¥å£ç›´æ¥é€šçŸ¥æ‰€æœ‰å‘˜å·¥ä¹ˆï¼Ÿå…¶å®ä¸ç„¶ï¼ŒCEOåªéœ€å’Œå®ƒçš„â€œæœ‹å‹â€ç±»éƒ¨é—¨Leaderäº¤æµå°±å¥½ï¼Œéƒ¨é—¨Leaderå†ä¸‹å‘é€šçŸ¥ä¿¡æ¯å³å¯ã€‚è€ŒCEOç±»ä¸éœ€è¦ä¸å‘˜å·¥è¿›è¡Œâ€œäº¤æµâ€ã€‚è¿ªç±³ç‰¹æ³•åˆ™è¦æ±‚å¯¹è±¡åº”è¯¥ä»…å¯¹è‡ªå·±çš„æœ‹å‹ç±»äº¤æµï¼Œè€Œä¸åº”è¯¥å¯¹éæœ‹å‹ç±»äº¤æµã€‚é‚£ä»€ä¹ˆæ‰æ˜¯æœ‹å‹ç±»å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œæœ‹å‹ç±»å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š1ï¼‰å½“å‰å¯¹è±¡æœ¬èº«ï¼ˆselfï¼‰ï¼›2ï¼‰ä»¥å‚é‡å½¢å¼ä¼ å…¥åˆ°å½“å‰å¯¹è±¡æ–¹æ³•ä¸­çš„å¯¹è±¡ï¼›3ï¼‰å½“å‰å¯¹è±¡çš„å®ä¾‹å˜é‡ç›´æ¥å¼•ç”¨çš„å¯¹è±¡ï¼›4ï¼‰å½“å‰å¯¹è±¡çš„å®ä¾‹å˜é‡å¦‚æœæ˜¯ä¸€ä¸ªèšé›†ï¼Œé‚£ä¹ˆèšé›†ä¸­çš„å…ƒç´ ä¹Ÿéƒ½æ˜¯æœ‹å‹ï¼›5ï¼‰å½“å‰å¯¹è±¡æ‰€åˆ›å»ºçš„å¯¹è±¡ã€‚

##### 6ã€å¼€é—­åŸåˆ™

å¼€é—­åŸåˆ™è‹±æ–‡åŸåä¸º`Open ClosedPrinciple`ï¼Œç®€ç§°OCPåŸåˆ™ã€‚å…¶å«ä¹‰ä¸ºï¼šä¸€ä¸ªè½¯ä»¶å®ä½“ï¼Œå¦‚ç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼Œåº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å¼€é—­åŸåˆ™æ˜¯éå¸¸åŸºç¡€çš„ä¸€ä¸ªåŸåˆ™ï¼Œä¹Ÿæœ‰äººæŠŠå¼€é—­åŸåˆ™ç§°ä¸ºâ€œåŸåˆ™çš„åŸåˆ™â€ã€‚å‰é¢è®²åˆ°è¿‡ï¼Œæ¨¡å—åˆ†åŸå­æ¨¡å—ï¼Œä½å±‚æ¨¡å—ï¼Œé«˜å±‚æ¨¡å—ï¼Œä¸šåŠ¡å±‚å¯ä»¥è®¤ä¸ºæ˜¯æœ€é«˜å±‚æ¬¡çš„æ¨¡å—ã€‚å¯¹æ‰©å±•å¼€æ”¾ï¼Œæ„å‘³ç€æ¨¡å—çš„è¡Œä¸ºæ˜¯å¯ä»¥æ‰©å±•çš„ï¼Œå½“é«˜å±‚æ¨¡å—éœ€æ±‚æ”¹å˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä½å±‚æ¨¡å—è¿›è¡Œæ‰©å±•ï¼Œä½¿å…¶å…·æœ‰æ»¡è¶³é«˜å±‚æ¨¡å—çš„æ–°åŠŸèƒ½ï¼›å¯¹ä¿®æ”¹å…³é—­ï¼Œå³å¯¹ä½å±‚æ¨¡å—è¡Œä¸ºè¿›è¡Œæ‰©å±•æ—¶ï¼Œä¸å¿…æ”¹åŠ¨æ¨¡å—çš„æºä»£ç ã€‚æœ€ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œä¸šåŠ¡å˜åŠ¨æ—¶ï¼Œä»…ä¿®æ”¹ä¸šåŠ¡ä»£ç ï¼Œä¸ä¿®æ”¹ä¾èµ–çš„æ¨¡å—ï¼ˆç±»ã€å‡½æ•°ç­‰ï¼‰ä»£ç ï¼Œé€šè¿‡æ‰©å±•ä¾èµ–çš„æ¨¡å—å•å…ƒæ¥å®ç°ä¸šåŠ¡å˜åŒ–ã€‚ä¸¾ä¾‹è¯´æ˜ï¼šå‡è®¾ä¸€ä¸ªåŸå§‹åŸºç±»æ°´æœç±»ï¼Œè‹¹æœç±»æ˜¯å®ƒçš„æ´¾ç”Ÿç±»ï¼Œè‹¹æœä¸­åŒ…å«æ°´æœçš„å„ç§å±æ€§ï¼Œå¦‚å½¢çŠ¶ã€é¢œè‰²ç­‰ï¼›å¦æœ‰ä¸¤ä¸ªç±»ï¼Œå†œæ°‘ç±»å’ŒèŠ±å›­ç±»ï¼Œæœ€é«˜å±‚æ¬¡ï¼ˆä¸šåŠ¡å±‚æ¬¡ï¼‰ä¸ºå†œæ°‘åœ¨èŠ±å›­ç§è‹¹æœã€‚å¦‚æœæ­¤æ—¶ï¼Œå†œæ°‘å†³å®šä¸ç§è‹¹æœäº†ï¼Œæ”¹ç§æ¢¨ï¼Œç¬¦åˆOCPåŸåˆ™çš„è®¾è®¡åº”è¯¥ä¸ºåŸºäºæ°´æœç±»æ„å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œå³æ¢¨ç±»ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼‰ï¼Œè€Œå¹¶ä¸åº”è¯¥å»ä¿®æ”¹è‹¹æœç±»ï¼Œä½¿å®ƒæˆä¸ºä¸€ä¸ªæ¢¨ç±»ï¼ˆå¯¹ä¿®æ”¹å…³é—­ï¼‰ã€‚ä¿®æ”¹åº”ä»…åœ¨æœ€é«˜å±‚ï¼Œå³ä¸šåŠ¡å±‚ä¸­è¿›è¡Œã€‚

### äºŒ éµå¾ªè®¾è®¡åŸåˆ™çš„å¥½å¤„

ç”±äºè®¾è®¡åŸåˆ™æ˜¯è®¾è®¡æ¨¡å¼çš„æç‚¼ï¼Œå› è€Œè®¾è®¡åŸåˆ™çš„å¥½å¤„ä¸è®¾è®¡æ¨¡å¼æ˜¯ä¸€è‡´çš„ï¼Œå³ï¼šä»£ç æ˜“äºç†è§£ï¼›æ›´é€‚äºå›¢ä½“åˆä½œï¼›é€‚åº”éœ€æ±‚å˜åŒ–ç­‰ã€‚

### ä¸‰ã€è®¾è®¡åŸåˆ™ä¸è®¾è®¡æ¨¡å¼

##### 1ã€åˆ›å»ºç±»è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™

å·¥å‚æ¨¡å¼ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è§£è€¦ç»“æ„ï¼Œå·¥å‚ç±»åªéœ€è¦çŸ¥é“æŠ½è±¡äº§å“ç±»ï¼Œç¬¦åˆæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼ˆè¿ªç±³ç‰¹æ³•åˆ™ï¼‰ï¼›åŒæ—¶ç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™å’Œé‡Œæ°æ›¿æ¢åŸåˆ™ï¼›æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼å…·æœ‰å·¥å‚æ¨¡å¼çš„ä¼˜ç‚¹ï¼Œä½†åŒæ—¶ï¼Œå¦‚æœäº§å“æ—è¦æ‰©å±•ï¼Œå·¥å‚ç±»ä¹Ÿè¦ä¿®æ”¹ï¼Œè¿åäº†å¼€é—­åŸåˆ™ï¼›æ¨¡æ¿æ¨¡å¼ï¼šä¼˜ç§€çš„æ‰©å±•èƒ½åŠ›ç¬¦åˆå¼€é—­åŸåˆ™ã€‚

##### 2ã€ç»“æ„ç±»è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™

ä»£ç†æ¨¡å¼ï¼šä»£ç†æ¨¡å¼åœ¨ä¸šåŠ¡é€»è¾‘ä¸­å°†å¯¹ä¸»ä½“å¯¹è±¡çš„æ“ä½œè¿›è¡Œå°è£…ï¼Œåˆé€‚çš„åº”ç”¨ä¼šç¬¦åˆå¼€é—­åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™ï¼›äº‹å®ä¸Šï¼Œå‡ ä¹å¸¦æœ‰è§£è€¦ä½œç”¨çš„ç»“æ„ç±»è®¾è®¡æ¨¡å¼éƒ½å¤šå°‘ç¬¦åˆäº›å¼€é—­åŸåˆ™ï¼›é—¨é¢æ¨¡å¼ï¼šé—¨é¢æ¨¡å¼ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œæœ‰æ—¶ä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼Œå¦‚è‹¥ä¸æ³¨æ„ï¼Œä¹Ÿä¼šè§¦ç¢°æ¥å£éš”ç¦»åŸåˆ™ï¼›ç»„åˆæ¨¡å¼ï¼šç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä½†ç”±äºä¸€èˆ¬åœ¨æ‹¼æ¥æ ‘æ—¶ä½¿ç”¨å®ç°ç±»ï¼Œæ•…ä¸ç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™ï¼›æ¡¥æ¢æ¨¡å¼ï¼šæ¡¥æ¢æ¨¡å¼å ªç§°ä¾èµ–å€’ç½®åŸåˆ™çš„å…¸èŒƒï¼ŒåŒæ—¶ä¹Ÿç¬¦åˆå¼€é—­åŸåˆ™ã€‚

##### 3ã€è¡Œä¸ºç±»è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™

ç­–ç•¥æ¨¡å¼ï¼šç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä½†é«˜å±‚æ¨¡å—è°ƒç”¨æ—¶ï¼Œä¸ç¬¦åˆè¿ªç±³ç‰¹æ³•åˆ™ã€‚è¡Œä¸ºç±»è®¾è®¡æ¨¡å¼å¤šå°‘ä¼šç¬¦åˆäº›å•ä¸€èŒè´£åŸåˆ™ï¼Œå…¸å‹çš„å¦‚è§‚å¯Ÿè€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ç­‰ï¼›è´£ä»»é“¾æ¨¡å¼ï¼šç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œè¿ªç±³ç‰¹æ³•åˆ™ï¼›å‘½ä»¤æ¨¡å¼ï¼šç¬¦åˆå¼€é—­åŸåˆ™ã€‚  
åœ¨ä¸åŒçš„ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œä¸åŒçš„è®¾è®¡æ¨¡å¼ä¹Ÿä¼šæ˜¾ç¤ºå‡ºä¸åŒçš„è®¾è®¡åŸåˆ™ç‰¹ç‚¹ï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è®¾è®¡åŸåˆ™çš„ä½“ç°ï¼Œä½†ä½“ç°ä¸æ˜¯å›ºå®šçš„ï¼Œæ˜¯æ ¹æ®ä¸šåŠ¡è€Œæœ‰æ‰€ä¸åŒçš„ã€‚

### æ€»ç»“

æœ€åçš„æœ€å  
ç”±æœ¬äººæ°´å¹³æ‰€é™ï¼Œéš¾å…æœ‰é”™è¯¯ä»¥åŠä¸è¶³ä¹‹å¤„ï¼Œ å±å¹•å‰çš„é“ä»”é“å¥³ä»¬ å¦‚æœ‰å‘ç°ï¼Œæ³è¯·æŒ‡å‡ºï¼

æœ€åï¼Œè°¢è°¢ä½ çœ‹åˆ°è¿™é‡Œï¼Œè°¢è°¢ä½ è®¤çœŸå¯¹å¾…æˆ‘çš„åŠªåŠ›ï¼Œå¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼

ä½ è½»è½»åœ°ç‚¹äº†ä¸ªèµï¼Œé‚£å°†åœ¨æˆ‘çš„å¿ƒé‡Œä¸–ç•Œå¢æ·»ä¸€é¢—æ˜äº®è€Œè€€çœ¼çš„æ˜Ÿï¼

### ğŸ’¬ å¾€æœŸä¼˜è´¨æ–‡ç« åˆ†äº«

-   [C++ QTç»“åˆFFmpegå®æˆ˜å¼€å‘è§†é¢‘æ’­æ”¾å™¨-01ç¯å¢ƒçš„å®‰è£…å’Œé¡¹ç›®éƒ¨ç½²](https://blog.csdn.net/biggbang/article/details/124215339)
-   [è§£å†³QTé—®é¢˜ï¼šè¿è¡Œqmakeï¼šProject ERROR: Cannot run compiler â€˜clâ€˜. Output:](https://blog.csdn.net/biggbang/article/details/124226156)
-   [è§£å†³å®‰è£…QTåMSVC2015 64bité…ç½®æ— ç¼–è¯‘å™¨å’Œè°ƒè¯•å™¨é—®é¢˜](https://blog.csdn.net/biggbang/article/details/124222839)
-   [Qtä¸­çš„å¥—ä»¶æç¤ºno complier set in kitå’Œno debuggerï¼Œå‡ºç°é»„è‰²æ„Ÿå¹å·é—®é¢˜è§£å†³ï¼ˆMSVC2017ï¼‰](https://blog.csdn.net/biggbang/article/details/124213810)
-   [Python+selenium è‡ªåŠ¨åŒ– - å®ç°è‡ªåŠ¨å¯¼å…¥ã€ä¸Šä¼ å¤–éƒ¨æ–‡ä»¶ï¼ˆä¸å¼¹å‡ºwindowsçª—å£ï¼‰](https://blog.csdn.net/huangbangqing12/article/details/123939242)

### ğŸš€ ä¼˜è´¨æ•™ç¨‹åˆ†äº« ğŸš€

-   ğŸ„å¦‚æœæ„Ÿè§‰æ–‡ç« çœ‹å®Œäº†ä¸è¿‡ç˜¾ï¼Œå¯ä»¥æ¥æˆ‘çš„å…¶ä»– ä¸“æ  çœ‹ä¸€ä¸‹å“¦~
-   ğŸ„æ¯”å¦‚ä»¥ä¸‹å‡ ä¸ªä¸“æ ï¼šPythonå®æˆ˜å¾®ä¿¡è®¢é¤å°ç¨‹åºã€Pythoné‡åŒ–äº¤æ˜“å®æˆ˜ã€C++ QTå®æˆ˜ç±»é¡¹ç›® å’Œ ç®—æ³•å­¦ä¹ ä¸“æ 
-   ğŸ„å¯ä»¥å­¦ä¹ æ›´å¤šçš„å…³äºC++/Pythonçš„ç›¸å…³å†…å®¹å“¦ï¼ç›´æ¥ç‚¹å‡»ä¸‹é¢é¢œè‰²å­—ä½“å°±å¯ä»¥è·³è½¬å•¦ï¼

| å­¦ä¹ è·¯çº¿æŒ‡å¼•ï¼ˆç‚¹å‡»è§£é”ï¼‰ | çŸ¥è¯†å®šä½ | äººç¾¤å®šä½ |
| --- | --- | --- |
| [ğŸ§¡ Pythonå®æˆ˜å¾®ä¿¡è®¢é¤å°ç¨‹åº ğŸ§¡](https://edu.csdn.net/course/detail/36074) | è¿›é˜¶çº§ | æœ¬è¯¾ç¨‹æ˜¯python flask+å¾®ä¿¡å°ç¨‹åºçš„å®Œç¾ç»“åˆï¼Œä»é¡¹ç›®æ­å»ºåˆ°è…¾è®¯äº‘éƒ¨ç½²ä¸Šçº¿ï¼Œæ‰“é€ ä¸€ä¸ªå…¨æ ˆè®¢é¤ç³»ç»Ÿã€‚ |
| ğŸ’›[Pythoné‡åŒ–äº¤æ˜“å®æˆ˜](https://download.csdn.net/course/detail/35475) ğŸ’› | å…¥é—¨çº§ | æ‰‹æŠŠæ‰‹å¸¦ä½ æ‰“é€ ä¸€ä¸ªæ˜“æ‰©å±•ã€æ›´å®‰å…¨ã€æ•ˆç‡æ›´é«˜çš„[é‡åŒ–äº¤æ˜“](https://so.csdn.net/so/search?q=%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93&spm=1001.2101.3001.7020)ç³»ç»Ÿ |
| â¤ï¸ [C++ QTç»“åˆFFmpegå®æˆ˜å¼€å‘è§†é¢‘æ’­æ”¾å™¨](https://blog.csdn.net/biggbang/category_11761704.html)â¤ï¸ | éš¾åº¦åé«˜ | åˆ†äº«å­¦ä¹ QTæˆå“çš„è§†é¢‘æ’­æ”¾å™¨æºç ï¼Œéœ€è¦æœ‰æ‰å®çš„C++çŸ¥è¯†ï¼ |
| ğŸ’š æ¸¸æˆçˆ±å¥½è€…ä¹ä¸‡äººç¤¾åŒºğŸ’š | äº’åŠ©/å¹æ°´ | ä¹ä¸‡äººæ¸¸æˆçˆ±å¥½è€…ç¤¾åŒºï¼ŒèŠå¤©äº’åŠ©ï¼Œç™½å«–å¥–å“ |
| ğŸ’™ Pythoné›¶åŸºç¡€åˆ°å…¥é—¨ ğŸ’™ | Pythonåˆå­¦è€… | é’ˆå¯¹æ²¡æœ‰ç»è¿‡ç³»ç»Ÿå­¦ä¹ çš„å°ä¼™ä¼´ï¼Œæ ¸å¿ƒç›®çš„å°±æ˜¯è®©æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿå­¦ä¹ Pythonçš„çŸ¥è¯†ä»¥è¾¾åˆ°å…¥é—¨ |

### ğŸš€ èµ„æ–™ç™½å«–ï¼Œ**æ¸©é¦¨æç¤º** ğŸš€

å…³æ³¨ä¸‹é¢å¡ç‰‡å³åˆ»è·å–æ›´å¤šç¼–ç¨‹çŸ¥è¯†ï¼ŒåŒ…æ‹¬å„ç§è¯­è¨€å­¦ä¹ èµ„æ–™ï¼Œä¸Šåƒå¥—PPTæ¨¡æ¿å’Œå„ç§æ¸¸æˆæºç ç´ æç­‰ç­‰èµ„æ–™ã€‚æ›´å¤šå†…å®¹å¯è‡ªè¡ŒæŸ¥çœ‹å“¦ï¼

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/979fe8e64bc2d040cf257d6726a3dc78.gif#pic_center)
